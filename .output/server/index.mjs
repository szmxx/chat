globalThis._importMeta_={url:import.meta.url,env:process.env};import e from"node:os";import n from"node:cluster";import a from"node:http";import c from"node:https";import d from"node:zlib";import p,{PassThrough as b,pipeline as y}from"node:stream";import{Buffer as v}from"node:buffer";import{promisify as j,deprecate as L,types as U}from"node:util";import{format as F,fileURLToPath as Z}from"node:url";import{isIP as Q}from"node:net";import{statSync as te,promises as le,createReadStream as me}from"node:fs";import{basename as ge}from"node:path";import{promises as we,existsSync as Te}from"fs";import{dirname as Be,resolve as qe,join as ze}from"path";const Vu=(...e)=>{};function Yu(e,n){n=n||{};const c=Object.assign({signals:"SIGINT SIGTERM",timeout:3e4,development:!1,forceExit:!0,onShutdown:e=>Promise.resolve(e),preShutdown:e=>Promise.resolve(e)},n);let d=!1;const p={};let b=0;const y={};let v=0,j=!1,L=!1;const U=c.signals.split(" ").map((e=>e.trim())).filter((e=>e.length>0));function w(e,n=!1){(e._isIdle&&d||n)&&(e.destroy(),e.server instanceof a.Server?delete p[e._connectionId]:delete y[e._connectionId])}function x(e=!1){for(const n of Object.keys(p)){const a=p[n],c=a._httpMessage;c&&!e?c.headersSent||c.setHeader("connection","close"):w(a)}for(const n of Object.keys(y)){const a=y[n],c=a._httpMessage;c&&!e?c.headersSent||c.setHeader("connection","close"):w(a)}}function E(n){if(c.development)return process.exit(0);function A(e){return 0===e?(Vu(`Could not close connections in time (${c.timeout}ms), will forcefully shut down`),Promise.resolve(!0)):0===Object.keys(p).length&&0===Object.keys(y).length?Promise.resolve(!1):new Promise((n=>{setTimeout((()=>{n(A(e-1))}),250)}))}return d?Promise.resolve():c.preShutdown(n).then((()=>{d=!0,x(),new Promise(((n,a)=>{e.close((e=>e?a(e):n(!0)))}))})).then((()=>A(c.timeout?Math.round(c.timeout/250):0))).then((e=>(e&&x(e),c.onShutdown(n)))).then((function(){return L||(L=!0,c.finally&&function(e){const n=Object.prototype.toString.call(e);return/^\[object\s([A-Za-z]+)?Function]$/.test(n)}(c.finally)&&c.finally()),Promise.resolve()})).catch((e=>{const n="string"==typeof e?e:JSON.stringify(e);throw j=!0,n}))}return function(){let e=!1;return(n,a,c)=>{function k(){if(!e)return e=!0,Reflect.apply(c,this,arguments)}for(const e of a)n.on(e,k)}}()(process,U,(e=>{E(e).then((()=>{c.forceExit&&process.exit(j?1:0)})).catch((e=>{process.exit(1)}))})),e.on("request",(function(e,n){e.socket._isIdle=!1,d&&!n.headersSent&&n.setHeader("connection","close"),n.on("finish",(function(){e.socket._isIdle=!0,w(e.socket)}))})),e.on("connection",(function(e){if(d)e.destroy();else{const n=b++;e._isIdle=!0,e._connectionId=n,p[n]=e,e.once("close",(()=>{delete p[e._connectionId]}))}})),e.on("secureConnection",(e=>{if(d)e.destroy();else{const n=v++;e._isIdle=!0,e._connectionId=n,y[n]=e,e.once("close",(()=>{delete y[e._connectionId]}))}})),process.on("close",(function(){})),function(){return E("manual")}}function bl(){return{disabled:!!process.env.NITRO_SHUTDOWN_DISABLED,signals:(process.env.NITRO_SHUTDOWN_SIGNALS||"SIGTERM SIGINT").split(" ").map((e=>e.trim())),timeout:Number.parseInt(process.env.NITRO_SHUTDOWN_TIMEOUT,10)||3e4,forceExit:!process.env.NITRO_SHUTDOWN_NO_FORCE_EXIT}}function Xu(e,n){const a=bl();a.disabled||Yu(e,{signals:a.signals.join(" "),timeout:a.timeout,forceExit:a.forceExit,onShutdown:async()=>{await new Promise((e=>{const c=setTimeout((()=>{console.warn("Graceful shutdown timeout, force exiting..."),e()}),a.timeout);n.hooks.callHook("close").catch((e=>{console.error(e)})).finally((()=>{clearTimeout(c),e()}))}))}})}const Ge=/#/g,Ke=/&/g,Ve=/=/g,Qe=/\+/g,nt=/%5e/gi,ot=/%60/gi,lt=/%7c/gi,ct=/%20/gi,ft=/%2f/gi;function rs(e){return function(e){return encodeURI(""+e).replace(lt,"|")}("string"==typeof e?e:JSON.stringify(e)).replace(Qe,"%2B").replace(ct,"+").replace(Ge,"%23").replace(Ke,"%26").replace(ot,"`").replace(nt,"^")}function ns(e){return rs(e).replace(Ve,"%3D")}function Rr(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function uf(e){return Rr(e.replace(Qe," "))}function ff(e){return Rr(e.replace(Qe," "))}function os(e=""){const n={};"?"===e[0]&&(e=e.slice(1));for(const a of e.split("&")){const e=a.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;const c=uf(e[1]);if("__proto__"===c||"constructor"===c)continue;const d=ff(e[2]||"");void 0===n[c]?n[c]=d:Array.isArray(n[c])?n[c].push(d):n[c]=[n[c],d]}return n}function hf(e){return Object.keys(e).filter((n=>void 0!==e[n])).map((n=>function(e,n){return("number"==typeof n||"boolean"==typeof n)&&(n=String(n)),n?Array.isArray(n)?n.map((n=>`${ns(e)}=${rs(n)}`)).join("&"):`${ns(e)}=${rs(n)}`:ns(e)}(n,e[n]))).filter(Boolean).join("&")}const mt=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,_t=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,St=/^([/\\]\s*){2,}[^/\\]/;function jt(e,n={}){return"boolean"==typeof n&&(n={acceptRelative:n}),n.strict?mt.test(e):_t.test(e)||!!n.acceptRelative&&St.test(e)}const xt=/^[\s\0]*(blob|data|javascript|vbscript):$/i;function bf(e){return!!e&&xt.test(e)}const Ct=/\/$|\/\?/;function ss(e="",n=!1){return n?Ct.test(e):e.endsWith("/")}function Ot(e="",n=!1){if(!n)return(ss(e)?e.slice(0,-1):e)||"/";if(!ss(e,!0))return e||"/";const[a,...c]=e.split("?");return(a.slice(0,-1)||"/")+(c.length>0?`?${c.join("?")}`:"")}function kt(e="",n=!1){if(!n)return e.endsWith("/")?e:e+"/";if(ss(e,!0))return e||"/";const[a,...c]=e.split("?");return a+"/"+(c.length>0?`?${c.join("?")}`:"")}function _l(e=""){return e.startsWith("/")}function _f(e=""){return(_l(e)?e.slice(1):e)||"/"}function Tr(e=""){return _l(e)?e:"/"+e}function xr(e,n){if(wl(n)||jt(e))return e;const a=Ot(n);return e.startsWith(a)?e:Se(a,e)}function as(e,n){if(wl(n))return e;const a=Ot(n);if(!e.startsWith(a))return e;const c=e.slice(a.length);return"/"===c[0]?c:"/"+c}function Bt(e,n){const a=fe(e),c={...os(a.search),...n};return a.search=hf(c),function(e){const n=e.pathname||"",a=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",c=e.hash||"",d=e.auth?e.auth+"@":"",p=e.host||"";return(e.protocol?e.protocol+"//":"")+d+p+n+a+c}(a)}function is(e){return os(fe(e).search)}function wl(e){return!e||"/"===e}const Et=/^\.?\//;function Se(e,...n){let a=e||"";for(const e of n.filter((e=>function(e){return e&&"/"!==e}(e))))if(a){const n=e.replace(Et,"");a=kt(a)+n}else a=e;return a}function Sl(e){return function(e,n){const a=e.match(_t);return a?n+e.slice(a[0].length):n+e}(e,"https://")}function Rf(e,n,a={}){return a.trailingSlash||(e=kt(e),n=kt(n)),a.leadingSlash||(e=Tr(e),n=Tr(n)),a.encoding||(e=Rr(e),n=Rr(n)),e===n}function fe(e="",n){const a=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/);if(a){const[,e,n=""]=a;return{protocol:e,pathname:n,href:e+n,auth:"",host:"",search:"",hash:""}}if(!jt(e,{acceptRelative:!0}))return n?fe(n+e):vl(e);const[,c="",d,p=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,b="",y=""]=p.match(/([^#/?]*)(.*)?/)||[],{pathname:v,search:j,hash:L}=vl(y.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:c,auth:d?d.slice(0,Math.max(0,d.length-1)):"",host:b,pathname:v,search:j,hash:L}}function vl(e=""){const[n="",a="",c=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:n,search:a,hash:c}}const At={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function ls(e={}){const n={options:e,rootNode:Tl(),staticRoutesMap:{}},r=n=>e.strictTrailingSlash?n:n.replace(/\/$/,"")||"/";if(e.routes)for(const a in e.routes)Rl(n,r(a),e.routes[a]);return{ctx:n,lookup:e=>function(e,n){const a=e.staticRoutesMap[n];if(a)return a.data;const c=n.split("/"),d={};let p=!1,b=null,y=e.rootNode,v=null;for(let e=0;e<c.length;e++){const n=c[e];null!==y.wildcardChildNode&&(b=y.wildcardChildNode,v=c.slice(e).join("/"));const a=y.children.get(n);if(void 0!==a)y=a;else{if(y=y.placeholderChildNode,null===y)break;d[y.paramName]=n,p=!0}}return(null===y||null===y.data)&&null!==b&&(y=b,d[y.paramName||"_"]=v,p=!0),y?p?{...y.data,params:p?d:void 0}:y.data:null}(n,r(e)),insert:(e,a)=>Rl(n,r(e),a),remove:e=>function(e,n){let a=!1;const c=n.split("/");let d=e.rootNode;for(const e of c)if(d=d.children.get(e),!d)return a;if(d.data){const e=c[c.length-1];if(d.data=null,0===Object.keys(d.children).length){const n=d.parent;n.children.delete(e),n.wildcardChildNode=null,n.placeholderChildNode=null}a=!0}return a}(n,r(e))}}function Rl(e,n,a){let c=!0;const d=n.split("/");let p=e.rootNode,b=0;for(const e of d){let n;if(n=p.children.get(e))p=n;else{const a=Ef(e);n=Tl({type:a,parent:p}),p.children.set(e,n),a===At.PLACEHOLDER?(n.paramName="*"===e?"_"+b++:e.slice(1),p.placeholderChildNode=n,c=!1):a===At.WILDCARD&&(p.wildcardChildNode=n,n.paramName=e.slice(3)||"_",c=!1),p=n}}return p.data=a,!0===c&&(e.staticRoutesMap[n]=p),p}function Tl(e={}){return{type:e.type||At.NORMAL,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildNode:null}}function Ef(e){return e.startsWith("**")?At.WILDCARD:":"===e[0]||"*"===e?At.PLACEHOLDER:At.NORMAL}function cs(e){return function(e){return{ctx:{table:e},matchAll:n=>xl(n,e)}}(El("",e.ctx.rootNode))}function xl(e,n){const a=[];for(const[c,d]of Cl(n.wildcard))e.startsWith(c)&&a.push(d);for(const[c,d]of Cl(n.dynamic))if(e.startsWith(c+"/")){const n="/"+e.slice(c.length).split("/").splice(2).join("/");a.push(...xl(n,d))}const c=n.static.get(e);return c&&a.push(c),a.filter(Boolean)}function Cl(e){return[...e.entries()].sort(((e,n)=>e[0].length-n[0].length))}function El(e,n){const a={static:new Map,wildcard:new Map,dynamic:new Map};return function o(e,n){if(e)if(n.type!==At.NORMAL||e.includes("*")||e.includes(":")){if(n.type===At.WILDCARD)a.wildcard.set(e.replace("/**",""),n.data);else if(n.type===At.PLACEHOLDER){const c=El("",n);return n.data&&c.static.set("/",n.data),void a.dynamic.set(e.replace(/\/\*|\/:\w+/,""),c)}}else a.static.set(e,n.data);for(const[a,c]of n.children.entries())o(`${e}/${a}`.replace("//","/"),c)}(e,n),a}const Pt=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Wt=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Mt=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function Bf(e,n){if(!("__proto__"===e||"constructor"===e&&n&&"object"==typeof n&&"prototype"in n))return n;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function Ie(e,n={}){if("string"!=typeof e)return e;const a=e.trim();if('"'===e[0]&&'"'===e[e.length-1])return a.slice(1,-1);if(a.length<=9){const e=a.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("undefined"===e)return;if("null"===e)return null;if("nan"===e)return Number.NaN;if("infinity"===e)return Number.POSITIVE_INFINITY;if("-infinity"===e)return Number.NEGATIVE_INFINITY}if(!Mt.test(e)){if(n.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Pt.test(e)||Wt.test(e)){if(n.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Bf)}return JSON.parse(e)}catch(a){if(n.strict)throw a;return e}}function us(e){return null!==e&&"object"==typeof e}function fs(e,n,a=".",c){if(!us(n))return fs(e,{},a,c);const d=Object.assign({},n);for(const n in e){if("__proto__"===n||"constructor"===n)continue;const p=e[n];null!=p&&(c&&c(d,n,p,a)||(Array.isArray(p)&&Array.isArray(d[n])?d[n]=[...p,...d[n]]:us(p)&&us(d[n])?d[n]=fs(p,d[n],(a?`${a}.`:"")+n.toString(),c):d[n]=p))}return d}function Pl(e){return(...n)=>n.reduce(((n,a)=>fs(n,a,"",e)),{})}const Lt=Pl(),zt=Pl(((e,n,a)=>{if(typeof e[n]<"u"&&"function"==typeof a)return e[n]=a(e[n]),!0}));function X(e){throw new Error(`[unenv] ${e} is not implemented yet!`)}let Dt=10,Ht=class{__unenv__=!0;_events=Object.create(null);_maxListeners;static get defaultMaxListeners(){return Dt}static set defaultMaxListeners(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Dt=e}setMaxListeners(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this}getMaxListeners(){return kl(this)}emit(e,...n){if(!this._events[e]||0===this._events[e].length)return!1;if("error"===e){let e;if(n.length>0&&(e=n[0]),e instanceof Error)throw e;const a=new Error("Unhandled error."+(e?" ("+e.message+")":""));throw a.context=e,a}for(const a of this._events[e])(a.listener||a).apply(this,n);return!0}addListener(e,n){return ds(this,e,n,!1)}on(e,n){return ds(this,e,n,!1)}prependListener(e,n){return ds(this,e,n,!0)}once(e,n){return this.on(e,Ol(this,e,n))}prependOnceListener(e,n){return this.prependListener(e,Ol(this,e,n))}removeListener(e,n){return function(e,n,a){if(Il(a),!e._events[n]||0===e._events[n].length)return e;const c=e._events[n].length;return e._events[n]=e._events[n].filter((e=>e!==a)),c===e._events[n].length||(e._events.removeListener&&e.emit("removeListener",n,a.listener||a),0===e._events[n].length&&delete e._events[n]),e}(this,e,n)}off(e,n){return this.removeListener(e,n)}removeAllListeners(e){return function(e,n){if(!e._events[n]||0===e._events[n].length)return e;if(e._events.removeListener)for(const a of e._events[n])e.emit("removeListener",n,a.listener||a);return delete e._events[n],e}(this,e)}listeners(e){return Bl(this,e,!0)}rawListeners(e){return Bl(this,e,!1)}listenerCount(e){return this.rawListeners(e).length}eventNames(){return Object.keys(this._events)}};function ds(e,n,a,c){Il(a),void 0!==e._events.newListener&&e.emit("newListener",n,a.listener||a),e._events[n]||(e._events[n]=[]),c?e._events[n].unshift(a):e._events[n].push(a);const d=kl(e);if(d>0&&e._events[n].length>d&&!e._events[n].warned){e._events[n].warned=!0;const a=new Error(`[unenv] Possible EventEmitter memory leak detected. ${e._events[n].length} ${n} listeners added. Use emitter.setMaxListeners() to increase limit`);a.name="MaxListenersExceededWarning",a.emitter=e,a.type=n,a.count=e._events[n]?.length,console.warn(a)}return e}function Ol(e,n,a){let c=!1;const s=(...d)=>{if(!c)return e.removeListener(n,s),c=!0,0===d.length?a.call(e):a.apply(e,d)};return s.listener=a,s}function kl(e){return e._maxListeners??Ht.defaultMaxListeners}function Bl(e,n,a){let c=e._events[n];return"function"==typeof c&&(c=[c]),a?c.map((e=>e.listener||e)):c}function Il(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}const Zt=globalThis.EventEmitter||Ht;class ga extends Zt{__unenv__=!0;readableEncoding=null;readableEnded=!0;readableFlowing=!1;readableHighWaterMark=0;readableLength=0;readableObjectMode=!1;readableAborted=!1;readableDidRead=!1;closed=!1;errored=null;readable=!1;destroyed=!1;static from(e,n){return new ga(n)}constructor(e){super()}_read(e){}read(e){}setEncoding(e){return this}pause(){return this}resume(){return this}isPaused(){return!0}unpipe(e){return this}unshift(e,n){}wrap(e){return this}push(e,n){return!1}_destroy(e,n){this.removeAllListeners()}destroy(e){return this.destroyed=!0,this._destroy(e),this}pipe(e,n){return{}}compose(e,n){throw new Error("[unenv] Method not implemented.")}[Symbol.asyncDispose](){return this.destroy(),Promise.resolve()}async*[Symbol.asyncIterator](){throw X("Readable.asyncIterator")}iterator(e){throw X("Readable.iterator")}map(e,n){throw X("Readable.map")}filter(e,n){throw X("Readable.filter")}forEach(e,n){throw X("Readable.forEach")}reduce(e,n,a){throw X("Readable.reduce")}find(e,n){throw X("Readable.find")}findIndex(e,n){throw X("Readable.findIndex")}some(e,n){throw X("Readable.some")}toArray(e){throw X("Readable.toArray")}every(e,n){throw X("Readable.every")}flatMap(e,n){throw X("Readable.flatMap")}drop(e,n){throw X("Readable.drop")}take(e,n){throw X("Readable.take")}asIndexedPairs(e){throw X("Readable.asIndexedPairs")}}const er=globalThis.Readable||ga;const or=globalThis.Writable||class extends Zt{__unenv__=!0;writable=!0;writableEnded=!1;writableFinished=!1;writableHighWaterMark=0;writableLength=0;writableObjectMode=!1;writableCorked=0;closed=!1;errored=null;writableNeedDrain=!1;destroyed=!1;_data;_encoding="utf-8";constructor(e){super()}pipe(e,n){return{}}_write(e,n,a){if(this.writableEnded)a&&a();else{if(void 0===this._data)this._data=e;else{const a="string"==typeof this._data?Buffer.from(this._data,this._encoding||n||"utf8"):this._data,c="string"==typeof e?Buffer.from(e,n||this._encoding||"utf8"):e;this._data=Buffer.concat([a,c])}this._encoding=n,a&&a()}}_writev(e,n){}_destroy(e,n){}_final(e){}write(e,n,a){const c="string"==typeof n?this._encoding:"utf-8",d="function"==typeof n?n:"function"==typeof a?a:void 0;return this._write(e,c,d),!0}setDefaultEncoding(e){return this}end(e,n,a){const c="function"==typeof e?e:"function"==typeof n?n:"function"==typeof a?a:void 0;if(this.writableEnded)return c&&c(),this;const d=e===c?void 0:e;if(d){const e=n===c?void 0:n;this.write(d,e,c)}return this.writableEnded=!0,this.writableFinished=!0,this.emit("close"),this.emit("finish"),this}cork(){}uncork(){}destroy(e){return this.destroyed=!0,delete this._data,this.removeAllListeners(),this}compose(e,n){throw new Error("[h3] Method not implemented.")}},ir=class{allowHalfOpen=!0;_destroy;constructor(e=new er,n=new or){Object.assign(this,e),Object.assign(this,n),this._destroy=function(...e){return function(...n){for(const a of e)a(...n)}}(e._destroy,n._destroy)}};const wr=(Object.assign(ir.prototype,er.prototype),Object.assign(ir.prototype,or.prototype),ir),Er=globalThis.Duplex||wr;class Hf extends Er{__unenv__=!0;bufferSize=0;bytesRead=0;bytesWritten=0;connecting=!1;destroyed=!1;pending=!1;localAddress="";localPort=0;remoteAddress="";remoteFamily="";remotePort=0;readyState="readOnly";constructor(e){super()}write(e,n,a){return!1}connect(e,n,a){return this}end(e,n,a){return this}setEncoding(e){return this}pause(){return this}resume(){return this}setTimeout(e,n){return this}setNoDelay(e){return this}setKeepAlive(e,n){return this}address(){return{}}unref(){return this}ref(){return this}resetAndDestroy(){const e=new Error("ERR_SOCKET_CLOSED");return e.code="ERR_SOCKET_CLOSED",this.destroy(e),this}}class Ff extends er{__unenv__={};aborted=!1;httpVersion="1.1";httpVersionMajor=1;httpVersionMinor=1;complete=!0;connection;socket;headers={};trailers={};method="GET";url="/";statusCode=200;statusMessage="";closed=!1;errored=null;readable=!1;constructor(e){super(),this.socket=this.connection=e||new Hf}get rawHeaders(){return function(e){const n=[];for(const a in e)if(Array.isArray(e[a]))for(const c of e[a])n.push(a,c);else n.push(a,e[a]);return n}(this.headers)}get rawTrailers(){return[]}setTimeout(e,n){return this}get headersDistinct(){return Ml(this.headers)}get trailersDistinct(){return Ml(this.trailers)}}function Ml(e){const n={};for(const[a,c]of Object.entries(e))a&&(n[a]=(Array.isArray(c)?c:[c]).filter(Boolean));return n}class Kf extends or{__unenv__=!0;statusCode=200;statusMessage="";upgrading=!1;chunkedEncoding=!1;shouldKeepAlive=!1;useChunkedEncodingByDefault=!1;sendDate=!1;finished=!1;headersSent=!1;strictContentLength=!1;connection=null;socket=null;req;_headers={};constructor(e){super(),this.req=e}assignSocket(e){e._httpMessage=this,this.socket=e,this.connection=e,this.emit("socket",e),this._flush()}_flush(){this.flushHeaders()}detachSocket(e){}writeContinue(e){}writeHead(e,n,a){e&&(this.statusCode=e),"string"==typeof n&&(this.statusMessage=n,n=void 0);const c=a||n;if(c&&!Array.isArray(c))for(const e in c)this.setHeader(e,c[e]);return this.headersSent=!0,this}writeProcessing(){}setTimeout(e,n){return this}appendHeader(e,n){e=e.toLowerCase();const a=this._headers[e],c=[...Array.isArray(a)?a:[a],...Array.isArray(n)?n:[n]].filter(Boolean);return this._headers[e]=c.length>1?c:c[0],this}setHeader(e,n){return this._headers[e.toLowerCase()]=n,this}getHeader(e){return this._headers[e.toLowerCase()]}getHeaders(){return this._headers}getHeaderNames(){return Object.keys(this._headers)}hasHeader(e){return e.toLowerCase()in this._headers}removeHeader(e){delete this._headers[e.toLowerCase()]}addTrailers(e){}flushHeaders(){}writeEarlyHints(e,n){"function"==typeof n&&n()}}function st(e,n){try{return n in e}catch{return!1}}var kr=Object.defineProperty,at=(e,n,a)=>(((e,n,a)=>{n in e?kr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a})(e,"symbol"!=typeof n?n+"":n,a),a);class gs extends Error{constructor(e,n={}){super(e,n),at(this,"statusCode",500),at(this,"fatal",!1),at(this,"unhandled",!1),at(this,"statusMessage"),at(this,"data"),at(this,"cause"),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:Le(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=Pr(this.statusMessage)),void 0!==this.data&&(e.data=this.data),e}}function de(e){if("string"==typeof e)return new gs(e);if(bs(e))return e;const n=new gs(e.message??e.statusMessage??"",{cause:e.cause||e});if(st(e,"stack"))try{Object.defineProperty(n,"stack",{get:()=>e.stack})}catch{try{n.stack=e.stack}catch{}}if(e.data&&(n.data=e.data),e.statusCode?n.statusCode=Le(e.statusCode,n.statusCode):e.status&&(n.statusCode=Le(e.status,n.statusCode)),e.statusMessage?n.statusMessage=e.statusMessage:e.statusText&&(n.statusMessage=e.statusText),n.statusMessage){const e=n.statusMessage;Pr(n.statusMessage)!==e&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return void 0!==e.fatal&&(n.fatal=e.fatal),void 0!==e.unhandled&&(n.unhandled=e.unhandled),n}function bs(e){return!0===e?.constructor?.__h3_error__}function it(e){return is(e.path||"")}function Rn(e){const n={};for(const a in e.node.req.headers){const c=e.node.req.headers[a];n[a]=Array.isArray(c)?c.filter(Boolean).join(", "):c}return n}function Cr(e,n){return Rn(e)[n.toLowerCase()]}at(gs,"__h3_error__",!0);const jr=Cr;function Wl(e,n={}){if(n.xForwardedHost){const n=e.node.req.headers["x-forwarded-host"];if(n)return n}return e.node.req.headers.host||"localhost"}function zl(e,n={}){return!1!==n.xForwardedProto&&"https"===e.node.req.headers["x-forwarded-proto"]||e.node.req.connection?.encrypted?"https":"http"}const Or=Symbol.for("h3RawBody"),Br=Symbol.for("h3ParsedBody"),qr=["PATCH","POST","PUT","DELETE"];function Dl(e,n="utf8"){!function(e,n,a){if(!function(e,n,a){if(a&&"HEAD"===e.method)return!0;if("string"==typeof n){if(e.method===n)return!0}else if(n.includes(e.method))return!0;return!1}(e,n,a))throw de({statusCode:405,statusMessage:"HTTP method is not allowed."})}(e,qr);const a=e._requestBody||e.web?.request?.body||e.node.req[Or]||e.node.req.body;if(a){const e=Promise.resolve(a).then((e=>Buffer.isBuffer(e)?e:"function"==typeof e.pipeTo?new Promise(((n,a)=>{const c=[];e.pipeTo(new WritableStream({write(e){c.push(e)},close(){n(Buffer.concat(c))},abort(e){a(e)}})).catch(a)})):"function"==typeof e.pipe?new Promise(((n,a)=>{const c=[];e.on("data",(e=>{c.push(e)})).on("end",(()=>{n(Buffer.concat(c))})).on("error",a)})):e.constructor===Object?Buffer.from(JSON.stringify(e)):Buffer.from(e)));return n?e.then((e=>e.toString(n))):e}if(!Number.parseInt(e.node.req.headers["content-length"]||""))return Promise.resolve(void 0);const c=e.node.req[Or]=new Promise(((n,a)=>{const c=[];e.node.req.on("error",(e=>{a(e)})).on("data",(e=>{c.push(e)})).on("end",(()=>{n(Buffer.concat(c))}))}));return n?c.then((e=>e.toString(n))):c}async function Jf(e,n={}){const a=e.node.req;if(st(a,Br))return a[Br];const c=a.headers["content-type"]||"",d=await Dl(e);let p;return p="application/json"===c?Nl(d,n.strict??!0):c.startsWith("application/x-www-form-urlencoded")?function(e){const n=new URLSearchParams(e),a=Object.create(null);for(const[e,c]of n.entries())st(a,e)?(Array.isArray(a[e])||(a[e]=[a[e]]),a[e].push(c)):a[e]=c;return a}(d):c.startsWith("text/")?d:Nl(d,n.strict??!1),a[Br]=p,p}function Nl(e="",n){if(e)try{return Ie(e,{strict:n})}catch{throw de({statusCode:400,statusMessage:"Bad Request",message:"Invalid JSON body"})}}function Ul(e,n){const a=["public",...n.cacheControls||[]];let c=!1;if(void 0!==n.maxAge&&a.push("max-age="+ +n.maxAge,"s-maxage="+ +n.maxAge),n.modifiedTime){const a=new Date(n.modifiedTime),d=e.node.req.headers["if-modified-since"];e.node.res.setHeader("last-modified",a.toUTCString()),d&&new Date(d)>=n.modifiedTime&&(c=!0)}return n.etag&&(e.node.res.setHeader("etag",n.etag),e.node.req.headers["if-none-match"]===n.etag&&(c=!0)),e.node.res.setHeader("cache-control",a.join(", ")),!!c&&(e.node.res.statusCode=304,e.handled||e.node.res.end(),!0)}const bn={html:"text/html",json:"application/json"},yn=/[^\u0009\u0020-\u007E]/g;function Pr(e=""){return e.replace(yn,"")}function Le(e,n=200){return!e||("string"==typeof e&&(e=Number.parseInt(e,10)),e<100||e>999)?n:e}function Tn(e){if(Array.isArray(e))return e.flatMap((e=>Tn(e)));if("string"!=typeof e)return[];const n=[];let a,c,d,p,b,y=0;const m=()=>{for(;y<e.length&&/\s/.test(e.charAt(y));)y+=1;return y<e.length};for(;y<e.length;){for(a=y,b=!1;m();)if(c=e.charAt(y),","===c){for(d=y,y+=1,m(),p=y;y<e.length&&(c=e.charAt(y),"="!==c&&";"!==c&&","!==c);)y+=1;y<e.length&&"="===e.charAt(y)?(b=!0,y=p,n.push(e.slice(a,d)),a=y):y=d+1}else y+=1;(!b||y>=e.length)&&n.push(e.slice(a,e.length))}return n}const wn=typeof setImmediate>"u"?e=>e():setImmediate;function ve(e,n,a){return a&&function(e,n){n&&!e.node.res.getHeader("content-type")&&e.node.res.setHeader("content-type",n)}(e,a),new Promise((a=>{wn((()=>{e.handled||e.node.res.end(n),a()}))}))}function It(e,n,a){n&&(e.node.res.statusCode=Le(n,e.node.res.statusCode)),a&&(e.node.res.statusMessage=Pr(a))}function sd(e){return e.node.res.statusCode}function ad(e){return e.node.res.statusMessage}function _s(e,n,a=302){e.node.res.statusCode=Le(a,e.node.res.statusCode),e.node.res.setHeader("location",n);return ve(e,`<!DOCTYPE html><html><head><meta http-equiv="refresh" content="0; url=${n.replace(/"/g,"%22")}"></head></html>`,bn.html)}function Ar(e,n){return e.node.res.getHeader(n)}function Hl(e,n){for(const[a,c]of Object.entries(n))e.node.res.setHeader(a,c)}const _n=Hl;function he(e,n,a){e.node.res.setHeader(n,a)}const vn=he;function ws(e,n){if(!n||"object"!=typeof n)throw new Error("[h3] Invalid stream provided.");if(e.node.res._data=n,!e.node.res.socket)return e._handled=!0,Promise.resolve();if(st(n,"pipeTo")&&"function"==typeof n.pipeTo)return n.pipeTo(new WritableStream({write(n){e.node.res.write(n)}})).then((()=>{e.node.res.end()}));if(st(n,"pipe")&&"function"==typeof n.pipe)return new Promise(((a,c)=>{n.pipe(e.node.res),n.on&&(n.on("end",(()=>{e.node.res.end(),a()})),n.on("error",(e=>{c(e)}))),e.node.res.on("close",(()=>{n.abort&&n.abort()}))}));throw new Error("[h3] Invalid or incompatible stream provided.")}function Fl(e,n){for(const[a,c]of n.headers)"set-cookie"===a?e.node.res.appendHeader(a,Tn(c)):e.node.res.setHeader(a,c);if(n.status&&(e.node.res.statusCode=Le(n.status,e.node.res.statusCode)),n.statusText&&(e.node.res.statusMessage=Pr(n.statusText)),n.redirected&&e.node.res.setHeader("location",n.url),n.body)return ws(e,n.body);e.node.res.end()}const Sn=new Set(["PATCH","POST","PUT","DELETE"]),xn=new Set(["transfer-encoding","connection","keep-alive","upgrade","expect","host"]);async function pd(e,n,a={}){let c,d;Sn.has(e.method)&&(a.streamRequest?(c=function(e){if(qr.includes(e.method))return e.web?.request?.body||e._requestBody||new ReadableStream({start:n=>{e.node.req.on("data",(e=>{n.enqueue(e)})),e.node.req.on("end",(()=>{n.close()})),e.node.req.on("error",(e=>{n.error(e)}))}})}(e),d="half"):c=await Dl(e,!1).catch((()=>{})));const p=a.fetchOptions?.method||e.method,b=function(e,...n){const a=n.filter(Boolean);if(0===a.length)return e;const c=new Headers(e);for(const e of a)for(const[n,a]of Object.entries(e))void 0!==a&&c.set(n,a);return c}(Kl(e),a.fetchOptions?.headers,a.headers);return async function(e,n,a={}){const c=await Ql(a.fetch)(n,{headers:a.headers,ignoreResponseError:!0,...a.fetchOptions});e.node.res.statusCode=Le(c.status,e.node.res.statusCode),e.node.res.statusMessage=Pr(c.statusText);const d=[];for(const[n,a]of c.headers.entries())if("content-encoding"!==n&&"content-length"!==n){if("set-cookie"===n){d.push(...Tn(a));continue}e.node.res.setHeader(n,a)}if(d.length>0&&e.node.res.setHeader("set-cookie",d.map((e=>(a.cookieDomainRewrite&&(e=Gl(e,a.cookieDomainRewrite,"domain")),a.cookiePathRewrite&&(e=Gl(e,a.cookiePathRewrite,"path")),e)))),a.onResponse&&await a.onResponse(e,c),void 0!==c._data)return c._data;if(!e.handled){if(!1===a.sendStream){const n=new Uint8Array(await c.arrayBuffer());return e.node.res.end(n)}if(c.body)for await(const n of c.body)e.node.res.write(n);return e.node.res.end()}}(e,n,{...a,fetchOptions:{method:p,body:c,duplex:d,...a.fetchOptions,headers:b}})}function Kl(e){const n=Object.create(null),a=Rn(e);for(const e in a)xn.has(e)||(n[e]=a[e]);return n}function Zl(e,n,a,c){return Ql(c?.fetch)(n,{...a,context:a?.context||e.context,headers:{...Kl(e),...a?.headers}})}function Ql(e){if(e)return e;if(globalThis.fetch)return globalThis.fetch;throw new Error("fetch is not available. Try importing `node-fetch-native/polyfill` for Node.js.")}function Gl(e,n,a){const c="string"==typeof n?{"*":n}:n;return e.replace(new RegExp(`(;\\s*${a}=)([^;]+)`,"gi"),((e,n,a)=>{let d;if(a in c)d=c[a];else{if(!("*"in c))return e;d=c["*"]}return d?n+d:""}))}var Cn=Object.defineProperty,Me=(e,n,a)=>(((e,n,a)=>{n in e?Cn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a})(e,"symbol"!=typeof n?n+"":n,a),a);class _d{constructor(e,n){Me(this,"__is_event__",!0),Me(this,"node"),Me(this,"web"),Me(this,"context",{}),Me(this,"_method"),Me(this,"_path"),Me(this,"_headers"),Me(this,"_requestBody"),Me(this,"_handled",!1),this.node={req:e,res:n}}get method(){return this._method||(this._method=(this.node.req.method||"GET").toUpperCase()),this._method}get path(){return this._path||this.node.req.url||"/"}get headers(){return this._headers||(this._headers=function(e){const n=new Headers;for(const[a,c]of Object.entries(e))if(Array.isArray(c))for(const e of c)n.append(a,e);else c&&n.set(a,c);return n}(this.node.req.headers)),this._headers}get handled(){return this._handled||this.node.res.writableEnded||this.node.res.headersSent}respondWith(e){return Promise.resolve(e).then((e=>Fl(this,e)))}toString(){return`[${this.method}] ${this.path}`}toJSON(){return this.toString()}get req(){return this.node.req}get res(){return this.node.res}}function Vl(e){return st(e,"__is_event__")}function Yl(e,n){return new _d(e,n)}function Re(e){if("function"==typeof e)return Object.assign(e,{__is_handler__:!0});const n={onRequest:Xl(e.onRequest),onBeforeResponse:Xl(e.onBeforeResponse)};return Object.assign((a=>async function(e,n,a){if(a.onRequest)for(const n of a.onRequest)if(await n(e),e.handled)return;const c={body:await n(e)};if(a.onBeforeResponse)for(const n of a.onBeforeResponse)await n(e,c);return c.body}(a,e.handler,n)),{__is_handler__:!0})}function Xl(e){return e?Array.isArray(e)?e:[e]:void 0}const En=Re;function Jl(e){return st(e,"__is_handler__")}function Ss(e,n,a){return Jl(e)||console.warn("[h3] Implicit event handler conversion is deprecated. Use `eventHandler()` or `fromNodeMiddleware()` to define event handlers.",a&&"/"!==a?`\n     Route: ${a}`:"",`\n     Handler: ${e}`),e}const ec=function(e){let n,a;return En((c=>a?a(c):(a?Promise.resolve(a):(n||(n=Promise.resolve(e()).then((e=>{const n=e.default||e;if("function"!=typeof n)throw new TypeError("Invalid lazy handler result. It should be a function:",n);return a=Ss(e.default||e),a}))),n)).then((e=>e(c)))))};function Rd(e={}){const n=[],a=function(e,n){const a=n.debug?2:void 0;return En((async c=>{c.node.req.originalUrl=c.node.req.originalUrl||c.node.req.url||"/";const d=c._path||c.node.req.url||"/";let p;n.onRequest&&await n.onRequest(c);for(const b of e){if(b.route.length>1){if(!d.startsWith(b.route))continue;p=d.slice(b.route.length)||"/"}else p=d;if(b.match&&!b.match(p,c))continue;c._path=p,c.node.req.url=p;const e=await b.handler(c),y=void 0===e?void 0:await e;if(void 0!==y){const e={body:y};return n.onBeforeResponse&&await n.onBeforeResponse(c,e),await xd(c,e.body,a),void(n.onAfterResponse&&await n.onAfterResponse(c,e))}if(c.handled)return void(n.onAfterResponse&&await n.onAfterResponse(c,void 0))}if(!c.handled)throw de({statusCode:404,statusMessage:`Cannot find any path matching ${c.path||"/"}.`});n.onAfterResponse&&await n.onAfterResponse(c,void 0)}))}(n,e),c={use:(e,n,a)=>vs(c,e,n,a),handler:a,stack:n,options:e};return c}function vs(e,n,a,c){if(Array.isArray(n))for(const d of n)vs(e,d,a,c);else if(Array.isArray(a))for(const d of a)vs(e,n,d,c);else"string"==typeof n?e.stack.push(Rs({...c,route:n,handler:a})):"function"==typeof n?e.stack.push(Rs({...a,route:"/",handler:n})):e.stack.push(Rs({...n}));return e}function Rs(e){let n=e.handler;return n.handler&&(n=n.handler),e.lazy?n=ec(n):Jl(n)||(n=Ss(n,0,e.route)),{route:Ot(e.route),match:e.match,handler:n}}function xd(e,n,a){if(null===n)return function(e,n){if(e.handled)return;const a=Le(n,204);204===a&&e.node.res.removeHeader("content-length"),e.node.res.writeHead(a),e.node.res.end()}(e);if(n){if(function(e){return typeof Response<"u"&&e instanceof Response}(n))return Fl(e,n);if(function(e){return!(!e||"object"!=typeof e||("function"!=typeof e.pipe||"function"!=typeof e._read&&"function"!=typeof e.abort)&&"function"!=typeof e.pipeTo)}(n))return ws(e,n);if(n.buffer)return ve(e,n);if(n.arrayBuffer&&"function"==typeof n.arrayBuffer)return n.arrayBuffer().then((a=>ve(e,Buffer.from(a),n.type)));if(n instanceof Error)throw de(n);if("function"==typeof n.end)return!0}const c=typeof n;if("string"===c)return ve(e,n,bn.html);if("object"===c||"boolean"===c||"number"===c)return ve(e,JSON.stringify(n,void 0,a),bn.json);if("bigint"===c)return ve(e,n.toString(),bn.json);throw de({statusCode:500,statusMessage:`[h3] Cannot send ${c} as response.`})}const kn=["connect","delete","get","head","options","post","put","trace","patch"];function tc(e){return async function(n,a){const c=Yl(n,a);try{await e.handler(c)}catch(n){const a=de(n);if(bs(n)||(a.unhandled=!0),e.options.onError&&await e.options.onError(a,c),c.handled)return;(a.unhandled||a.fatal)&&console.error("[h3]",a.fatal?"[fatal]":"[unhandled]",a),await function(e,n,a){if(e.handled)return;const c=bs(n)?n:de(n),d={statusCode:c.statusCode,statusMessage:c.statusMessage,stack:[],data:c.data};if(a&&(d.stack=(c.stack||"").split("\n").map((e=>e.trim()))),e.handled)return;It(e,Number.parseInt(c.statusCode),c.statusMessage),e.node.res.setHeader("content-type",bn.json),e.node.res.end(JSON.stringify(d,void 0,2))}(c,a,!!e.options.debug)}}}var An,jn,On,In,qn,Wn,Mn,Ln,zn,Dn,Yn,Kn,Vn,Jo=Object.defineProperty,l=(e,n)=>Jo(e,"name",{value:n,configurable:!0}),rc=(e,n,a)=>{if(!n.has(e))throw TypeError("Cannot "+a)},$=(e,n,a)=>(rc(e,n,"read from private field"),a?a.call(e):n.get(e)),We=(e,n,a)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,a)},pe=(e,n,a,c)=>(rc(e,n,"write to private field"),c?c.call(e,a):n.set(e,a),a);function nc(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const n=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===n||n<=4)throw new TypeError("malformed data: URI");const a=e.substring(5,n).split(";");let c="",d=!1;const p=a[0]||"text/plain";let b=p;for(let e=1;e<a.length;e++)"base64"===a[e]?d=!0:a[e]&&(b+=`;${a[e]}`,0===a[e].indexOf("charset=")&&(c=a[e].substring(8)));!a[0]&&!c.length&&(b+=";charset=US-ASCII",c="US-ASCII");const y=d?"base64":"ascii",v=unescape(e.substring(n+1)),j=Buffer.from(v,y);return j.type=p,j.typeFull=b,j.charset=c,j}l(nc,"dataUriToBuffer");var es=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof self<"u"?self:{};function oc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}l(oc,"getDefaultExportFromCjs");var ts,hs={exports:{}};function ac(){return ts||(ts=1,function(e){const n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function s(){}function i(){return typeof self<"u"?self:typeof es<"u"?es:void 0}l(s,"noop"),l(i,"getGlobals");const a=i();function h(e){return"object"==typeof e&&null!==e||"function"==typeof e}l(h,"typeIsObject");const c=s,d=Promise,p=Promise.prototype.then,b=Promise.resolve.bind(d),y=Promise.reject.bind(d);function _(e){return new d(e)}function w(e){return b(e)}function x(e){return y(e)}function E(e,n,a){return p.call(e,n,a)}function O(e,n,a){E(E(e,n,a),void 0,c)}function S(e,n){O(e,n)}function T(e,n){O(e,void 0,n)}function C(e,n,a){return E(e,n,a)}function A(e){E(e,void 0,c)}l(_,"newPromise"),l(w,"promiseResolvedWith"),l(x,"promiseRejectedWith"),l(E,"PerformPromiseThen"),l(O,"uponPromise"),l(S,"uponFulfillment"),l(T,"uponRejection"),l(C,"transformPromiseWith"),l(A,"setPromiseIsHandledToTrue");const v=(()=>{const e=a&&a.queueMicrotask;if("function"==typeof e)return e;const n=w(void 0);return e=>E(n,e)})();function N(e,n,a){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,a)}function D(e,n,a){try{return w(N(e,n,a))}catch(e){return x(e)}}l(N,"reflectCall"),l(D,"promiseCall");const j=16384,L=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const n=this._back;let a=n;n._elements.length===j-1&&(a={_elements:[],_next:void 0}),n._elements.push(e),a!==n&&(this._back=a,n._next=a),++this._size}shift(){const e=this._front;let n=e;const a=this._cursor;let c=a+1;const d=e._elements,p=d[a];return c===j&&(n=e._next,c=0),--this._size,this._cursor=c,e!==n&&(this._front=n),d[a]=void 0,p}forEach(e){let n=this._cursor,a=this._front,c=a._elements;for(;!(n===c.length&&void 0===a._next||n===c.length&&(a=a._next,c=a._elements,n=0,0===c.length));)e(c[n]),++n}peek(){const e=this._front,n=this._cursor;return e._elements[n]}};l(L,"SimpleQueue");let U=L;function Zn(e,n){e._ownerReadableStream=n,n._reader=e,"readable"===n._state?Nr(e):"closed"===n._state?ya(e):Qn(e,n._storedError)}function Dr(e,n){return se(e._ownerReadableStream,n)}function be(e){"readable"===e._ownerReadableStream._state?Ur(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):_a(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Xe(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Nr(e){e._closedPromise=_(((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a}))}function Qn(e,n){Nr(e),Ur(e,n)}function ya(e){Nr(e),Gn(e)}function Ur(e,n){void 0!==e._closedPromise_reject&&(A(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function _a(e,n){Qn(e,n)}function Gn(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}l(Zn,"ReadableStreamReaderGenericInitialize"),l(Dr,"ReadableStreamReaderGenericCancel"),l(be,"ReadableStreamReaderGenericRelease"),l(Xe,"readerLockException"),l(Nr,"defaultReaderClosedPromiseInitialize"),l(Qn,"defaultReaderClosedPromiseInitializeAsRejected"),l(ya,"defaultReaderClosedPromiseInitializeAsResolved"),l(Ur,"defaultReaderClosedPromiseReject"),l(_a,"defaultReaderClosedPromiseResetToRejected"),l(Gn,"defaultReaderClosedPromiseResolve");const F=n("[[AbortSteps]]"),Z=n("[[ErrorSteps]]"),Q=n("[[CancelSteps]]"),te=n("[[PullSteps]]"),le=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},me=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Ra(e){return"object"==typeof e||"function"==typeof e}function ye(e,n){if(void 0!==e&&!Ra(e))throw new TypeError(`${n} is not an object.`)}function ne(e,n){if("function"!=typeof e)throw new TypeError(`${n} is not a function.`)}function Ta(e){return"object"==typeof e&&null!==e||"function"==typeof e}function Xn(e,n){if(!Ta(e))throw new TypeError(`${n} is not an object.`)}function _e(e,n,a){if(void 0===e)throw new TypeError(`Parameter ${n} is required in '${a}'.`)}function Hr(e,n,a){if(void 0===e)throw new TypeError(`${n} is required in '${a}'.`)}function Fr(e){return Number(e)}function Jn(e){return 0===e?0:e}function xa(e){return Jn(me(e))}function eo(e,n){const a=Number.MAX_SAFE_INTEGER;let c=Number(e);if(c=Jn(c),!le(c))throw new TypeError(`${n} is not a finite number`);if(c=xa(c),c<0||c>a)throw new TypeError(`${n} is outside the accepted range of 0 to ${a}, inclusive`);return le(c)&&0!==c?c:0}function Kr(e,n){if(!Ae(e))throw new TypeError(`${n} is not a ReadableStream.`)}function Je(e){return new we(e)}function to(e,n){e._reader._readRequests.push(n)}function Zr(e,n,a){const c=e._reader._readRequests.shift();a?c._closeSteps():c._chunkSteps(n)}function Ut(e){return e._reader._readRequests.length}function ro(e){const n=e._reader;return!(void 0===n||!Ce(n))}l(Ra,"isDictionary"),l(ye,"assertDictionary"),l(ne,"assertFunction"),l(Ta,"isObject"),l(Xn,"assertObject"),l(_e,"assertRequiredArgument"),l(Hr,"assertRequiredField"),l(Fr,"convertUnrestrictedDouble"),l(Jn,"censorNegativeZero"),l(xa,"integerPart"),l(eo,"convertUnsignedLongLongWithEnforceRange"),l(Kr,"assertReadableStream"),l(Je,"AcquireReadableStreamDefaultReader"),l(to,"ReadableStreamAddReadRequest"),l(Zr,"ReadableStreamFulfillReadRequest"),l(Ut,"ReadableStreamGetNumReadRequests"),l(ro,"ReadableStreamHasDefaultReader");const ge=class{constructor(e){if(_e(e,1,"ReadableStreamDefaultReader"),Kr(e,"First parameter"),je(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Zn(this,e),this._readRequests=new U}get closed(){return Ce(this)?this._closedPromise:x(Ft("closed"))}cancel(e=void 0){return Ce(this)?void 0===this._ownerReadableStream?x(Xe("cancel")):Dr(this,e):x(Ft("cancel"))}read(){if(!Ce(this))return x(Ft("read"));if(void 0===this._ownerReadableStream)return x(Xe("read from"));let e,n;const a=_(((a,c)=>{e=a,n=c}));return ht(this,{_chunkSteps:n=>e({value:n,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>n(e)}),a}releaseLock(){if(!Ce(this))throw Ft("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");be(this)}}};l(ge,"ReadableStreamDefaultReader");let we=ge;function Ce(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests"))&&e instanceof we}function ht(e,n){const a=e._ownerReadableStream;a._disturbed=!0,"closed"===a._state?n._closeSteps():"errored"===a._state?n._errorSteps(a._storedError):a._readableStreamController[te](n)}function Ft(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(we.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(we.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),l(Ce,"IsReadableStreamDefaultReader"),l(ht,"ReadableStreamDefaultReaderRead"),l(Ft,"defaultReaderBrandCheckException");const Te=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype),Be=class{constructor(e,n){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=n}next(){const e=l((()=>this._nextSteps()),"nextSteps");return this._ongoingPromise=this._ongoingPromise?C(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const n=l((()=>this._returnSteps(e)),"returnSteps");return this._ongoingPromise?C(this._ongoingPromise,n,n):n()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return x(Xe("iterate"));let n,a;const c=_(((e,c)=>{n=e,a=c}));return ht(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,v((()=>n({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,be(e),n({value:void 0,done:!0})},_errorSteps:n=>{this._ongoingPromise=void 0,this._isFinished=!0,be(e),a(n)}}),c}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const n=this._reader;if(void 0===n._ownerReadableStream)return x(Xe("finish iterating"));if(!this._preventCancel){const a=Dr(n,e);return be(n),C(a,(()=>({value:e,done:!0})))}return be(n),w({value:e,done:!0})}};l(Be,"ReadableStreamAsyncIteratorImpl");let qe=Be;const ze={next(){return no(this)?this._asyncIteratorImpl.next():x(oo("next"))},return(e){return no(this)?this._asyncIteratorImpl.return(e):x(oo("return"))}};function Oa(e,n){const a=Je(e),c=new qe(a,n),d=Object.create(ze);return d._asyncIteratorImpl=c,d}function no(e){if(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof qe}catch{return!1}}function oo(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==Te&&Object.setPrototypeOf(ze,Te),l(Oa,"AcquireReadableStreamAsyncIterator"),l(no,"IsReadableStreamAsyncIterator"),l(oo,"streamAsyncIteratorBrandCheckException");const Ge=Number.isNaN||function(e){return e!=e};function pt(e){return e.slice()}function so(e,n,a,c,d){new Uint8Array(e).set(new Uint8Array(a,c,d),n)}function $u(e){return e}function Kt(e){return!1}function ao(e,n,a){if(e.slice)return e.slice(n,a);const c=a-n,d=new ArrayBuffer(c);return so(d,0,e,n,c),d}function Ba(e){return!("number"!=typeof e||Ge(e)||e<0)}function io(e){const n=ao(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function Qr(e){const n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function Gr(e,n,a){if(!Ba(a)||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:n,size:a}),e._queueTotalSize+=a}function Ia(e){return e._queue.peek().value}function Ee(e){e._queue=new U,e._queueTotalSize=0}l(pt,"CreateArrayFromList"),l(so,"CopyDataBlockBytes"),l($u,"TransferArrayBuffer"),l(Kt,"IsDetachedBuffer"),l(ao,"ArrayBufferSlice"),l(Ba,"IsNonNegativeNumber"),l(io,"CloneAsUint8Array"),l(Qr,"DequeueValue"),l(Gr,"EnqueueValueWithSize"),l(Ia,"PeekQueueValue"),l(Ee,"ResetQueue");const Ke=class{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Vr(this))throw en("view");return this._view}respond(e){if(!Vr(this))throw en("respond");if(_e(e,1,"respond"),e=eo(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");Kt(this._view.buffer),Xt(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!Vr(this))throw en("respondWithNewView");if(_e(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");Kt(e.buffer),Jt(this._associatedReadableByteStreamController,e)}};l(Ke,"ReadableStreamBYOBRequest");let Ve=Ke;Object.defineProperties(Ve.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Ve.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});const Qe=class{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!De(this))throw bt("byobRequest");return Jr(this)}get desiredSize(){if(!De(this))throw bt("desiredSize");return go(this)}close(){if(!De(this))throw bt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);gt(this)}enqueue(e){if(!De(this))throw bt("enqueue");if(_e(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const n=this._controlledReadableByteStream._state;if("readable"!==n)throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be enqueued to`);Yt(this,e)}error(e=void 0){if(!De(this))throw bt("error");oe(this,e)}[Q](e){lo(this),Ee(this);const n=this._cancelAlgorithm(e);return Vt(this),n}[te](e){const n=this._controlledReadableByteStream;if(this._queueTotalSize>0){const n=this._queue.shift();this._queueTotalSize-=n.byteLength,ho(this);const a=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);return void e._chunkSteps(a)}const a=this._autoAllocateChunkSize;if(void 0!==a){let n;try{n=new ArrayBuffer(a)}catch(n){return void e._errorSteps(n)}const c={buffer:n,bufferByteLength:a,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(c)}to(n,e),Ne(this)}};l(Qe,"ReadableByteStreamController");let nt=Qe;function De(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream"))&&e instanceof nt}function Vr(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController"))&&e instanceof Ve}function Ne(e){$a(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,O(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ne(e))}),(n=>{oe(e,n)}))))}function lo(e){Xr(e),e._pendingPullIntos=new U}function Yr(e,n){let a=!1;"closed"===e._state&&(a=!0);const c=co(n);"default"===n.readerType?Zr(e,c,a):Ua(e,c,a)}function co(e){const n=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,n/a)}function Qt(e,n,a,c){e._queue.push({buffer:n,byteOffset:a,byteLength:c}),e._queueTotalSize+=c}function uo(e,n){const a=n.elementSize,c=n.bytesFilled-n.bytesFilled%a,d=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),p=n.bytesFilled+d,b=p-p%a;let y=d,v=!1;b>c&&(y=b-n.bytesFilled,v=!0);const j=e._queue;for(;y>0;){const a=j.peek(),c=Math.min(y,a.byteLength),d=n.byteOffset+n.bytesFilled;so(n.buffer,d,a.buffer,a.byteOffset,c),a.byteLength===c?j.shift():(a.byteOffset+=c,a.byteLength-=c),e._queueTotalSize-=c,fo(e,c,n),y-=c}return v}function fo(e,n,a){a.bytesFilled+=n}function ho(e){0===e._queueTotalSize&&e._closeRequested?(Vt(e),Tt(e._controlledReadableByteStream)):Ne(e)}function Xr(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function po(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const n=e._pendingPullIntos.peek();uo(e,n)&&(Gt(e),Yr(e._controlledReadableByteStream,n))}}function Wa(e,n,a){const c=e._controlledReadableByteStream;let d=1;n.constructor!==DataView&&(d=n.constructor.BYTES_PER_ELEMENT);const p=n.constructor,b=n.buffer,y={buffer:b,bufferByteLength:b.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:d,viewConstructor:p,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(y),void _o(c,a);if("closed"!==c._state){if(e._queueTotalSize>0){if(uo(e,y)){const n=co(y);return ho(e),void a._chunkSteps(n)}if(e._closeRequested){const n=new TypeError("Insufficient bytes to fill elements in the given buffer");return oe(e,n),void a._errorSteps(n)}}e._pendingPullIntos.push(y),_o(c,a),Ne(e)}else{const e=new p(y.buffer,y.byteOffset,0);a._closeSteps(e)}}function za(e,n){const a=e._controlledReadableByteStream;if(tn(a))for(;wo(a)>0;)Yr(a,Gt(e))}function qa(e,n,a){if(fo(e,n,a),a.bytesFilled<a.elementSize)return;Gt(e);const c=a.bytesFilled%a.elementSize;if(c>0){const n=a.byteOffset+a.bytesFilled,d=ao(a.buffer,n-c,n);Qt(e,d,0,d.byteLength)}a.bytesFilled-=c,Yr(e._controlledReadableByteStream,a),po(e)}function mo(e,n){const a=e._pendingPullIntos.peek();Xr(e),"closed"===e._controlledReadableByteStream._state?za(e):qa(e,n,a),Ne(e)}function Gt(e){return e._pendingPullIntos.shift()}function $a(e){const n=e._controlledReadableByteStream;return!("readable"!==n._state||e._closeRequested||!e._started||!(ro(n)&&Ut(n)>0||tn(n)&&wo(n)>0||go(e)>0))}function Vt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function gt(e){const n=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===n._state){if(e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw oe(e,n),n}Vt(e),Tt(n)}}function Yt(e,n){const a=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==a._state)return;const c=n.buffer,d=n.byteOffset,p=n.byteLength,b=c;if(e._pendingPullIntos.length>0){const n=e._pendingPullIntos.peek();Kt(n.buffer),n.buffer=n.buffer}Xr(e),ro(a)?0===Ut(a)?Qt(e,b,d,p):(e._pendingPullIntos.length>0&&Gt(e),Zr(a,new Uint8Array(b,d,p),!1)):tn(a)?(Qt(e,b,d,p),po(e)):Qt(e,b,d,p),Ne(e)}function oe(e,n){const a=e._controlledReadableByteStream;"readable"===a._state&&(lo(e),Ee(e),Vt(e),No(a,n))}function Jr(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const n=e._pendingPullIntos.peek(),a=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),c=Object.create(Ve.prototype);Na(c,e,a),e._byobRequest=c}return e._byobRequest}function go(e){const n=e._controlledReadableByteStream._state;return"errored"===n?null:"closed"===n?0:e._strategyHWM-e._queueTotalSize}function Xt(e,n){const a=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==n)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+n>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,mo(e,n)}function Jt(e,n){const a=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==n.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+n.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const c=n.byteLength;a.buffer=n.buffer,mo(e,c)}function bo(e,n,a,c,d,p,b){n._controlledReadableByteStream=e,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,Ee(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=p,n._pullAlgorithm=c,n._cancelAlgorithm=d,n._autoAllocateChunkSize=b,n._pendingPullIntos=new U,e._readableStreamController=n,O(w(a()),(()=>{n._started=!0,Ne(n)}),(e=>{oe(n,e)}))}function Da(e,n,a){const c=Object.create(nt.prototype);let d=l((()=>{}),"startAlgorithm"),p=l((()=>w(void 0)),"pullAlgorithm"),b=l((()=>w(void 0)),"cancelAlgorithm");void 0!==n.start&&(d=l((()=>n.start(c)),"startAlgorithm")),void 0!==n.pull&&(p=l((()=>n.pull(c)),"pullAlgorithm")),void 0!==n.cancel&&(b=l((e=>n.cancel(e)),"cancelAlgorithm"));const y=n.autoAllocateChunkSize;if(0===y)throw new TypeError("autoAllocateChunkSize must be greater than 0");bo(e,c,d,p,b,a,y)}function Na(e,n,a){e._associatedReadableByteStreamController=n,e._view=a}function en(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function bt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function yo(e){return new lt(e)}function _o(e,n){e._reader._readIntoRequests.push(n)}function Ua(e,n,a){const c=e._reader._readIntoRequests.shift();a?c._closeSteps(n):c._chunkSteps(n)}function wo(e){return e._reader._readIntoRequests.length}function tn(e){const n=e._reader;return!(void 0===n||!Ue(n))}Object.defineProperties(nt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(nt.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0}),l(De,"IsReadableByteStreamController"),l(Vr,"IsReadableStreamBYOBRequest"),l(Ne,"ReadableByteStreamControllerCallPullIfNeeded"),l(lo,"ReadableByteStreamControllerClearPendingPullIntos"),l(Yr,"ReadableByteStreamControllerCommitPullIntoDescriptor"),l(co,"ReadableByteStreamControllerConvertPullIntoDescriptor"),l(Qt,"ReadableByteStreamControllerEnqueueChunkToQueue"),l(uo,"ReadableByteStreamControllerFillPullIntoDescriptorFromQueue"),l(fo,"ReadableByteStreamControllerFillHeadPullIntoDescriptor"),l(ho,"ReadableByteStreamControllerHandleQueueDrain"),l(Xr,"ReadableByteStreamControllerInvalidateBYOBRequest"),l(po,"ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue"),l(Wa,"ReadableByteStreamControllerPullInto"),l(za,"ReadableByteStreamControllerRespondInClosedState"),l(qa,"ReadableByteStreamControllerRespondInReadableState"),l(mo,"ReadableByteStreamControllerRespondInternal"),l(Gt,"ReadableByteStreamControllerShiftPendingPullInto"),l($a,"ReadableByteStreamControllerShouldCallPull"),l(Vt,"ReadableByteStreamControllerClearAlgorithms"),l(gt,"ReadableByteStreamControllerClose"),l(Yt,"ReadableByteStreamControllerEnqueue"),l(oe,"ReadableByteStreamControllerError"),l(Jr,"ReadableByteStreamControllerGetBYOBRequest"),l(go,"ReadableByteStreamControllerGetDesiredSize"),l(Xt,"ReadableByteStreamControllerRespond"),l(Jt,"ReadableByteStreamControllerRespondWithNewView"),l(bo,"SetUpReadableByteStreamController"),l(Da,"SetUpReadableByteStreamControllerFromUnderlyingSource"),l(Na,"SetUpReadableStreamBYOBRequest"),l(en,"byobRequestBrandCheckException"),l(bt,"byteStreamControllerBrandCheckException"),l(yo,"AcquireReadableStreamBYOBReader"),l(_o,"ReadableStreamAddReadIntoRequest"),l(Ua,"ReadableStreamFulfillReadIntoRequest"),l(wo,"ReadableStreamGetNumReadIntoRequests"),l(tn,"ReadableStreamHasBYOBReader");const ot=class{constructor(e){if(_e(e,1,"ReadableStreamBYOBReader"),Kr(e,"First parameter"),je(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!De(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Zn(this,e),this._readIntoRequests=new U}get closed(){return Ue(this)?this._closedPromise:x(tr("closed"))}cancel(e=void 0){return Ue(this)?void 0===this._ownerReadableStream?x(Xe("cancel")):Dr(this,e):x(tr("cancel"))}read(e){if(!Ue(this))return x(tr("read"));if(!ArrayBuffer.isView(e))return x(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return x(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return x(new TypeError("view's buffer must have non-zero byteLength"));if(Kt(e.buffer),void 0===this._ownerReadableStream)return x(Xe("read from"));let n,a;const c=_(((e,c)=>{n=e,a=c}));return So(this,e,{_chunkSteps:e=>n({value:e,done:!1}),_closeSteps:e=>n({value:e,done:!0}),_errorSteps:e=>a(e)}),c}releaseLock(){if(!Ue(this))throw tr("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");be(this)}}};l(ot,"ReadableStreamBYOBReader");let lt=ot;function Ue(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests"))&&e instanceof lt}function So(e,n,a){const c=e._ownerReadableStream;c._disturbed=!0,"errored"===c._state?a._errorSteps(c._storedError):Wa(c._readableStreamController,n,a)}function tr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function yt(e,n){const{highWaterMark:a}=e;if(void 0===a)return n;if(Ge(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function rr(e){const{size:n}=e;return n||(()=>1)}function nr(e,n){ye(e,n);const a=e?.highWaterMark,c=e?.size;return{highWaterMark:void 0===a?void 0:Fr(a),size:void 0===c?void 0:Fa(c,`${n} has member 'size' that`)}}function Fa(e,n){return ne(e,n),n=>Fr(e(n))}function Ka(e,n){ye(e,n);const a=e?.abort,c=e?.close,d=e?.start,p=e?.type,b=e?.write;return{abort:void 0===a?void 0:Za(a,e,`${n} has member 'abort' that`),close:void 0===c?void 0:Qa(c,e,`${n} has member 'close' that`),start:void 0===d?void 0:Ga(d,e,`${n} has member 'start' that`),write:void 0===b?void 0:Va(b,e,`${n} has member 'write' that`),type:p}}function Za(e,n,a){return ne(e,a),a=>D(e,n,[a])}function Qa(e,n,a){return ne(e,a),()=>D(e,n,[])}function Ga(e,n,a){return ne(e,a),a=>N(e,n,[a])}function Va(e,n,a){return ne(e,a),(a,c)=>D(e,n,[a,c])}function vo(e,n){if(!et(e))throw new TypeError(`${n} is not a WritableStream.`)}function Ya(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch{return!1}}Object.defineProperties(lt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(lt.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0}),l(Ue,"IsReadableStreamBYOBReader"),l(So,"ReadableStreamBYOBReaderRead"),l(tr,"byobReaderBrandCheckException"),l(yt,"ExtractHighWaterMark"),l(rr,"ExtractSizeAlgorithm"),l(nr,"convertQueuingStrategy"),l(Fa,"convertQueuingStrategySize"),l(Ka,"convertUnderlyingSink"),l(Za,"convertUnderlyingSinkAbortCallback"),l(Qa,"convertUnderlyingSinkCloseCallback"),l(Ga,"convertUnderlyingSinkStartCallback"),l(Va,"convertUnderlyingSinkWriteCallback"),l(vo,"assertWritableStream"),l(Ya,"isAbortSignal");const ct="function"==typeof AbortController;function Xa(){if(ct)return new AbortController}l(Xa,"createAbortController");const ft=class{constructor(e={},n={}){void 0===e?e=null:Xn(e,"First parameter");const a=nr(n,"Second parameter"),c=Ka(e,"First parameter");if(To(this),void 0!==c.type)throw new RangeError("Invalid type is specified");const d=rr(a);gi(this,c,yt(a,1),d)}get locked(){if(!et(this))throw ur("locked");return tt(this)}abort(e=void 0){return et(this)?tt(this)?x(new TypeError("Cannot abort a stream that already has a writer")):sr(this,e):x(ur("abort"))}close(){return et(this)?tt(this)?x(new TypeError("Cannot close a stream that already has a writer")):ce(this)?x(new TypeError("Cannot close an already-closing stream")):xo(this):x(ur("close"))}getWriter(){if(!et(this))throw ur("getWriter");return Ro(this)}};l(ft,"WritableStream");let mt=ft;function Ro(e){return new St(e)}function ei(e,n,a,c,d=1,p=(()=>1)){const b=Object.create(mt.prototype);return To(b),jo(b,Object.create(Et.prototype),e,n,a,c,d,p),b}function To(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new U,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function et(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController"))&&e instanceof mt}function tt(e){return void 0!==e._writer}function sr(e,n){var a;if("closed"===e._state||"errored"===e._state)return w(void 0);e._writableStreamController._abortReason=n,null===(a=e._writableStreamController._abortController)||void 0===a||a.abort();const c=e._state;if("closed"===c||"errored"===c)return w(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let d=!1;"erroring"===c&&(d=!0,n=void 0);const p=_(((a,c)=>{e._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:c,_reason:n,_wasAlreadyErroring:d}}));return e._pendingAbortRequest._promise=p,d||nn(e,n),p}function xo(e){const n=e._state;if("closed"===n||"errored"===n)return x(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));const a=_(((n,a)=>{const c={_resolve:n,_reject:a};e._closeRequest=c})),c=e._writer;return void 0!==c&&e._backpressure&&"writable"===n&&hn(c),bi(e._writableStreamController),a}function ti(e){return _(((n,a)=>{const c={_resolve:n,_reject:a};e._writeRequests.push(c)}))}function rn(e,n){"writable"!==e._state?on(e):nn(e,n)}function nn(e,n){const a=e._writableStreamController;e._state="erroring",e._storedError=n;const c=e._writer;void 0!==c&&Eo(c,n),!ai(e)&&a._started&&on(e)}function on(e){e._state="errored",e._writableStreamController[Z]();const n=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(n)})),e._writeRequests=new U,void 0===e._pendingAbortRequest)return void ar(e);const a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring)return a._reject(n),void ar(e);O(e._writableStreamController[F](a._reason),(()=>{a._resolve(),ar(e)}),(n=>{a._reject(n),ar(e)}))}function ri(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function ni(e,n){e._inFlightWriteRequest._reject(n),e._inFlightWriteRequest=void 0,rn(e,n)}function oi(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const n=e._writer;void 0!==n&&Io(n)}function si(e,n){e._inFlightCloseRequest._reject(n),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(n),e._pendingAbortRequest=void 0),rn(e,n)}function ce(e){return!(void 0===e._closeRequest&&void 0===e._inFlightCloseRequest)}function ai(e){return!(void 0===e._inFlightWriteRequest&&void 0===e._inFlightCloseRequest)}function ii(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function li(e){e._inFlightWriteRequest=e._writeRequests.shift()}function ar(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const n=e._writer;void 0!==n&&fn(n,e._storedError)}function sn(e,n){const a=e._writer;void 0!==a&&n!==e._backpressure&&(n?Ti(a):hn(a)),e._backpressure=n}Object.defineProperties(mt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(mt.prototype,n.toStringTag,{value:"WritableStream",configurable:!0}),l(Ro,"AcquireWritableStreamDefaultWriter"),l(ei,"CreateWritableStream"),l(To,"InitializeWritableStream"),l(et,"IsWritableStream"),l(tt,"IsWritableStreamLocked"),l(sr,"WritableStreamAbort"),l(xo,"WritableStreamClose"),l(ti,"WritableStreamAddWriteRequest"),l(rn,"WritableStreamDealWithRejection"),l(nn,"WritableStreamStartErroring"),l(on,"WritableStreamFinishErroring"),l(ri,"WritableStreamFinishInFlightWrite"),l(ni,"WritableStreamFinishInFlightWriteWithError"),l(oi,"WritableStreamFinishInFlightClose"),l(si,"WritableStreamFinishInFlightCloseWithError"),l(ce,"WritableStreamCloseQueuedOrInFlight"),l(ai,"WritableStreamHasOperationMarkedInFlight"),l(ii,"WritableStreamMarkCloseRequestInFlight"),l(li,"WritableStreamMarkFirstWriteRequestInFlight"),l(ar,"WritableStreamRejectCloseAndClosedPromiseIfNeeded"),l(sn,"WritableStreamUpdateBackpressure");const _t=class{constructor(e){if(_e(e,1,"WritableStreamDefaultWriter"),vo(e,"First parameter"),tt(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const n=e._state;if("writable"===n)!ce(e)&&e._backpressure?dr(this):Lo(this),fr(this);else if("erroring"===n)dn(this,e._storedError),fr(this);else if("closed"===n)Lo(this),vi(this);else{const n=e._storedError;dn(this,n),Bo(this,n)}}get closed(){return He(this)?this._closedPromise:x(Fe("closed"))}get desiredSize(){if(!He(this))throw Fe("desiredSize");if(void 0===this._ownerWritableStream)throw wt("desiredSize");return hi(this)}get ready(){return He(this)?this._readyPromise:x(Fe("ready"))}abort(e=void 0){return He(this)?void 0===this._ownerWritableStream?x(wt("abort")):ui(this,e):x(Fe("abort"))}close(){if(!He(this))return x(Fe("close"));const e=this._ownerWritableStream;return void 0===e?x(wt("close")):ce(e)?x(new TypeError("Cannot close an already-closing stream")):Co(this)}releaseLock(){if(!He(this))throw Fe("releaseLock");void 0!==this._ownerWritableStream&&Po(this)}write(e=void 0){return He(this)?void 0===this._ownerWritableStream?x(wt("write to")):Ao(this,e):x(Fe("write"))}};l(_t,"WritableStreamDefaultWriter");let St=_t;function He(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream"))&&e instanceof St}function ui(e,n){return sr(e._ownerWritableStream,n)}function Co(e){return xo(e._ownerWritableStream)}function fi(e){const n=e._ownerWritableStream,a=n._state;return ce(n)||"closed"===a?w(void 0):"errored"===a?x(n._storedError):Co(e)}function di(e,n){"pending"===e._closedPromiseState?fn(e,n):Ri(e,n)}function Eo(e,n){"pending"===e._readyPromiseState?Mo(e,n):xi(e,n)}function hi(e){const n=e._ownerWritableStream,a=n._state;return"errored"===a||"erroring"===a?null:"closed"===a?0:Oo(n._writableStreamController)}function Po(e){const n=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Eo(e,a),di(e,a),n._writer=void 0,e._ownerWritableStream=void 0}function Ao(e,n){const a=e._ownerWritableStream,c=a._writableStreamController,d=yi(c,n);if(a!==e._ownerWritableStream)return x(wt("write to"));const p=a._state;if("errored"===p)return x(a._storedError);if(ce(a)||"closed"===p)return x(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===p)return x(a._storedError);const b=ti(a);return _i(c,n,d),b}Object.defineProperties(St.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(St.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0}),l(He,"IsWritableStreamDefaultWriter"),l(ui,"WritableStreamDefaultWriterAbort"),l(Co,"WritableStreamDefaultWriterClose"),l(fi,"WritableStreamDefaultWriterCloseWithErrorPropagation"),l(di,"WritableStreamDefaultWriterEnsureClosedPromiseRejected"),l(Eo,"WritableStreamDefaultWriterEnsureReadyPromiseRejected"),l(hi,"WritableStreamDefaultWriterGetDesiredSize"),l(Po,"WritableStreamDefaultWriterRelease"),l(Ao,"WritableStreamDefaultWriterWrite");const xt={},Ct=class{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!an(this))throw un("abortReason");return this._abortReason}get signal(){if(!an(this))throw un("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!an(this))throw un("error");"writable"===this._controlledWritableStream._state&&ko(this,e)}[F](e){const n=this._abortAlgorithm(e);return lr(this),n}[Z](){Ee(this)}};l(Ct,"WritableStreamDefaultController");let Et=Ct;function an(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))&&e instanceof Et}function jo(e,n,a,c,d,p,b,y){n._controlledWritableStream=e,e._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,Ee(n),n._abortReason=void 0,n._abortController=Xa(),n._started=!1,n._strategySizeAlgorithm=y,n._strategyHWM=b,n._writeAlgorithm=c,n._closeAlgorithm=d,n._abortAlgorithm=p;const v=cn(n);sn(e,v),O(w(a()),(()=>{n._started=!0,cr(n)}),(a=>{n._started=!0,rn(e,a)}))}function gi(e,n,a,c){const d=Object.create(Et.prototype);let p=l((()=>{}),"startAlgorithm"),b=l((()=>w(void 0)),"writeAlgorithm"),y=l((()=>w(void 0)),"closeAlgorithm"),v=l((()=>w(void 0)),"abortAlgorithm");void 0!==n.start&&(p=l((()=>n.start(d)),"startAlgorithm")),void 0!==n.write&&(b=l((e=>n.write(e,d)),"writeAlgorithm")),void 0!==n.close&&(y=l((()=>n.close()),"closeAlgorithm")),void 0!==n.abort&&(v=l((e=>n.abort(e)),"abortAlgorithm")),jo(e,d,p,b,y,v,a,c)}function lr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function bi(e){Gr(e,xt,0),cr(e)}function yi(e,n){try{return e._strategySizeAlgorithm(n)}catch(n){return ln(e,n),1}}function Oo(e){return e._strategyHWM-e._queueTotalSize}function _i(e,n,a){try{Gr(e,n,a)}catch(n){return void ln(e,n)}const c=e._controlledWritableStream;ce(c)||"writable"!==c._state||sn(c,cn(e)),cr(e)}function cr(e){const n=e._controlledWritableStream;if(!e._started||void 0!==n._inFlightWriteRequest)return;if("erroring"===n._state)return void on(n);if(0===e._queue.length)return;const a=Ia(e);a===xt?wi(e):Si(e,a)}function ln(e,n){"writable"===e._controlledWritableStream._state&&ko(e,n)}function wi(e){const n=e._controlledWritableStream;ii(n),Qr(e);const a=e._closeAlgorithm();lr(e),O(a,(()=>{oi(n)}),(e=>{si(n,e)}))}function Si(e,n){const a=e._controlledWritableStream;li(a),O(e._writeAlgorithm(n),(()=>{ri(a);const n=a._state;if(Qr(e),!ce(a)&&"writable"===n){const n=cn(e);sn(a,n)}cr(e)}),(n=>{"writable"===a._state&&lr(e),ni(a,n)}))}function cn(e){return Oo(e)<=0}function ko(e,n){const a=e._controlledWritableStream;lr(e),nn(a,n)}function ur(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function un(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Fe(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function wt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function fr(e){e._closedPromise=_(((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a,e._closedPromiseState="pending"}))}function Bo(e,n){fr(e),fn(e,n)}function vi(e){fr(e),Io(e)}function fn(e,n){void 0!==e._closedPromise_reject&&(A(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ri(e,n){Bo(e,n)}function Io(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function dr(e){e._readyPromise=_(((n,a)=>{e._readyPromise_resolve=n,e._readyPromise_reject=a})),e._readyPromiseState="pending"}function dn(e,n){dr(e),Mo(e,n)}function Lo(e){dr(e),hn(e)}function Mo(e,n){void 0!==e._readyPromise_reject&&(A(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Ti(e){dr(e)}function xi(e,n){dn(e,n)}function hn(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Et.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Et.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0}),l(an,"IsWritableStreamDefaultController"),l(jo,"SetUpWritableStreamDefaultController"),l(gi,"SetUpWritableStreamDefaultControllerFromUnderlyingSink"),l(lr,"WritableStreamDefaultControllerClearAlgorithms"),l(bi,"WritableStreamDefaultControllerClose"),l(yi,"WritableStreamDefaultControllerGetChunkSize"),l(Oo,"WritableStreamDefaultControllerGetDesiredSize"),l(_i,"WritableStreamDefaultControllerWrite"),l(cr,"WritableStreamDefaultControllerAdvanceQueueIfNeeded"),l(ln,"WritableStreamDefaultControllerErrorIfNeeded"),l(wi,"WritableStreamDefaultControllerProcessClose"),l(Si,"WritableStreamDefaultControllerProcessWrite"),l(cn,"WritableStreamDefaultControllerGetBackpressure"),l(ko,"WritableStreamDefaultControllerError"),l(ur,"streamBrandCheckException$2"),l(un,"defaultControllerBrandCheckException$2"),l(Fe,"defaultWriterBrandCheckException"),l(wt,"defaultWriterLockException"),l(fr,"defaultWriterClosedPromiseInitialize"),l(Bo,"defaultWriterClosedPromiseInitializeAsRejected"),l(vi,"defaultWriterClosedPromiseInitializeAsResolved"),l(fn,"defaultWriterClosedPromiseReject"),l(Ri,"defaultWriterClosedPromiseResetToRejected"),l(Io,"defaultWriterClosedPromiseResolve"),l(dr,"defaultWriterReadyPromiseInitialize"),l(dn,"defaultWriterReadyPromiseInitializeAsRejected"),l(Lo,"defaultWriterReadyPromiseInitializeAsResolved"),l(Mo,"defaultWriterReadyPromiseReject"),l(Ti,"defaultWriterReadyPromiseReset"),l(xi,"defaultWriterReadyPromiseResetToRejected"),l(hn,"defaultWriterReadyPromiseResolve");const At=typeof DOMException<"u"?DOMException:void 0;function Ei(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch{return!1}}function Pi(){const e=l((function(e,n){this.message=e||"",this.name=n||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}),"DOMException");return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}l(Ei,"isDOMExceptionConstructor"),l(Pi,"createDOMExceptionPolyfill");const Pt=Ei(At)?At:Pi();function Wo(e,n,a,c,d,p){const b=Je(e),y=Ro(n);e._disturbed=!0;let v=!1,j=w(void 0);return _(((L,U)=>{let F;if(void 0!==p){if(F=l((()=>{const a=new Pt("Aborted","AbortError"),p=[];c||p.push((()=>"writable"===n._state?sr(n,a):w(void 0))),d||p.push((()=>"readable"===e._state?se(e,a):w(void 0))),V((()=>Promise.all(p.map((e=>e())))),!0,a)}),"abortAlgorithm"),p.aborted)return void F();p.addEventListener("abort",F)}function J(){return _(((e,n)=>{function z(a){a?e():E(Oe(),z,n)}l(z,"next"),z(!1)}))}function Oe(){return v?w(!0):E(y._readyPromise,(()=>_(((e,n)=>{ht(b,{_chunkSteps:n=>{j=E(Ao(y,n),void 0,s),e(!1)},_closeSteps:()=>e(!0),_errorSteps:n})}))))}if(l(J,"pipeLoop"),l(Oe,"pipeStep"),ae(e,b._closedPromise,(e=>{c?ee(!0,e):V((()=>sr(n,e)),!0,e)})),ae(n,y._closedPromise,(n=>{d?ee(!0,n):V((()=>se(e,n)),!0,n)})),H(e,b._closedPromise,(()=>{a?ee():V((()=>fi(y)))})),ce(n)||"closed"===n._state){const n=new TypeError("the destination writable stream closed before all data could be piped to it");d?ee(!0,n):V((()=>se(e,n)),!0,n)}function ue(){const e=j;return E(j,(()=>e!==j?ue():void 0))}function ae(e,n,a){"errored"===e._state?a(e._storedError):T(n,a)}function H(e,n,a){"closed"===e._state?a():S(n,a)}function V(e,a,c){function Y(){O(e(),(()=>ke(a,c)),(e=>ke(!0,e)))}v||(v=!0,"writable"!==n._state||ce(n)?Y():S(ue(),Y),l(Y,"doTheRest"))}function ee(e,a){v||(v=!0,"writable"!==n._state||ce(n)?ke(e,a):S(ue(),(()=>ke(e,a))))}function ke(e,n){Po(y),be(b),void 0!==p&&p.removeEventListener("abort",F),e?U(n):L(void 0)}A(J()),l(ue,"waitForWritesToFinish"),l(ae,"isOrBecomesErrored"),l(H,"isOrBecomesClosed"),l(V,"shutdownWithAction"),l(ee,"shutdown"),l(ke,"finalize")}))}l(Wo,"ReadableStreamPipeTo");const Wt=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!hr(this))throw gr("desiredSize");return pn(this)}close(){if(!hr(this))throw gr("close");if(!rt(this))throw new TypeError("The stream is not in a state that permits close");Rt(this)}enqueue(e=void 0){if(!hr(this))throw gr("enqueue");if(!rt(this))throw new TypeError("The stream is not in a state that permits enqueue");return mr(this,e)}error(e=void 0){if(!hr(this))throw gr("error");Pe(this,e)}[Q](e){Ee(this);const n=this._cancelAlgorithm(e);return pr(this),n}[te](e){const n=this._controlledReadableStream;if(this._queue.length>0){const a=Qr(this);this._closeRequested&&0===this._queue.length?(pr(this),Tt(n)):vt(this),e._chunkSteps(a)}else to(n,e),vt(this)}};l(Wt,"ReadableStreamDefaultController");let Mt=Wt;function hr(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream"))&&e instanceof Mt}function vt(e){zo(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,O(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,vt(e))}),(n=>{Pe(e,n)}))))}function zo(e){const n=e._controlledReadableStream;return!(!rt(e)||!e._started||!(je(n)&&Ut(n)>0||pn(e)>0))}function pr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Rt(e){if(!rt(e))return;const n=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(pr(e),Tt(n))}function mr(e,n){if(!rt(e))return;const a=e._controlledReadableStream;if(je(a)&&Ut(a)>0)Zr(a,n,!1);else{let a;try{a=e._strategySizeAlgorithm(n)}catch(n){throw Pe(e,n),n}try{Gr(e,n,a)}catch(n){throw Pe(e,n),n}}vt(e)}function Pe(e,n){const a=e._controlledReadableStream;"readable"===a._state&&(Ee(e),pr(e),No(a,n))}function pn(e){const n=e._controlledReadableStream._state;return"errored"===n?null:"closed"===n?0:e._strategyHWM-e._queueTotalSize}function ji(e){return!zo(e)}function rt(e){const n=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===n}function qo(e,n,a,c,d,p,b){n._controlledReadableStream=e,n._queue=void 0,n._queueTotalSize=void 0,Ee(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=b,n._strategyHWM=p,n._pullAlgorithm=c,n._cancelAlgorithm=d,e._readableStreamController=n,O(w(a()),(()=>{n._started=!0,vt(n)}),(e=>{Pe(n,e)}))}function Oi(e,n,a,c){const d=Object.create(Mt.prototype);let p=l((()=>{}),"startAlgorithm"),b=l((()=>w(void 0)),"pullAlgorithm"),y=l((()=>w(void 0)),"cancelAlgorithm");void 0!==n.start&&(p=l((()=>n.start(d)),"startAlgorithm")),void 0!==n.pull&&(b=l((()=>n.pull(d)),"pullAlgorithm")),void 0!==n.cancel&&(y=l((e=>n.cancel(e)),"cancelAlgorithm")),qo(e,d,p,b,y,a,c)}function gr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function ki(e,n){return De(e._readableStreamController)?Ii(e):Bi(e)}function Bi(e,n){const a=Je(e);let c,d,p,b,y,j=!1,L=!1,U=!1,F=!1;const Z=_((e=>{y=e}));function J(){return j?(L=!0,w(void 0)):(j=!0,ht(a,{_chunkSteps:e=>{v((()=>{L=!1;const n=e,a=e;U||mr(p._readableStreamController,n),F||mr(b._readableStreamController,a),j=!1,L&&J()}))},_closeSteps:()=>{j=!1,U||Rt(p._readableStreamController),F||Rt(b._readableStreamController),(!U||!F)&&y(void 0)},_errorSteps:()=>{j=!1}}),w(void 0))}function Oe(n){if(U=!0,c=n,F){const n=pt([c,d]),a=se(e,n);y(a)}return Z}function ue(n){if(F=!0,d=n,U){const n=pt([c,d]),a=se(e,n);y(a)}return Z}function ae(){}return l(J,"pullAlgorithm"),l(Oe,"cancel1Algorithm"),l(ue,"cancel2Algorithm"),l(ae,"startAlgorithm"),p=mn(ae,J,Oe),b=mn(ae,J,ue),T(a._closedPromise,(e=>{Pe(p._readableStreamController,e),Pe(b._readableStreamController,e),(!U||!F)&&y(void 0)})),[p,b]}function Ii(e){let n,a,c,d,p,b=Je(e),y=!1,j=!1,L=!1,U=!1,F=!1;const Z=_((e=>{p=e}));function J(e){T(e._closedPromise,(n=>{e===b&&(oe(c._readableStreamController,n),oe(d._readableStreamController,n),(!U||!F)&&p(void 0))}))}function Oe(){Ue(b)&&(be(b),b=Je(e),J(b)),ht(b,{_chunkSteps:n=>{v((()=>{j=!1,L=!1;const a=n;let b=n;if(!U&&!F)try{b=io(n)}catch(n){return oe(c._readableStreamController,n),oe(d._readableStreamController,n),void p(se(e,n))}U||Yt(c._readableStreamController,a),F||Yt(d._readableStreamController,b),y=!1,j?ae():L&&H()}))},_closeSteps:()=>{y=!1,U||gt(c._readableStreamController),F||gt(d._readableStreamController),c._readableStreamController._pendingPullIntos.length>0&&Xt(c._readableStreamController,0),d._readableStreamController._pendingPullIntos.length>0&&Xt(d._readableStreamController,0),(!U||!F)&&p(void 0)},_errorSteps:()=>{y=!1}})}function ue(n,a){Ce(b)&&(be(b),b=yo(e),J(b));const Z=a?d:c,Q=a?c:d;So(b,n,{_chunkSteps:n=>{v((()=>{j=!1,L=!1;const c=a?F:U;if(a?U:F)c||Jt(Z._readableStreamController,n);else{let a;try{a=io(n)}catch(n){return oe(Z._readableStreamController,n),oe(Q._readableStreamController,n),void p(se(e,n))}c||Jt(Z._readableStreamController,n),Yt(Q._readableStreamController,a)}y=!1,j?ae():L&&H()}))},_closeSteps:e=>{y=!1;const n=a?F:U,c=a?U:F;n||gt(Z._readableStreamController),c||gt(Q._readableStreamController),void 0!==e&&(n||Jt(Z._readableStreamController,e),!c&&Q._readableStreamController._pendingPullIntos.length>0&&Xt(Q._readableStreamController,0)),(!n||!c)&&p(void 0)},_errorSteps:()=>{y=!1}})}function ae(){if(y)return j=!0,w(void 0);y=!0;const e=Jr(c._readableStreamController);return null===e?Oe():ue(e._view,!1),w(void 0)}function H(){if(y)return L=!0,w(void 0);y=!0;const e=Jr(d._readableStreamController);return null===e?Oe():ue(e._view,!0),w(void 0)}function V(c){if(U=!0,n=c,F){const c=pt([n,a]),d=se(e,c);p(d)}return Z}function ee(c){if(F=!0,a=c,U){const c=pt([n,a]),d=se(e,c);p(d)}return Z}function ke(){}return l(J,"forwardReaderError"),l(Oe,"pullWithDefaultReader"),l(ue,"pullWithBYOBReader"),l(ae,"pull1Algorithm"),l(H,"pull2Algorithm"),l(V,"cancel1Algorithm"),l(ee,"cancel2Algorithm"),l(ke,"startAlgorithm"),c=Do(ke,ae,V),d=Do(ke,H,ee),J(b),[c,d]}function Li(e,n){ye(e,n);const a=e,c=a?.autoAllocateChunkSize,d=a?.cancel,p=a?.pull,b=a?.start,y=a?.type;return{autoAllocateChunkSize:void 0===c?void 0:eo(c,`${n} has member 'autoAllocateChunkSize' that`),cancel:void 0===d?void 0:Mi(d,a,`${n} has member 'cancel' that`),pull:void 0===p?void 0:Wi(p,a,`${n} has member 'pull' that`),start:void 0===b?void 0:zi(b,a,`${n} has member 'start' that`),type:void 0===y?void 0:qi(y,`${n} has member 'type' that`)}}function Mi(e,n,a){return ne(e,a),a=>D(e,n,[a])}function Wi(e,n,a){return ne(e,a),a=>D(e,n,[a])}function zi(e,n,a){return ne(e,a),a=>N(e,n,[a])}function qi(e,n){if("bytes"!=(e=`${e}`))throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function $i(e,n){ye(e,n);const a=e?.mode;return{mode:void 0===a?void 0:Di(a,`${n} has member 'mode' that`)}}function Di(e,n){if("byob"!=(e=`${e}`))throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Ni(e,n){return ye(e,n),{preventCancel:!!e?.preventCancel}}function $o(e,n){ye(e,n);const a=e?.preventAbort,c=e?.preventCancel,d=e?.preventClose,p=e?.signal;return void 0!==p&&Ui(p,`${n} has member 'signal' that`),{preventAbort:!!a,preventCancel:!!c,preventClose:!!d,signal:p}}function Ui(e,n){if(!Ya(e))throw new TypeError(`${n} is not an AbortSignal.`)}function Hi(e,n){ye(e,n);const a=e?.readable;Hr(a,"readable","ReadableWritablePair"),Kr(a,`${n} has member 'readable' that`);const c=e?.writable;return Hr(c,"writable","ReadableWritablePair"),vo(c,`${n} has member 'writable' that`),{readable:a,writable:c}}Object.defineProperties(Mt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Mt.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0}),l(hr,"IsReadableStreamDefaultController"),l(vt,"ReadableStreamDefaultControllerCallPullIfNeeded"),l(zo,"ReadableStreamDefaultControllerShouldCallPull"),l(pr,"ReadableStreamDefaultControllerClearAlgorithms"),l(Rt,"ReadableStreamDefaultControllerClose"),l(mr,"ReadableStreamDefaultControllerEnqueue"),l(Pe,"ReadableStreamDefaultControllerError"),l(pn,"ReadableStreamDefaultControllerGetDesiredSize"),l(ji,"ReadableStreamDefaultControllerHasBackpressure"),l(rt,"ReadableStreamDefaultControllerCanCloseOrEnqueue"),l(qo,"SetUpReadableStreamDefaultController"),l(Oi,"SetUpReadableStreamDefaultControllerFromUnderlyingSource"),l(gr,"defaultControllerBrandCheckException$1"),l(ki,"ReadableStreamTee"),l(Bi,"ReadableStreamDefaultTee"),l(Ii,"ReadableByteStreamTee"),l(Li,"convertUnderlyingDefaultOrByteSource"),l(Mi,"convertUnderlyingSourceCancelCallback"),l(Wi,"convertUnderlyingSourcePullCallback"),l(zi,"convertUnderlyingSourceStartCallback"),l(qi,"convertReadableStreamType"),l($i,"convertReaderOptions"),l(Di,"convertReadableStreamReaderMode"),l(Ni,"convertIteratorOptions"),l($o,"convertPipeOptions"),l(Ui,"assertAbortSignal"),l(Hi,"convertReadableWritablePair");const Lt=class{constructor(e={},n={}){void 0===e?e=null:Xn(e,"First parameter");const a=nr(n,"Second parameter"),c=Li(e,"First parameter");if(gn(this),"bytes"===c.type){if(void 0!==a.size)throw new RangeError("The strategy for a byte stream cannot have a size function");Da(this,c,yt(a,0))}else{const e=rr(a);Oi(this,c,yt(a,1),e)}}get locked(){if(!Ae(this))throw Ze("locked");return je(this)}cancel(e=void 0){return Ae(this)?je(this)?x(new TypeError("Cannot cancel a stream that already has a reader")):se(this,e):x(Ze("cancel"))}getReader(e=void 0){if(!Ae(this))throw Ze("getReader");return void 0===$i(e,"First parameter").mode?Je(this):yo(this)}pipeThrough(e,n={}){if(!Ae(this))throw Ze("pipeThrough");_e(e,1,"pipeThrough");const a=Hi(e,"First parameter"),c=$o(n,"Second parameter");if(je(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(tt(a.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return A(Wo(this,a.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal)),a.readable}pipeTo(e,n={}){if(!Ae(this))return x(Ze("pipeTo"));if(void 0===e)return x("Parameter 1 is required in 'pipeTo'.");if(!et(e))return x(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let a;try{a=$o(n,"Second parameter")}catch(e){return x(e)}return je(this)?x(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):tt(e)?x(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Wo(this,e,a.preventClose,a.preventAbort,a.preventCancel,a.signal)}tee(){if(!Ae(this))throw Ze("tee");return pt(ki(this))}values(e=void 0){if(!Ae(this))throw Ze("values");return Oa(this,Ni(e,"First parameter").preventCancel)}};l(Lt,"ReadableStream");let zt=Lt;function mn(e,n,a,c=1,d=(()=>1)){const p=Object.create(zt.prototype);return gn(p),qo(p,Object.create(Mt.prototype),e,n,a,c,d),p}function Do(e,n,a){const c=Object.create(zt.prototype);return gn(c),bo(c,Object.create(nt.prototype),e,n,a,0,void 0),c}function gn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Ae(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController"))&&e instanceof zt}function je(e){return void 0!==e._reader}function se(e,n){if(e._disturbed=!0,"closed"===e._state)return w(void 0);if("errored"===e._state)return x(e._storedError);Tt(e);const a=e._reader;return void 0!==a&&Ue(a)&&(a._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),a._readIntoRequests=new U),C(e._readableStreamController[Q](n),s)}function Tt(e){e._state="closed";const n=e._reader;void 0!==n&&(Gn(n),Ce(n)&&(n._readRequests.forEach((e=>{e._closeSteps()})),n._readRequests=new U))}function No(e,n){e._state="errored",e._storedError=n;const a=e._reader;void 0!==a&&(Ur(a,n),Ce(a)?(a._readRequests.forEach((e=>{e._errorSteps(n)})),a._readRequests=new U):(a._readIntoRequests.forEach((e=>{e._errorSteps(n)})),a._readIntoRequests=new U))}function Ze(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Uo(e,n){ye(e,n);const a=e?.highWaterMark;return Hr(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Fr(a)}}Object.defineProperties(zt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(zt.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof n.asyncIterator&&Object.defineProperty(zt.prototype,n.asyncIterator,{value:zt.prototype.values,writable:!0,configurable:!0}),l(mn,"CreateReadableStream"),l(Do,"CreateReadableByteStream"),l(gn,"InitializeReadableStream"),l(Ae,"IsReadableStream"),l(je,"IsReadableStreamLocked"),l(se,"ReadableStreamCancel"),l(Tt,"ReadableStreamClose"),l(No,"ReadableStreamError"),l(Ze,"streamBrandCheckException$1"),l(Uo,"convertQueuingStrategyInit");const Dt=l((e=>e.byteLength),"byteLengthSizeFunction");try{Object.defineProperty(Dt,"name",{value:"size",configurable:!0})}catch{}const Ht=class{constructor(e){_e(e,1,"ByteLengthQueuingStrategy"),e=Uo(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Fo(this))throw Ho("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Fo(this))throw Ho("size");return Dt}};l(Ht,"ByteLengthQueuingStrategy");let Zt=Ht;function Ho(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Fo(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark"))&&e instanceof Zt}Object.defineProperties(Zt.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Zt.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0}),l(Ho,"byteLengthBrandCheckException"),l(Fo,"IsByteLengthQueuingStrategy");const er=l((()=>1),"countSizeFunction");try{Object.defineProperty(er,"name",{value:"size",configurable:!0})}catch{}const or=class{constructor(e){_e(e,1,"CountQueuingStrategy"),e=Uo(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Zo(this))throw Ko("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Zo(this))throw Ko("size");return er}};l(or,"CountQueuingStrategy");let ir=or;function Ko(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Zo(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark"))&&e instanceof ir}function Vi(e,n){ye(e,n);const a=e?.flush,c=e?.readableType,d=e?.start,p=e?.transform,b=e?.writableType;return{flush:void 0===a?void 0:Yi(a,e,`${n} has member 'flush' that`),readableType:c,start:void 0===d?void 0:Xi(d,e,`${n} has member 'start' that`),transform:void 0===p?void 0:Ji(p,e,`${n} has member 'transform' that`),writableType:b}}function Yi(e,n,a){return ne(e,a),a=>D(e,n,[a])}function Xi(e,n,a){return ne(e,a),a=>N(e,n,[a])}function Ji(e,n,a){return ne(e,a),(a,c)=>D(e,n,[a,c])}Object.defineProperties(ir.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(ir.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0}),l(Ko,"countBrandCheckException"),l(Zo,"IsCountQueuingStrategy"),l(Vi,"convertTransformer"),l(Yi,"convertTransformerFlushCallback"),l(Xi,"convertTransformerStartCallback"),l(Ji,"convertTransformerTransformCallback");const wr=class{constructor(e={},n={},a={}){void 0===e&&(e=null);const c=nr(n,"Second parameter"),d=nr(a,"Third parameter"),p=Vi(e,"First parameter");if(void 0!==p.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==p.writableType)throw new RangeError("Invalid writableType specified");const b=yt(d,0),y=rr(d),v=yt(c,1),j=rr(c);let L;tl(this,_((e=>{L=e})),v,j,b,y),ol(this,p),void 0!==p.start?L(p.start(this._transformStreamController)):L(void 0)}get readable(){if(!Qo(this))throw Xo("readable");return this._readable}get writable(){if(!Qo(this))throw Xo("writable");return this._writable}};l(wr,"TransformStream");let Er=wr;function tl(e,n,a,c,d,p){function R(){return n}function P(n){return il(e,n)}function B(n){return ll(e,n)}function I(){return cl(e)}function M(){return ul(e)}function W(n){return yr(e,n),w(void 0)}l(R,"startAlgorithm"),l(P,"writeAlgorithm"),l(B,"abortAlgorithm"),l(I,"closeAlgorithm"),e._writable=ei(R,P,I,B,a,c),l(M,"pullAlgorithm"),l(W,"cancelAlgorithm"),e._readable=mn(R,M,W,d,p),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,_r(e,!0),e._transformStreamController=void 0}function Qo(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController"))&&e instanceof Er}function br(e,n){Pe(e._readable._readableStreamController,n),yr(e,n)}function yr(e,n){Go(e._transformStreamController),ln(e._writable._writableStreamController,n),e._backpressure&&_r(e,!1)}function _r(e,n){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=_((n=>{e._backpressureChangePromise_resolve=n})),e._backpressure=n}Object.defineProperties(Er.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Er.prototype,n.toStringTag,{value:"TransformStream",configurable:!0}),l(tl,"InitializeTransformStream"),l(Qo,"IsTransformStream"),l(br,"TransformStreamError"),l(yr,"TransformStreamErrorWritableAndUnblockWrite"),l(_r,"TransformStreamSetBackpressure");const kr=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Sr(this))throw vr("desiredSize");return pn(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!Sr(this))throw vr("enqueue");Vo(this,e)}error(e=void 0){if(!Sr(this))throw vr("error");sl(this,e)}terminate(){if(!Sr(this))throw vr("terminate");al(this)}};l(kr,"TransformStreamDefaultController");let jr=kr;function Sr(e){return!(!h(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream"))&&e instanceof jr}function nl(e,n,a,c){n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=a,n._flushAlgorithm=c}function ol(e,n){const a=Object.create(jr.prototype);let c=l((e=>{try{return Vo(a,e),w(void 0)}catch(e){return x(e)}}),"transformAlgorithm"),d=l((()=>w(void 0)),"flushAlgorithm");void 0!==n.transform&&(c=l((e=>n.transform(e,a)),"transformAlgorithm")),void 0!==n.flush&&(d=l((()=>n.flush(a)),"flushAlgorithm")),nl(e,a,c,d)}function Go(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Vo(e,n){const a=e._controlledTransformStream,c=a._readable._readableStreamController;if(!rt(c))throw new TypeError("Readable side is not in a state that permits enqueue");try{mr(c,n)}catch(e){throw yr(a,e),a._readable._storedError}ji(c)!==a._backpressure&&_r(a,!0)}function sl(e,n){br(e._controlledTransformStream,n)}function Yo(e,n){return C(e._transformAlgorithm(n),void 0,(n=>{throw br(e._controlledTransformStream,n),n}))}function al(e){const n=e._controlledTransformStream;Rt(n._readable._readableStreamController),yr(n,new TypeError("TransformStream terminated"))}function il(e,n){const a=e._transformStreamController;return e._backpressure?C(e._backpressureChangePromise,(()=>{const c=e._writable;if("erroring"===c._state)throw c._storedError;return Yo(a,n)})):Yo(a,n)}function ll(e,n){return br(e,n),w(void 0)}function cl(e){const n=e._readable,a=e._transformStreamController,c=a._flushAlgorithm();return Go(a),C(c,(()=>{if("errored"===n._state)throw n._storedError;Rt(n._readableStreamController)}),(a=>{throw br(e,a),n._storedError}))}function ul(e){return _r(e,!1),e._backpressureChangePromise}function vr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Xo(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(jr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(jr.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),l(Sr,"IsTransformStreamDefaultController"),l(nl,"SetUpTransformStreamDefaultController"),l(ol,"SetUpTransformStreamDefaultControllerFromTransformer"),l(Go,"TransformStreamDefaultControllerClearAlgorithms"),l(Vo,"TransformStreamDefaultControllerEnqueue"),l(sl,"TransformStreamDefaultControllerError"),l(Yo,"TransformStreamDefaultControllerPerformTransform"),l(al,"TransformStreamDefaultControllerTerminate"),l(il,"TransformStreamDefaultSinkWriteAlgorithm"),l(ll,"TransformStreamDefaultSinkAbortAlgorithm"),l(cl,"TransformStreamDefaultSinkCloseAlgorithm"),l(ul,"TransformStreamDefaultSourcePullAlgorithm"),l(vr,"defaultControllerBrandCheckException"),l(Xo,"streamBrandCheckException"),e.ByteLengthQueuingStrategy=Zt,e.CountQueuingStrategy=ir,e.ReadableByteStreamController=nt,e.ReadableStream=zt,e.ReadableStreamBYOBReader=lt,e.ReadableStreamBYOBRequest=Ve,e.ReadableStreamDefaultController=Mt,e.ReadableStreamDefaultReader=we,e.TransformStream=Er,e.TransformStreamDefaultController=jr,e.WritableStream=mt,e.WritableStreamDefaultController=Et,e.WritableStreamDefaultWriter=St,Object.defineProperty(e,"__esModule",{value:!0})}(hs.exports)),hs.exports}l(ac,"requirePonyfill_es2018");if(!globalThis.ReadableStream)try{const e=require("node:process"),{emitWarning:n}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),e.emitWarning=n}catch(a){throw e.emitWarning=n,a}}catch{Object.assign(globalThis,ac())}try{const{Blob:e}=require("buffer");e&&!e.prototype.stream&&(e.prototype.stream=l((function(e){let n=0;const a=this;return new ReadableStream({type:"bytes",async pull(e){const c=await a.slice(n,Math.min(a.size,n+65536)).arrayBuffer();n+=c.byteLength,e.enqueue(new Uint8Array(c)),n===a.size&&e.close()}})}),"name"))}catch{}async function*Pn(e,n=!0){for(const a of e)if("stream"in a)yield*a.stream();else if(ArrayBuffer.isView(a))if(n){let e=a.byteOffset;const n=a.byteOffset+a.byteLength;for(;e!==n;){const c=Math.min(n-e,65536),d=a.buffer.slice(e,e+c);e+=d.byteLength,yield new Uint8Array(d)}}else yield a;else{let e=0,n=a;for(;e!==n.size;){const a=await n.slice(e,Math.min(n.size,e+65536)).arrayBuffer();e+=a.byteLength,yield new Uint8Array(a)}}}l(Pn,"toIterator");const ps=(qn=class{constructor(e=[],n={}){if(We(this,An,[]),We(this,jn,""),We(this,On,0),We(this,In,"transparent"),"object"!=typeof e||null===e)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof e[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof n&&"function"!=typeof n)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===n&&(n={});const a=new TextEncoder;for(const n of e){let e;e=ArrayBuffer.isView(n)?new Uint8Array(n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)):n instanceof ArrayBuffer?new Uint8Array(n.slice(0)):n instanceof qn?n:a.encode(`${n}`),pe(this,On,$(this,On)+(ArrayBuffer.isView(e)?e.byteLength:e.size)),$(this,An).push(e)}pe(this,In,`${void 0===n.endings?"transparent":n.endings}`);const c=void 0===n.type?"":String(n.type);pe(this,jn,/^[\x20-\x7E]*$/.test(c)?c:"")}get size(){return $(this,On)}get type(){return $(this,jn)}async text(){const e=new TextDecoder;let n="";for await(const a of Pn($(this,An),!1))n+=e.decode(a,{stream:!0});return n+=e.decode(),n}async arrayBuffer(){const e=new Uint8Array(this.size);let n=0;for await(const a of Pn($(this,An),!1))e.set(a,n),n+=a.length;return e.buffer}stream(){const e=Pn($(this,An),!0);return new globalThis.ReadableStream({type:"bytes",async pull(n){const a=await e.next();a.done?n.close():n.enqueue(a.value)},async cancel(){await e.return()}})}slice(e=0,n=this.size,a=""){const{size:c}=this;let d=e<0?Math.max(c+e,0):Math.min(e,c),p=n<0?Math.max(c+n,0):Math.min(n,c);const b=Math.max(p-d,0),y=$(this,An),v=[];let j=0;for(const e of y){if(j>=b)break;const n=ArrayBuffer.isView(e)?e.byteLength:e.size;if(d&&n<=d)d-=n,p-=n;else{let a;ArrayBuffer.isView(e)?(a=e.subarray(d,Math.min(n,p)),j+=a.byteLength):(a=e.slice(d,Math.min(n,p)),j+=a.size),p-=n,v.push(a),d=0}}const L=new qn([],{type:String(a).toLowerCase()});return pe(L,On,b),pe(L,An,v),L}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}},An=new WeakMap,jn=new WeakMap,On=new WeakMap,In=new WeakMap,l(qn,"Blob"),qn);Object.defineProperties(ps.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const ms=ps,ys=(Ln=class extends ms{constructor(e,n,a={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,a),We(this,Wn,0),We(this,Mn,""),null===a&&(a={});const c=void 0===a.lastModified?Date.now():Number(a.lastModified);Number.isNaN(c)||pe(this,Wn,c),pe(this,Mn,String(n))}get name(){return $(this,Mn)}get lastModified(){return $(this,Wn)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof ms&&/^(File)$/.test(e[Symbol.toStringTag])}},Wn=new WeakMap,Mn=new WeakMap,l(Ln,"File"),Ln);var{toStringTag:xs,iterator:Ts,hasInstance:Cs}=Symbol,Es=Math.random,ks="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),As=l(((e,n,a)=>(e+="",/^(Blob|File)$/.test(n&&n[xs])?[(a=void 0!==a?a+"":"File"==n[xs]?n.name:"blob",e),n.name!==a||"blob"==n[xs]?new ys([n],a,n):n]:[e,n+""])),"f"),js=l(((e,n)=>(n?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")),"e$1"),Ps=l(((e,n,a)=>{if(n.length<a)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${a} arguments required, but only ${n.length} present.`)}),"x");const Os=(Dn=class{constructor(...e){if(We(this,zn,[]),e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[xs](){return"FormData"}[Ts](){return this.entries()}static[Cs](e){return e&&"object"==typeof e&&"FormData"===e[xs]&&!ks.some((n=>"function"!=typeof e[n]))}append(...e){Ps("append",arguments,2),$(this,zn).push(As(...e))}delete(e){Ps("delete",arguments,1),e+="",pe(this,zn,$(this,zn).filter((([n])=>n!==e)))}get(e){Ps("get",arguments,1),e+="";for(var n=$(this,zn),a=n.length,c=0;c<a;c++)if(n[c][0]===e)return n[c][1];return null}getAll(e,n){return Ps("getAll",arguments,1),n=[],e+="",$(this,zn).forEach((a=>a[0]===e&&n.push(a[1]))),n}has(e){return Ps("has",arguments,1),e+="",$(this,zn).some((n=>n[0]===e))}forEach(e,n){for(var[a,c]of(Ps("forEach",arguments,1),this))e.call(n,c,a,this)}set(...e){Ps("set",arguments,2);var n=[],a=!0;e=As(...e),$(this,zn).forEach((c=>{c[0]===e[0]?a&&(a=!n.push(e)):n.push(c)})),a&&n.push(e),pe(this,zn,n)}*entries(){yield*$(this,zn)}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}},zn=new WeakMap,l(Dn,"FormData"),Dn);function fc(e,n=ms){var a=`${Es()}${Es()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),c=[],d=`--${a}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,n)=>"string"==typeof e?c.push(d+js(n)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):c.push(d+js(n)+`"; filename="${js(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),c.push(`--${a}--`),new n(c,{type:"multipart/form-data; boundary="+a})}l(fc,"formDataToBlob");const Bs=class extends Error{constructor(e,n){super(e),Error.captureStackTrace(this,this.constructor),this.type=n}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};l(Bs,"FetchBaseError");let Ls=Bs;const Fs=class extends Ls{constructor(e,n,a){super(e,n),a&&(this.code=this.errno=a.code,this.erroredSysCall=a.syscall)}};l(Fs,"FetchError");let Vs=Fs;const Js=Symbol.toStringTag,oa=l((e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[Js]),"isURLSearchParameters"),la=l((e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[Js])),"isBlob"),pa=l((e=>"object"==typeof e&&("AbortSignal"===e[Js]||"EventTarget"===e[Js])),"isAbortSignal"),ma=l(((e,n)=>{const a=new URL(n).hostname,c=new URL(e).hostname;return a===c||a.endsWith(`.${c}`)}),"isDomainOrSubdomain"),ba=l(((e,n)=>new URL(n).protocol===new URL(e).protocol),"isSameProtocol"),wa=j(p.pipeline),va=Symbol("Body internals"),Sa=class{constructor(e,{size:n=0}={}){let a=null;null===e?e=null:oa(e)?e=v.from(e.toString()):la(e)||v.isBuffer(e)||(U.isAnyArrayBuffer(e)?e=v.from(e):ArrayBuffer.isView(e)?e=v.from(e.buffer,e.byteOffset,e.byteLength):e instanceof p||(e instanceof Os?a=(e=fc(e)).type.split("=")[1]:e=v.from(String(e))));let c=e;v.isBuffer(e)?c=p.Readable.from(e):la(e)&&(c=p.Readable.from(e.stream())),this[va]={body:e,stream:c,boundary:a,disturbed:!1,error:null},this.size=n,e instanceof p&&e.on("error",(e=>{const n=e instanceof Ls?e:new Vs(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[va].error=n}))}get body(){return this[va].stream}get bodyUsed(){return this[va].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:n,byteLength:a}=await Bn(this);return e.slice(n,n+a)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new Os,n=new URLSearchParams(await this.text());for(const[a,c]of n)e.append(a,c);return e}const{toFormData:n}=await import("./chunks/multipart-parser.mjs");return n(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[va].body&&this[va].body.type||"",n=await this.arrayBuffer();return new ms([n],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await Bn(this);return(new TextDecoder).decode(e)}buffer(){return Bn(this)}};l(Sa,"Body");let Ca=Sa;async function Bn(e){if(e[va].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[va].disturbed=!0,e[va].error)throw e[va].error;const{body:n}=e;if(null===n)return v.alloc(0);if(!(n instanceof p))return v.alloc(0);const a=[];let c=0;try{for await(const d of n){if(e.size>0&&c+d.length>e.size){const a=new Vs(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw n.destroy(a),a}c+=d.length,a.push(d)}}catch(n){throw n instanceof Ls?n:new Vs(`Invalid response body while trying to fetch ${e.url}: ${n.message}`,"system",n)}if(!0!==n.readableEnded&&!0!==n._readableState.ended)throw new Vs(`Premature close of server response while trying to fetch ${e.url}`);try{return a.every((e=>"string"==typeof e))?v.from(a.join("")):v.concat(a,c)}catch(n){throw new Vs(`Could not create Buffer from response body for ${e.url}: ${n.message}`,"system",n)}}Ca.prototype.buffer=L(Ca.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(Ca.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:L((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}}),l(Bn,"consumeBody");const Ea=l(((e,n)=>{let a,c,{body:d}=e[va];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return d instanceof p&&"function"!=typeof d.getBoundary&&(a=new b({highWaterMark:n}),c=new b({highWaterMark:n}),d.pipe(a),d.pipe(c),e[va].stream=a,d=c),d}),"clone"),ka=L((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Aa=l(((e,n)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":oa(e)?"application/x-www-form-urlencoded;charset=UTF-8":la(e)?e.type||null:v.isBuffer(e)||U.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof Os?`multipart/form-data; boundary=${n[va].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${ka(e)}`:e instanceof p?null:"text/plain;charset=UTF-8"),"extractContentType"),ja=l((e=>{const{body:n}=e[va];return null===n?0:la(n)?n.size:v.isBuffer(n)?n.length:n&&"function"==typeof n.getLengthSync&&n.hasKnownLength&&n.hasKnownLength()?n.getLengthSync():null}),"getTotalBytes"),Pa=l((async(e,{body:n})=>{null===n?e.end():await wa(n,e)}),"writeToStream"),Ma="function"==typeof a.validateHeaderName?a.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const n=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),n}},La="function"==typeof a.validateHeaderValue?a.validateHeaderValue:(e,n)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(n)){const n=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}},Ha=class Mu extends URLSearchParams{constructor(e){let n=[];if(e instanceof Mu){const a=e.raw();for(const[e,c]of Object.entries(a))n.push(...c.map((n=>[e,n])))}else if(null!=e){if("object"!=typeof e||U.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const a=e[Symbol.iterator];if(null==a)n.push(...Object.entries(e));else{if("function"!=typeof a)throw new TypeError("Header pairs must be iterable");n=[...e].map((e=>{if("object"!=typeof e||U.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return n=n.length>0?n.map((([e,n])=>(Ma(e),La(e,String(n)),[String(e).toLowerCase(),String(n)]))):void 0,super(n),new Proxy(this,{get(e,n,a){switch(n){case"append":case"set":return(a,c)=>(Ma(a),La(a,String(c)),URLSearchParams.prototype[n].call(e,String(a).toLowerCase(),String(c)));case"delete":case"has":case"getAll":return a=>(Ma(a),URLSearchParams.prototype[n].call(e,String(a).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,n,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const n=this.getAll(e);if(0===n.length)return null;let a=n.join(", ");return/^content-encoding$/i.test(e)&&(a=a.toLowerCase()),a}forEach(e,n=void 0){for(const a of this.keys())Reflect.apply(e,n,[this.get(a),a,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,n)=>(e[n]=this.getAll(n),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,n)=>{const a=this.getAll(n);return e[n]="host"===n?a[0]:a.length>1?a:a[0],e}),{})}};l(Ha,"Headers");let Ja=Ha;function yc(e=[]){return new Ja(e.reduce(((e,n,a,c)=>(a%2==0&&e.push(c.slice(a,a+2)),e)),[]).filter((([e,n])=>{try{return Ma(e),La(e,String(n)),!0}catch{return!1}})))}Object.defineProperties(Ja.prototype,["get","entries","forEach","values"].reduce(((e,n)=>(e[n]={enumerable:!0},e)),{})),l(yc,"fromRawHeaders");const ci=new Set([301,302,303,307,308]),pi=l((e=>ci.has(e)),"isRedirect"),mi=Symbol("Response internals"),Ci=class $r extends Ca{constructor(e=null,n={}){super(e,n);const a=null!=n.status?n.status:200,c=new Ja(n.headers);if(null!==e&&!c.has("Content-Type")){const n=Aa(e,this);n&&c.append("Content-Type",n)}this[mi]={type:"default",url:n.url,status:a,statusText:n.statusText||"",headers:c,counter:n.counter,highWaterMark:n.highWaterMark}}get type(){return this[mi].type}get url(){return this[mi].url||""}get status(){return this[mi].status}get ok(){return this[mi].status>=200&&this[mi].status<300}get redirected(){return this[mi].counter>0}get statusText(){return this[mi].statusText}get headers(){return this[mi].headers}get highWaterMark(){return this[mi].highWaterMark}clone(){return new $r(Ea(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,n=302){if(!pi(n))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new $r(null,{headers:{location:new URL(e).toString()},status:n})}static error(){const e=new $r(null,{status:0,statusText:""});return e[mi].type="error",e}static json(e=void 0,n={}){const a=JSON.stringify(e);if(void 0===a)throw new TypeError("data is not JSON serializable");const c=new Ja(n&&n.headers);return c.has("content-type")||c.set("content-type","application/json"),new $r(a,{...n,headers:c})}get[Symbol.toStringTag](){return"Response"}};l(Ci,"Response");let Ai=Ci;Object.defineProperties(Ai.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const Fi=l((e=>{if(e.search)return e.search;const n=e.href.length-1,a=e.hash||("#"===e.href[n]?"#":"");return"?"===e.href[n-a.length]?"?":""}),"getSearch");function Is(e,n=!1){return null==e||(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",n&&(e.pathname="",e.search=""),e)}l(Is,"stripURLForUseAsAReferrer");const Zi=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function vc(e){if(!Zi.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}function Rc(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const n=e.host.replace(/(^\[)|(]$)/g,""),a=Q(n);return!!(4===a&&/^127\./.test(n)||6===a&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(n))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}function ut(e){return!(!/^about:(blank|srcdoc)$/.test(e)&&"data:"!==e.protocol&&!/^(blob|filesystem):$/.test(e.protocol))||Rc(e)}function Tc(e,{referrerURLCallback:n,referrerOriginCallback:a}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const c=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const d=e.referrer;let p=Is(d),b=Is(d,!0);p.toString().length>4096&&(p=b),n&&(p=n(p)),a&&(b=a(b));const y=new URL(e.url);switch(c){case"no-referrer":return"no-referrer";case"origin":return b;case"unsafe-url":return p;case"strict-origin":return ut(p)&&!ut(y)?"no-referrer":b.toString();case"strict-origin-when-cross-origin":return p.origin===y.origin?p:ut(p)&&!ut(y)?"no-referrer":b;case"same-origin":return p.origin===y.origin?p:"no-referrer";case"origin-when-cross-origin":return p.origin===y.origin?p:b;case"no-referrer-when-downgrade":return ut(p)&&!ut(y)?"no-referrer":p;default:throw new TypeError(`Invalid referrerPolicy: ${c}`)}}function xc(e){const n=(e.get("referrer-policy")||"").split(/[,\s]+/);let a="";for(const e of n)e&&Zi.has(e)&&(a=e);return a}l(vc,"validateReferrerPolicy"),l(Rc,"isOriginPotentiallyTrustworthy"),l(ut,"isUrlPotentiallyTrustworthy"),l(Tc,"determineRequestsReferrer"),l(xc,"parseReferrerPolicyFromHeader");const Gi=Symbol("Request internals"),Ki=l((e=>"object"==typeof e&&"object"==typeof e[Gi]),"isRequest"),Qi=L((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),el=class Wu extends Ca{constructor(e,n={}){let a;if(Ki(e)?a=new URL(e.url):(a=new URL(e),e={}),""!==a.username||""!==a.password)throw new TypeError(`${a} is an url with embedded credentials.`);let c=n.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(c)&&(c=c.toUpperCase()),!Ki(n)&&"data"in n&&Qi(),(null!=n.body||Ki(e)&&null!==e.body)&&("GET"===c||"HEAD"===c))throw new TypeError("Request with GET/HEAD method cannot have body");const d=n.body?n.body:Ki(e)&&null!==e.body?Ea(e):null;super(d,{size:n.size||e.size||0});const p=new Ja(n.headers||e.headers||{});if(null!==d&&!p.has("Content-Type")){const e=Aa(d,this);e&&p.set("Content-Type",e)}let b=Ki(e)?e.signal:null;if("signal"in n&&(b=n.signal),null!=b&&!pa(b))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let y=null==n.referrer?e.referrer:n.referrer;if(""===y)y="no-referrer";else if(y){const e=new URL(y);y=/^about:(\/\/)?client$/.test(e)?"client":e}else y=void 0;this[Gi]={method:c,redirect:n.redirect||e.redirect||"follow",headers:p,parsedURL:a,signal:b,referrer:y},this.follow=void 0===n.follow?void 0===e.follow?20:e.follow:n.follow,this.compress=void 0===n.compress?void 0===e.compress||e.compress:n.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent,this.highWaterMark=n.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=n.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=n.referrerPolicy||e.referrerPolicy||""}get method(){return this[Gi].method}get url(){return F(this[Gi].parsedURL)}get headers(){return this[Gi].headers}get redirect(){return this[Gi].redirect}get signal(){return this[Gi].signal}get referrer(){return"no-referrer"===this[Gi].referrer?"":"client"===this[Gi].referrer?"about:client":this[Gi].referrer?this[Gi].referrer.toString():void 0}get referrerPolicy(){return this[Gi].referrerPolicy}set referrerPolicy(e){this[Gi].referrerPolicy=vc(e)}clone(){return new Wu(this)}get[Symbol.toStringTag](){return"Request"}};l(el,"Request");let rl=el;Object.defineProperties(rl.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const dl=l((e=>{const{parsedURL:n}=e[Gi],a=new Ja(e[Gi].headers);a.has("Accept")||a.set("Accept","*/*");let c=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(c="0"),null!==e.body){const n=ja(e);"number"==typeof n&&!Number.isNaN(n)&&(c=String(n))}c&&a.set("Content-Length",c),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[Gi].referrer=Tc(e):e[Gi].referrer="no-referrer",e[Gi].referrer instanceof URL&&a.set("Referer",e.referrer),a.has("User-Agent")||a.set("User-Agent","node-fetch"),e.compress&&!a.has("Accept-Encoding")&&a.set("Accept-Encoding","gzip, deflate, br");let{agent:d}=e;"function"==typeof d&&(d=d(n));const p=Fi(n);return{parsedURL:n,options:{path:n.pathname+p,method:e.method,headers:a[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:d}}}),"getNodeRequestOptions"),fl=class extends Ls{constructor(e,n="aborted"){super(e,n)}};l(fl,"AbortError");let hl=fl;if(!globalThis.DOMException)try{const{MessageChannel:e}=require("worker_threads"),n=(new e).port1,a=new ArrayBuffer;n.postMessage(a,[a,a])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}const pl=oc(globalThis.DOMException),{stat:ml}=le;l(((e,n)=>gl(te(e),e,n)),"blobFromSync"),l(((e,n)=>ml(e).then((a=>gl(a,e,n)))),"blobFrom"),l(((e,n)=>ml(e).then((a=>yl(a,e,n)))),"fileFrom"),l(((e,n)=>yl(te(e),e,n)),"fileFromSync");const gl=l(((e,n,a="")=>new ms([new jl({path:n,size:e.size,lastModified:e.mtimeMs,start:0})],{type:a})),"fromBlob"),yl=l(((e,n,a="")=>new ys([new jl({path:n,size:e.size,lastModified:e.mtimeMs,start:0})],ge(n),{type:a,lastModified:e.mtimeMs})),"fromFile"),Al=class zu{constructor(e){We(this,Yn,void 0),We(this,Kn,void 0),pe(this,Yn,e.path),pe(this,Kn,e.start),this.size=e.size,this.lastModified=e.lastModified}slice(e,n){return new zu({path:$(this,Yn),lastModified:this.lastModified,size:n-e,start:$(this,Kn)+e})}async*stream(){const{mtimeMs:e}=await ml($(this,Yn));if(e>this.lastModified)throw new pl("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*me($(this,Yn),{start:$(this,Kn),end:$(this,Kn)+this.size-1})}get[Symbol.toStringTag](){return"Blob"}};Yn=new WeakMap,Kn=new WeakMap,l(Al,"BlobDataItem");let jl=Al;const ql=new Set(["data:","http:","https:"]);async function Ms(e,n){return new Promise(((v,j)=>{const L=new rl(e,n),{parsedURL:U,options:F}=dl(L);if(!ql.has(U.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${U.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===U.protocol){const e=nc(L.url),n=new Ai(e,{headers:{"Content-Type":e.typeFull}});return void v(n)}const Z=("https:"===U.protocol?c:a).request,{signal:Q}=L;let te=null;const le=l((()=>{const e=new hl("The operation was aborted.");j(e),L.body&&L.body instanceof p.Readable&&L.body.destroy(e),te&&te.body&&te.body.emit("error",e)}),"abort");if(Q&&Q.aborted)return void le();const me=l((()=>{le(),we()}),"abortAndFinalize"),ge=Z(U.toString(),F);Q&&Q.addEventListener("abort",me);const we=l((()=>{ge.abort(),Q&&Q.removeEventListener("abort",me)}),"finalize");ge.on("error",(e=>{j(new Vs(`request to ${L.url} failed, reason: ${e.message}`,"system",e)),we()})),kc(ge,(e=>{te&&te.body&&te.body.destroy(e)})),process.version<"v14"&&ge.on("socket",(e=>{let n;e.prependListener("end",(()=>{n=e._eventsCount})),e.prependListener("close",(a=>{if(te&&n<e._eventsCount&&!a){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",te.body.emit("error",e)}}))})),ge.on("response",(e=>{ge.setTimeout(0);const a=yc(e.rawHeaders);if(pi(e.statusCode)){const c=a.get("Location");let d=null;try{d=null===c?null:new URL(c,L.url)}catch{if("manual"!==L.redirect)return j(new Vs(`uri requested responds with an invalid redirect URL: ${c}`,"invalid-redirect")),void we()}switch(L.redirect){case"error":return j(new Vs(`uri requested responds with a redirect, redirect mode is set to error: ${L.url}`,"no-redirect")),void we();case"manual":break;case"follow":{if(null===d)break;if(L.counter>=L.follow)return j(new Vs(`maximum redirect reached at: ${L.url}`,"max-redirect")),void we();const c={headers:new Ja(L.headers),follow:L.follow,counter:L.counter+1,agent:L.agent,compress:L.compress,method:L.method,body:Ea(L),signal:L.signal,size:L.size,referrer:L.referrer,referrerPolicy:L.referrerPolicy};if(!ma(L.url,d)||!ba(L.url,d))for(const e of["authorization","www-authenticate","cookie","cookie2"])c.headers.delete(e);if(303!==e.statusCode&&L.body&&n.body instanceof p.Readable)return j(new Vs("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void we();(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===L.method)&&(c.method="GET",c.body=void 0,c.headers.delete("content-length"));const b=xc(a);return b&&(c.referrerPolicy=b),v(Ms(new rl(d,c))),void we()}default:return j(new TypeError(`Redirect option '${L.redirect}' is not a valid value of RequestRedirect`))}}Q&&e.once("end",(()=>{Q.removeEventListener("abort",me)}));let c=y(e,new b,(e=>{e&&j(e)}));process.version<"v12.10"&&e.on("aborted",me);const U={url:L.url,status:e.statusCode,statusText:e.statusMessage,headers:a,size:L.size,counter:L.counter,highWaterMark:L.highWaterMark},F=a.get("Content-Encoding");if(!L.compress||"HEAD"===L.method||null===F||204===e.statusCode||304===e.statusCode)return te=new Ai(c,U),void v(te);const Z={flush:d.Z_SYNC_FLUSH,finishFlush:d.Z_SYNC_FLUSH};if("gzip"===F||"x-gzip"===F)return c=y(c,d.createGunzip(Z),(e=>{e&&j(e)})),te=new Ai(c,U),void v(te);if("deflate"===F||"x-deflate"===F){const n=y(e,new b,(e=>{e&&j(e)}));return n.once("data",(e=>{c=8==(15&e[0])?y(c,d.createInflate(),(e=>{e&&j(e)})):y(c,d.createInflateRaw(),(e=>{e&&j(e)})),te=new Ai(c,U),v(te)})),void n.once("end",(()=>{te||(te=new Ai(c,U),v(te))}))}if("br"===F)return c=y(c,d.createBrotliDecompress(),(e=>{e&&j(e)})),te=new Ai(c,U),void v(te);te=new Ai(c,U),v(te)})),Pa(ge,L).catch(j)}))}function kc(e,n){const a=v.from("0\r\n\r\n");let c,d=!1,p=!1;e.on("response",(e=>{const{headers:n}=e;d="chunked"===n["transfer-encoding"]&&!n["content-length"]})),e.on("socket",(b=>{const y=l((()=>{if(d&&!p){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",n(e)}}),"onSocketClose"),j=l((e=>{p=0===v.compare(e.slice(-5),a),!p&&c&&(p=0===v.compare(c.slice(-3),a.slice(0,3))&&0===v.compare(e.slice(-2),a.slice(3))),c=e}),"onData");b.prependListener("close",y),b.on("data",j),e.on("close",(()=>{b.removeListener("close",y),b.removeListener("data",j)}))}))}l(Ms,"fetch$1"),l(kc,"fixResponseChunkedTransferBadEnding");const Ll=new WeakMap,$l=new WeakMap;function q(e){const n=Ll.get(e);return console.assert(null!=n,"'this' is expected an Event object, but got",e),n}function Ws(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault()):typeof console<"u"&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function Ir(e,n){Ll.set(this,{eventTarget:e,event:n,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:n.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const a=Object.keys(n);for(let e=0;e<a.length;++e){const n=a[e];n in this||Object.defineProperty(this,n,zs(n))}}function zs(e){return{get(){return q(this).event[e]},set(n){q(this).event[e]=n},configurable:!0,enumerable:!0}}function Lc(e){return{value(){const n=q(this).event;return n[e].apply(n,arguments)},configurable:!0,enumerable:!0}}function Mc(e,n){const a=Object.keys(n);if(0===a.length)return e;function o(n,a){e.call(this,n,a)}l(o,"CustomEvent"),o.prototype=Object.create(e.prototype,{constructor:{value:o,configurable:!0,writable:!0}});for(let c=0;c<a.length;++c){const d=a[c];if(!(d in e.prototype)){const e="function"==typeof Object.getOwnPropertyDescriptor(n,d).value;Object.defineProperty(o.prototype,d,e?Lc(d):zs(d))}}return o}function qs(e){if(null==e||e===Object.prototype)return Ir;let n=$l.get(e);return null==n&&(n=Mc(qs(Object.getPrototypeOf(e)),e),$l.set(e,n)),n}function Wc(e,n){return new(qs(Object.getPrototypeOf(n)))(e,n)}function zc(e){return q(e).immediateStopped}function qc(e,n){q(e).eventPhase=n}function $c(e,n){q(e).currentTarget=n}function $s(e,n){q(e).passiveListener=n}l(q,"pd"),l(Ws,"setCancelFlag"),l(Ir,"Event"),Ir.prototype={get type(){return q(this).event.type},get target(){return q(this).eventTarget},get currentTarget(){return q(this).currentTarget},composedPath(){const e=q(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return q(this).eventPhase},stopPropagation(){const e=q(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=q(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!q(this).event.bubbles},get cancelable(){return!!q(this).event.cancelable},preventDefault(){Ws(q(this))},get defaultPrevented(){return q(this).canceled},get composed(){return!!q(this).event.composed},get timeStamp(){return q(this).timeStamp},get srcElement(){return q(this).eventTarget},get cancelBubble(){return q(this).stopped},set cancelBubble(e){if(!e)return;const n=q(this);n.stopped=!0,"boolean"==typeof n.event.cancelBubble&&(n.event.cancelBubble=!0)},get returnValue(){return!q(this).canceled},set returnValue(e){e||Ws(q(this))},initEvent(){}},Object.defineProperty(Ir.prototype,"constructor",{value:Ir,configurable:!0,writable:!0}),l(zs,"defineRedirectDescriptor"),l(Lc,"defineCallDescriptor"),l(Mc,"defineWrapper"),l(qs,"getWrapper"),l(Wc,"wrapEvent"),l(zc,"isStopped"),l(qc,"setEventPhase"),l($c,"setCurrentTarget"),l($s,"setPassiveListener");const sc=new WeakMap,ic=3;function Lr(e){return null!==e&&"object"==typeof e}function qt(e){const n=sc.get(e);if(null==n)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return n}function Hc(e){return{get(){let n=qt(this).get(e);for(;null!=n;){if(n.listenerType===ic)return n.listener;n=n.next}return null},set(n){"function"!=typeof n&&!Lr(n)&&(n=null);const a=qt(this);let c=null,d=a.get(e);for(;null!=d;)d.listenerType===ic?null!==c?c.next=d.next:null!==d.next?a.set(e,d.next):a.delete(e):c=d,d=d.next;if(null!==n){const d={listener:n,listenerType:ic,passive:!1,once:!1,next:null};null===c?a.set(e,d):c.next=d}},configurable:!0,enumerable:!0}}function Ds(e,n){Object.defineProperty(e,`on${n}`,Hc(n))}function Ns(e){function t(){$e.call(this)}l(t,"CustomEventTarget"),t.prototype=Object.create($e.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let n=0;n<e.length;++n)Ds(t.prototype,e[n]);return t}function $e(){if(!(this instanceof $e)){if(1===arguments.length&&Array.isArray(arguments[0]))return Ns(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let n=0;n<arguments.length;++n)e[n]=arguments[n];return Ns(e)}throw new TypeError("Cannot call a class as a function")}sc.set(this,new Map)}l(Lr,"isObject"),l(qt,"getListeners"),l(Hc,"defineEventAttributeDescriptor"),l(Ds,"defineEventAttribute"),l(Ns,"defineCustomEventTarget"),l($e,"EventTarget"),$e.prototype={addEventListener(e,n,a){if(null==n)return;if("function"!=typeof n&&!Lr(n))throw new TypeError("'listener' should be a function or an object.");const c=qt(this),d=Lr(a),p=(d?a.capture:a)?1:2,b={listener:n,listenerType:p,passive:d&&!!a.passive,once:d&&!!a.once,next:null};let y=c.get(e);if(void 0===y)return void c.set(e,b);let v=null;for(;null!=y;){if(y.listener===n&&y.listenerType===p)return;v=y,y=y.next}v.next=b},removeEventListener(e,n,a){if(null==n)return;const c=qt(this),d=(Lr(a)?a.capture:a)?1:2;let p=null,b=c.get(e);for(;null!=b;){if(b.listener===n&&b.listenerType===d)return void(null!==p?p.next=b.next:null!==b.next?c.set(e,b.next):c.delete(e));p=b,b=b.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw new TypeError('"event.type" should be a string.');const n=qt(this),a=e.type;let c=n.get(a);if(null==c)return!0;const d=Wc(this,e);let p=null;for(;null!=c;){if(c.once?null!==p?p.next=c.next:null!==c.next?n.set(a,c.next):n.delete(a):p=c,$s(d,c.passive?c.listener:null),"function"==typeof c.listener)try{c.listener.call(this,d)}catch(e){typeof console<"u"&&"function"==typeof console.error&&console.error(e)}else c.listenerType!==ic&&"function"==typeof c.listener.handleEvent&&c.listener.handleEvent(d);if(zc(d))break;c=c.next}return $s(d,null),qc(d,0),$c(d,null),!d.defaultPrevented}},Object.defineProperty($e.prototype,"constructor",{value:$e,configurable:!0,writable:!0});const lc=class extends $e{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const e=uc.get(this);if("boolean"!=typeof e)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return e}};l(lc,"AbortSignal");let cc=lc;function Kc(){const e=Object.create(cc.prototype);return $e.call(e),uc.set(e,!1),e}function Zc(e){!1===uc.get(e)&&(uc.set(e,!0),e.dispatchEvent({type:"abort"}))}Ds(cc.prototype,"abort"),l(Kc,"createAbortSignal"),l(Zc,"abortSignal");const uc=new WeakMap;Object.defineProperties(cc.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(cc.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});let dc=(l(Vn=class{constructor(){hc.set(this,Kc())}get signal(){return Us(this)}abort(){Zc(Us(this))}},"AbortController"),Vn);const hc=new WeakMap;function Us(e){const n=hc.get(e);if(null==n)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===e?"null":typeof e));return n}l(Us,"getSignal"),Object.defineProperties(dc.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(dc.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});var pc=Object.defineProperty,mc=l(((e,n)=>pc(e,"name",{value:n,configurable:!0})),"e");const gc=Ms;function Hs(){!globalThis.process?.versions?.node&&!globalThis.process?.env.DISABLE_NODE_FETCH_NATIVE_WARN&&console.warn("[node-fetch-native] Node.js compatible build of `node-fetch-native` is being used in a non-Node.js environment. Please make sure you are using proper export conditions or report this issue to https://github.com/unjs/node-fetch-native. You can set `process.env.DISABLE_NODE_FETCH_NATIVE_WARN` to disable this warning.")}Hs(),l(Hs,"s"),mc(Hs,"checkNodeEnvironment");var bc=Object.defineProperty,Vc=(e,n)=>bc(e,"name",{value:n,configurable:!0}),wc=Object.defineProperty,_c=Vc(((e,n)=>wc(e,"name",{value:n,configurable:!0})),"e");const Sc=!!globalThis.process?.env?.FORCE_NODE_FETCH;function Ks(){return!Sc&&globalThis.fetch?globalThis.fetch:gc}Vc(Ks,"p"),_c(Ks,"_getFetch");const Cc=Ks(),Ec=!Sc&&globalThis.Headers||Ja,Ac=!Sc&&globalThis.AbortController||dc;class sh extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}const jc=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Xc(e="GET"){return jc.has(e.toUpperCase())}const Pc=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Oc=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function dh(e,n,a=globalThis.Headers){const c={...n,...e};if(n?.params&&e?.params&&(c.params={...n?.params,...e?.params}),n?.query&&e?.query&&(c.query={...n?.query,...e?.query}),n?.headers&&e?.headers){c.headers=new a(n?.headers||{});for(const[n,d]of new a(e?.headers||{}))c.headers.set(n,d)}return c}const Ic=new Set([408,409,425,429,500,502,503,504]),Bc=new Set([101,204,205,304]);function Zs(e={}){const{fetch:n=globalThis.fetch,Headers:a=globalThis.Headers,AbortController:c=globalThis.AbortController}=e;async function s(e){const n=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!n){let n;n="number"==typeof e.options.retry?e.options.retry:Xc(e.options.method)?0:1;const a=e.response&&e.response.status||500;if(n>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(a):Ic.has(a))){const a=e.options.retryDelay||0;return a>0&&await new Promise((e=>setTimeout(e,a))),i(e.request,{...e.options,retry:n-1,timeout:e.options.timeout})}}const a=function(e){const n=e.error?.message||e.error?.toString()||"",a=e.request?.method||e.options?.method||"GET",c=e.request?.url||String(e.request)||"/",d=`[${a}] ${JSON.stringify(c)}`,p=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",b=new sh(`${d}: ${p}${n?` ${n}`:""}`,e.error?{cause:e.error}:void 0);for(const n of["request","options","response"])Object.defineProperty(b,n,{get:()=>e[n]});for(const[n,a]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(b,n,{get:()=>e.response&&e.response[a]});return b}(e);throw Error.captureStackTrace&&Error.captureStackTrace(a,i),a}const i=async function(d,p={}){const b={request:d,options:dh(p,e.defaults,a),response:void 0,error:void 0};if(b.options.method=b.options.method?.toUpperCase(),b.options.onRequest&&await b.options.onRequest(b),"string"==typeof b.request&&(b.options.baseURL&&(b.request=xr(b.request,b.options.baseURL)),(b.options.query||b.options.params)&&(b.request=Bt(b.request,{...b.options.params,...b.options.query}))),b.options.body&&Xc(b.options.method)&&(function(e){if(void 0===e)return!1;const n=typeof e;return"string"===n||"number"===n||"boolean"===n||null===n||"object"===n&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(b.options.body)?(b.options.body="string"==typeof b.options.body?b.options.body:JSON.stringify(b.options.body),b.options.headers=new a(b.options.headers||{}),b.options.headers.has("content-type")||b.options.headers.set("content-type","application/json"),b.options.headers.has("accept")||b.options.headers.set("accept","application/json")):("pipeTo"in b.options.body&&"function"==typeof b.options.body.pipeTo||"function"==typeof b.options.body.pipe)&&("duplex"in b.options||(b.options.duplex="half"))),!b.options.signal&&b.options.timeout){const e=new c;setTimeout((()=>e.abort()),b.options.timeout),b.options.signal=e.signal}try{b.response=await n(b.request,b.options)}catch(e){return b.error=e,b.options.onRequestError&&await b.options.onRequestError(b),await s(b)}if(b.response.body&&!Bc.has(b.response.status)&&"HEAD"!==b.options.method){const e=(b.options.parseResponse?"json":b.options.responseType)||function(e=""){if(!e)return"json";const n=e.split(";").shift()||"";return Oc.test(n)?"json":Pc.has(n)||n.startsWith("text/")?"text":"blob"}(b.response.headers.get("content-type")||"");switch(e){case"json":{const e=await b.response.text(),n=b.options.parseResponse||Ie;b.response._data=n(e);break}case"stream":b.response._data=b.response.body;break;default:b.response._data=await b.response[e]()}}return b.options.onResponse&&await b.options.onResponse(b),!b.options.ignoreResponseError&&b.response.status>=400&&b.response.status<600?(b.options.onResponseError&&await b.options.onResponseError(b),await s(b)):b.response},u=async function(e,n){return(await i(e,n))._data};return u.raw=i,u.native=(...e)=>n(...e),u.create=(n={})=>Zs({...e,defaults:{...e.defaults,...n}}),u}const Uc=globalThis.fetch||function(){if(!JSON.parse(process.env.FETCH_KEEP_ALIVE||"false"))return Cc;const e={keepAlive:!0},n=new a.Agent(e),d=new c.Agent(e),p={agent:e=>"http:"===e.protocol?n:d};return function(e,n){return Cc(e,{...p,...n})}}(),Dc=globalThis.Headers||Ec,Nc=globalThis.AbortController||Ac,Fc=Zs({fetch:Uc,Headers:Dc,AbortController:Nc}),Yc=new Set([101,204,205,304]);function Qs(e,n={},a){for(const c in e){const d=e[c],p=a?`${a}:${c}`:c;"object"==typeof d&&null!==d?Qs(d,n,p):"function"==typeof d&&(n[p]=d)}return n}const Gc={run:e=>e()},Qc=typeof console.createTask<"u"?console.createTask:()=>Gc;function xh(e,n){const a=n.shift(),c=Qc(a);return e.reduce(((e,a)=>e.then((()=>c.run((()=>a(...n)))))),Promise.resolve())}function Ch(e,n){const a=n.shift(),c=Qc(a);return Promise.all(e.map((e=>c.run((()=>e(...n))))))}function Gs(e,n){for(const a of[...e])a(n)}class Eh{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,a={}){if(!e||"function"!=typeof n)return()=>{};const c=e;let d;for(;this._deprecatedHooks[e];)d=this._deprecatedHooks[e],e=d.to;if(d&&!a.allowDeprecated){let e=d.message;e||(e=`${c} hook has been deprecated`+(d.to?`, please use ${d.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||(console.warn(e),this._deprecatedMessages.add(e))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let a,s=(...e)=>("function"==typeof a&&a(),a=void 0,s=void 0,n(...e));return a=this.hook(e,s),a}removeHook(e,n){if(this._hooks[e]){const a=this._hooks[e].indexOf(n);-1!==a&&this._hooks[e].splice(a,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]="string"==typeof n?{to:n}:n;const a=this._hooks[e]||[];delete this._hooks[e];for(const n of a)this.hook(e,n)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Qs(e),a=Object.keys(n).map((e=>this.hook(e,n[e])));return()=>{for(const e of a.splice(0,a.length))e()}}removeHooks(e){const n=Qs(e);for(const e in n)this.removeHook(e,n[e])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(xh,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(Ch,e,...n)}callHookWith(e,n,...a){const c=this._before||this._after?{name:n,args:a,context:{}}:void 0;this._before&&Gs(this._before,c);const d=e(n in this._hooks?[...this._hooks[n]]:[],a);return d instanceof Promise?d.finally((()=>{this._after&&c&&Gs(this._after,c)})):(this._after&&c&&Gs(this._after,c),d)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const n=this._before.indexOf(e);-1!==n&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const n=this._after.indexOf(e);-1!==n&&this._after.splice(n,1)}}}}function tu(){return new Eh}const Jc=/\d/,eu=["-","_","/","."];function jh(e=""){if(!Jc.test(e))return e.toUpperCase()===e}function kh(e,n){return e?(Array.isArray(e)?e:function(e,n){const a=n??eu,c=[];if(!e||"string"!=typeof e)return c;let d,p,b="";for(const n of e){const e=a.includes(n);if(!0===e){c.push(b),b="",d=void 0;continue}const y=jh(n);if(!1===p){if(!1===d&&!0===y){c.push(b),b=n,d=y;continue}if(!0===d&&!1===y&&b.length>1){const e=b[b.length-1];c.push(b.slice(0,Math.max(0,b.length-1))),b=e+n,d=y;continue}}b+=n,d=y,p=e}return c.push(b),c}(e)).map((e=>e.toLowerCase())).join(n??"-"):""}function ie(e){if("object"!=typeof e)return e;var n,a,c=Object.prototype.toString.call(e);if("[object Object]"===c){if(e.constructor!==Object&&"function"==typeof e.constructor)for(n in a=new e.constructor,e)e.hasOwnProperty(n)&&a[n]!==e[n]&&(a[n]=ie(e[n]));else for(n in a={},e)"__proto__"===n?Object.defineProperty(a,n,{value:ie(e[n]),configurable:!0,enumerable:!0,writable:!0}):a[n]=ie(e[n]);return a}if("[object Array]"===c){for(n=e.length,a=Array(n);n--;)a[n]=ie(e[n]);return a}return"[object Set]"===c?(a=new Set,e.forEach((function(e){a.add(ie(e))})),a):"[object Map]"===c?(a=new Map,e.forEach((function(e,n){a.set(ie(n),ie(e))})),a):"[object Date]"===c?new Date(+e):"[object RegExp]"===c?((a=new RegExp(e.source,e.flags)).lastIndex=e.lastIndex,a):"[object DataView]"===c?new e.constructor(ie(e.buffer)):"[object ArrayBuffer]"===c?e.slice(0):"Array]"===c.slice(-6)?new e.constructor(e):e}const ru=zt({nuxt:{}}),ou={app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""},nitro:{envPrefix:"NUXT_",routeRules:{"/__nuxt_error":{cache:!1},"/sw.js":{headers:{"Cache-Control":"public, max-age=0, must-revalidate"}},"/manifest.webmanifest":{headers:{"Content-Type":"application/manifest+json","Cache-Control":"public, max-age=0, must-revalidate"}},"/_nuxt/**":{headers:{"cache-control":"public, max-age=31536000, immutable"}}}},public:{name:"微信聊天生成器",i18n:{experimental:{jsTsFormatResource:!1},baseUrl:""},"nuxt-site-config":{siteConfig:{_context:{defaultLocale:"nuxt-site-config:config",trailingSlash:"defaults",name:"nuxt-site-config:config",indexable:"nuxt-site-config:config",description:"package.json",debug:"nuxt-site-config:config",titleSeparator:"nuxt-site-config:config",url:"env"},defaultLocale:"zh-CN",trailingSlash:!1,name:"微信聊天生成器",indexable:!0,description:"generator for wxchat",debug:!1,titleSeparator:"·",url:"https://chat.aitimi.cn"},version:"1.3.0"}},"nuxt-simple-sitemap":{version:"3.3.5",moduleConfig:{isI18nMap:!0,autoLastmod:!0,xsl:"/__sitemap__/style.xsl",xslTips:!0,cacheTtl:36e5,defaultSitemapsChunkSize:1e3,runtimeCacheStorage:"default",autoAlternativeLangPrefixes:"",credits:!0,defaults:{},xslColumns:[{label:"URL",width:"50%"},{label:"Images",width:"25%",select:"count(image:image)"},{label:"Last Updated",width:"25%",select:"concat(substring(sitemap:lastmod,0,11),concat(' ', substring(sitemap:lastmod,12,5)),concat(' ', substring(sitemap:lastmod,20,6)))"}],include:[],exclude:[],sitemaps:{"zh-CN":{},"en-US":{}},sitemapName:"sitemap.xml",dynamicUrlsApiEndpoint:"/api/_sitemap-urls",urls:[],debug:!1,discoverImages:!0,autoI18n:{defaultLocale:"zh-CN",locales:[{code:"zh-CN",iso:"zh-CN",name:"简体中文",file:"cn.json"},{code:"en",iso:"en-US",name:"English",file:"en.json"}],strategy:"prefix_except_default"}},buildTimeMeta:{isNuxtContentDocumentDriven:!1,hasApiRoutesUrl:!1,hasPrerenderedRoutesPayload:!0,prerenderSitemap:!1,version:"3.3.5"}},"nuxt-simple-robots":{credits:!0,groups:[{comment:[],disallow:[],allow:["/"],userAgent:["*"]}],sitemap:["/sitemap_index.xml"],robotsEnabledValue:"index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1",robotsDisabledValue:"noindex, nofollow"},"nuxt-og-image":{version:"2.0.28",satoriOptions:{},runtimeSatori:!0,runtimeBrowser:!1,defaults:{provider:"satori",component:"OgImageTemplateFallback",width:1200,height:630,cache:!0,cacheTtl:864e5},runtimeCacheStorage:"default",fonts:[{name:"Inter",weight:"400"},{name:"Inter",weight:"700"}],assetDirs:["/Users/cola/github/chat/public","/Users/cola/github/chat/node_modules/.pnpm/nuxt-og-image@2.0.28_rollup@2.79.1/node_modules/nuxt-og-image/dist/runtime/public-assets","/Users/cola/github/chat/node_modules/.pnpm/nuxt-og-image@2.0.28_rollup@2.79.1/node_modules/nuxt-og-image/dist/runtime/public-assets-optional/inter-font","/Users/cola/github/chat/node_modules/.pnpm/nuxt-og-image@2.0.28_rollup@2.79.1/node_modules/nuxt-og-image/dist/runtime/public-assets-optional/inter-font","/Users/cola/github/chat/node_modules/.pnpm/nuxt-og-image@2.0.28_rollup@2.79.1/node_modules/nuxt-og-image/dist/runtime/public-assets-optional/resvg","/Users/cola/github/chat/node_modules/.pnpm/nuxt-og-image@2.0.28_rollup@2.79.1/node_modules/nuxt-og-image/dist/runtime/public-assets-optional/yoga","/Users/cola/github/chat/node_modules/.pnpm/nuxt-og-image@2.0.28_rollup@2.79.1/node_modules/nuxt-og-image/dist/runtime/public-assets-optional/svg2png"]}},au="NITRO_",lu=ou.nitro.envPrefix??process.env.NITRO_ENV_PREFIX??"_",_u=Xs(Ys(ie(ou)));function G(e){if(!e)return _u;if(e.context.nitro.runtimeConfig)return e.context.nitro.runtimeConfig;const n=ie(ou);return Ys(n),e.context.nitro.runtimeConfig=n,n}const xu=Xs(ie(ru));function $h(e){const n=function(e){return kh(e,"_")}(e).toUpperCase();return Ie(process.env[au+n]??process.env[lu+n])}function nu(e){return"object"==typeof e&&!Array.isArray(e)}function Ys(e,n=""){for(const a in e){const c=n?`${n}_${a}`:a,d=$h(c);nu(e[a])?(nu(d)&&(e[a]={...e[a],...d}),Ys(e[a],c)):e[a]=d??e[a]}return e}function Xs(e){const n=Object.getOwnPropertyNames(e);for(const a of n){const n=e[a];n&&"object"==typeof n&&Xs(n)}return Object.freeze(e)}new Proxy(Object.create(null),{get:(e,n)=>{console.warn("Please use `useRuntimeConfig()` instead of accessing config directly.");const a=G();if(n in a)return a[n]}});const qu=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function Dh(e,n){const a=su(n=n?{...qu,...n}:qu);return a.dispatch(e),a.toString()}const Uu=Object.freeze(["prototype","__proto__","constructor"]);function su(e){let n="",a=new Map;const o=e=>{n+=e};return{toString:()=>n,getContext:()=>a,dispatch(n){return e.replacer&&(n=e.replacer(n)),this[null===n?"null":typeof n](n)},object(n){if(n&&"function"==typeof n.toJSON)return this.object(n.toJSON());const c=Object.prototype.toString.call(n);let d="";const p=c.length;d=p<10?"unknown:["+c+"]":c.slice(8,p-1),d=d.toLowerCase();let b=null;if(void 0!==(b=a.get(n)))return this.dispatch("[CIRCULAR:"+b+"]");if(a.set(n,a.size),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(n))return o("buffer:"),o(n.toString("utf8"));if("object"!==d&&"function"!==d&&"asyncfunction"!==d)this[d]?this[d](n):e.ignoreUnknown||this.unkown(n,d);else{let a=Object.keys(n);e.unorderedObjects&&(a=a.sort());let c=[];!1!==e.respectType&&!iu(n)&&(c=Uu),e.excludeKeys&&(a=a.filter((n=>!e.excludeKeys(n))),c=c.filter((n=>!e.excludeKeys(n)))),o("object:"+(a.length+c.length)+":");const g=a=>{this.dispatch(a),o(":"),e.excludeValues||this.dispatch(n[a]),o(",")};for(const e of a)g(e);for(const e of c)g(e)}},array(n,c){if(c=void 0===c?!1!==e.unorderedArrays:c,o("array:"+n.length+":"),!c||n.length<=1){for(const e of n)this.dispatch(e);return}const d=new Map,p=n.map((n=>{const a=su(e);a.dispatch(n);for(const[e,n]of a.getContext())d.set(e,n);return a.toString()}));return a=d,p.sort(),this.array(p,!1)},date:e=>o("date:"+e.toJSON()),symbol:e=>o("symbol:"+e.toString()),unkown(e,n){if(o(n),e&&(o(":"),e&&"function"==typeof e.entries))return this.array(Array.from(e.entries()),!0)},error:e=>o("error:"+e.toString()),boolean:e=>o("bool:"+e),string(e){o("string:"+e.length+":"),o(e)},function(n){o("fn:"),iu(n)?this.dispatch("[native]"):this.dispatch(n.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(n.name)),e.respectFunctionProperties&&this.object(n)},number:e=>o("number:"+e),xml:e=>o("xml:"+e.toString()),null:()=>o("Null"),undefined:()=>o("Undefined"),regexp:e=>o("regex:"+e.toString()),uint8array(e){return o("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},uint8clampedarray(e){return o("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},int8array(e){return o("int8array:"),this.dispatch(Array.prototype.slice.call(e))},uint16array(e){return o("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},int16array(e){return o("int16array:"),this.dispatch(Array.prototype.slice.call(e))},uint32array(e){return o("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},int32array(e){return o("int32array:"),this.dispatch(Array.prototype.slice.call(e))},float32array(e){return o("float32array:"),this.dispatch(Array.prototype.slice.call(e))},float64array(e){return o("float64array:"),this.dispatch(Array.prototype.slice.call(e))},arraybuffer(e){return o("arraybuffer:"),this.dispatch(new Uint8Array(e))},url:e=>o("url:"+e.toString()),map(n){o("map:");const a=[...n];return this.array(a,!1!==e.unorderedSets)},set(n){o("set:");const a=[...n];return this.array(a,!1!==e.unorderedSets)},file(e){return o("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},blob(){if(e.ignoreUnknown)return o("[blob]");throw new Error('Hashing Blob objects is currently not supported\nUse "options.replacer" or "options.ignoreUnknown"\n')},domwindow:()=>o("domwindow"),bigint:e=>o("bigint:"+e.toString()),process:()=>o("process"),timer:()=>o("timer"),pipe:()=>o("pipe"),tcp:()=>o("tcp"),udp:()=>o("udp"),tty:()=>o("tty"),statwatcher:()=>o("statwatcher"),securecontext:()=>o("securecontext"),connection:()=>o("connection"),zlib:()=>o("zlib"),context:()=>o("context"),nodescript:()=>o("nodescript"),httpparser:()=>o("httpparser"),dataview:()=>o("dataview"),signal:()=>o("signal"),fsevent:()=>o("fsevent"),tlswrap:()=>o("tlswrap")}}const Du="[native code] }",Nu=Du.length;function iu(e){return"function"==typeof e&&Function.prototype.toString.call(e).slice(-Nu)===Du}class Ye{constructor(e,n){e=this.words=e||[],this.sigBytes=void 0===n?4*e.length:n}toString(e){return(e||Fu).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let n=0;n<e.sigBytes;n++){const a=e.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=a<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<e.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=e.words[n>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Ye([...this.words])}}const Fu={stringify(e){const n=[];for(let a=0;a<e.sigBytes;a++){const c=e.words[a>>>2]>>>24-a%4*8&255;n.push((c>>>4).toString(16),(15&c).toString(16))}return n.join("")}},Hu={stringify(e){const n=[];for(let a=0;a<e.sigBytes;a+=3){const c=(e.words[a>>>2]>>>24-a%4*8&255)<<16|(e.words[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e.words[a+2>>>2]>>>24-(a+2)%4*8&255;for(let d=0;d<4&&8*a+6*d<8*e.sigBytes;d++)n.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c>>>6*(3-d)&63))}return n.join("")}},Zu={parse(e){const n=e.length,a=[];for(let c=0;c<n;c++)a[c>>>2]|=(255&e.charCodeAt(c))<<24-c%4*8;return new Ye(a,n)}},Gu={parse:e=>Zu.parse(unescape(encodeURIComponent(e)))};class Qh{constructor(){this._data=new Ye,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=16}reset(){this._data=new Ye,this._nDataBytes=0}_append(e){"string"==typeof e&&(e=Gu.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,n){}_process(e){let n,a=this._data.sigBytes/(4*this.blockSize);a=e?Math.ceil(a):Math.max((0|a)-this._minBufferSize,0);const c=a*this.blockSize,d=Math.min(4*c,this._data.sigBytes);if(c){for(let e=0;e<c;e+=this.blockSize)this._doProcessBlock(this._data.words,e);n=this._data.words.splice(0,c),this._data.sigBytes-=d}return new Ye(n,d)}}class Gh extends Qh{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}}const Ku=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Qu=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ju=[];class Yh extends Gh{constructor(){super(...arguments),this._hash=new Ye([...Ku])}reset(){super.reset(),this._hash=new Ye([...Ku])}_doProcessBlock(e,n){const a=this._hash.words;let c=a[0],d=a[1],p=a[2],b=a[3],y=a[4],v=a[5],j=a[6],L=a[7];for(let a=0;a<64;a++){if(a<16)Ju[a]=0|e[n+a];else{const e=Ju[a-15],n=(e<<25|e>>>7)^(e<<14|e>>>18)^e>>>3,c=Ju[a-2],d=(c<<15|c>>>17)^(c<<13|c>>>19)^c>>>10;Ju[a]=n+Ju[a-7]+d+Ju[a-16]}const U=c&d^c&p^d&p,F=(c<<30|c>>>2)^(c<<19|c>>>13)^(c<<10|c>>>22),Z=L+((y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25))+(y&v^~y&j)+Qu[a]+Ju[a];L=j,j=v,v=y,y=b+Z|0,b=p,p=d,d=c,c=Z+(F+U)|0}a[0]=a[0]+c|0,a[1]=a[1]+d|0,a[2]=a[2]+p|0,a[3]=a[3]+b|0,a[4]=a[4]+y|0,a[5]=a[5]+v|0,a[6]=a[6]+j|0,a[7]=a[7]+L|0}finalize(e){super.finalize(e);const n=8*this._nDataBytes,a=8*this._data.sigBytes;return this._data.words[a>>>5]|=128<<24-a%32,this._data.words[14+(a+64>>>9<<4)]=Math.floor(n/4294967296),this._data.words[15+(a+64>>>9<<4)]=n,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function $t(e,n={}){return function(e){return(new Yh).finalize(e).toString(Hu)}("string"==typeof e?e:Dh(e,n)).slice(0,10)}function K(e,...n){try{return function(e){return e&&"function"==typeof e.then?e:Promise.resolve(e)}(e(...n))}catch(e){return Promise.reject(e)}}function $n(e){if(function(e){const n=typeof e;return null===e||"object"!==n&&"function"!==n}(e))return String(e);if(function(e){const n=Object.getPrototypeOf(e);return!n||n.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return $n(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function cu(){if(void 0===typeof Buffer)throw new TypeError("[unstorage] Buffer is not supported!")}const ed="base64:";const td=["hasItem","getItem","getItemRaw","setItem","setItemRaw","removeItem","getMeta","setMeta","removeMeta","getKeys","clear","mount","unmount"];function ea(e,n){if(!(n=Mr(n)))return e;const a={...e};for(const c of td)a[c]=(a="",...d)=>e[c](n+a,...d);return a.getKeys=(a="",...c)=>e.getKeys(n+a,...c).then((e=>e.map((e=>e.slice(n.length))))),a}function re(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function sp(...e){return re(e.join(":"))}function Mr(e){return(e=re(e))?e+":":""}const ip=()=>{const e=new Map;return{name:"memory",options:{},hasItem:n=>e.has(n),getItem:n=>e.get(n)||null,getItemRaw:n=>e.get(n)||null,setItem(n,a){e.set(n,a)},setItemRaw(n,a){e.set(n,a)},removeItem(n){e.delete(n)},getKeys:()=>Array.from(e.keys()),clear(){e.clear()},dispose(){e.clear()}}};function uu(e,n,a){return e.watch?e.watch(((e,c)=>n(e,a+c))):()=>{}}async function fu(e){"function"==typeof e.dispose&&await K(e.dispose)}const rd={},ta=function(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""},nd={getKeys:()=>Promise.resolve(Object.keys(rd)),hasItem:e=>(e=ta(e),Promise.resolve(e in rd)),getItem:e=>(e=ta(e),Promise.resolve(rd[e]?rd[e].import():null)),getMeta:e=>(e=ta(e),Promise.resolve(rd[e]?rd[e].meta:{}))};function ra(e,n,a){return new Error(`[unstorage] [${e}] ${n}`,a)}function na(e){return"ENOENT"===e.code||"EISDIR"===e.code?null:e}function du(e){return"EEXIST"===e.code?null:e}async function hu(e,n,a){return await gu(Be(e)),we.writeFile(e,n,a)}function pu(e,n){return we.readFile(e,n).catch(na)}function mu(e){return we.readdir(e,{withFileTypes:!0}).catch(na).then((e=>e||[]))}async function gu(e){Te(e)||(await gu(Be(e)).catch(du),await we.mkdir(e).catch(du))}async function bu(e,n){if(n&&n(e))return[];const a=await mu(e),c=[];return await Promise.all(a.map((async a=>{const d=qe(e,a.name);if(a.isDirectory()){const e=await bu(d,n);c.push(...e.map((e=>a.name+"/"+e)))}else n&&n(a.name)||c.push(a.name)}))),c}async function yu(e){const n=await mu(e);await Promise.all(n.map((n=>{const a=qe(e,n.name);return n.isDirectory()?yu(a).then((()=>we.rmdir(a))):we.unlink(a)})))}const od=/\.\.\:|\.\.$/,id="fs-lite",ld=function(e={}){const n={mounts:{"":e.driver||ip()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(const a of n.mountpoints)if(e.startsWith(a))return{base:a,relativeKey:e.slice(a.length),driver:n.mounts[a]};return{base:"",relativeKey:e,driver:n.mounts[""]}},o=(e,a)=>n.mountpoints.filter((n=>n.startsWith(e)||a&&e.startsWith(n))).map((a=>({relativeBase:e.length>a.length?e.slice(a.length):void 0,mountpoint:a,driver:n.mounts[a]}))),s=(e,a)=>{if(n.watching){a=re(a);for(const c of n.watchListeners)c(e,a)}},u=async()=>{if(n.watching){for(const e in n.unwatch)await n.unwatch[e]();n.unwatch={},n.watching=!1}},h=(e,n,a)=>{const c=new Map,_=e=>{let n=c.get(e.base);return n||(n={driver:e.driver,base:e.base,items:[]},c.set(e.base,n)),n};for(const a of e){const e="string"==typeof a,c=re(e?a:a.key),d=e?void 0:a.value,p=e||!a.options?n:{...n,...a.options},b=r(c);_(b).items.push({key:c,value:d,relativeKey:b.relativeKey,options:p})}return Promise.all([...c.values()].map((e=>a(e)))).then((e=>e.flat()))},a={hasItem(e,n={}){e=re(e);const{relativeKey:a,driver:c}=r(e);return K(c.hasItem,a,n)},getItem(e,n={}){e=re(e);const{relativeKey:a,driver:c}=r(e);return K(c.getItem,a,n).then((e=>Ie(e)))},getItems:(e,n)=>h(e,n,(e=>e.driver.getItems?K(e.driver.getItems,e.items.map((e=>({key:e.relativeKey,options:e.options}))),n).then((n=>n.map((n=>({key:sp(e.base,n.key),value:Ie(n.value)}))))):Promise.all(e.items.map((n=>K(e.driver.getItem,n.relativeKey,n.options).then((e=>({key:n.key,value:Ie(e)})))))))),getItemRaw(e,n={}){e=re(e);const{relativeKey:a,driver:c}=r(e);return c.getItemRaw?K(c.getItemRaw,a,n):K(c.getItem,a,n).then((e=>function(e){return"string"==typeof e&&e.startsWith(ed)?(cu(),Buffer.from(e.slice(ed.length),"base64")):e}(e)))},async setItem(e,n,c={}){if(void 0===n)return a.removeItem(e);e=re(e);const{relativeKey:d,driver:p}=r(e);p.setItem&&(await K(p.setItem,d,$n(n),c),p.watch||s("update",e))},async setItems(e,n){await h(e,n,(async e=>{e.driver.setItems&&await K(e.driver.setItems,e.items.map((e=>({key:e.relativeKey,value:$n(e.value),options:e.options}))),n),e.driver.setItem&&await Promise.all(e.items.map((n=>K(e.driver.setItem,n.relativeKey,$n(n.value),n.options))))}))},async setItemRaw(e,n,c={}){if(void 0===n)return a.removeItem(e,c);e=re(e);const{relativeKey:d,driver:p}=r(e);if(p.setItemRaw)await K(p.setItemRaw,d,n,c);else{if(!p.setItem)return;await K(p.setItem,d,function(e){if("string"==typeof e)return e;cu();const n=Buffer.from(e).toString("base64");return ed+n}(n),c)}p.watch||s("update",e)},async removeItem(e,n={}){"boolean"==typeof n&&(n={removeMeta:n}),e=re(e);const{relativeKey:a,driver:c}=r(e);c.removeItem&&(await K(c.removeItem,a,n),(n.removeMeta||n.removeMata)&&await K(c.removeItem,a+"$",n),c.watch||s("remove",e))},async getMeta(e,n={}){"boolean"==typeof n&&(n={nativeOnly:n}),e=re(e);const{relativeKey:a,driver:c}=r(e),d=Object.create(null);if(c.getMeta&&Object.assign(d,await K(c.getMeta,a,n)),!n.nativeOnly){const e=await K(c.getItem,a+"$",n).then((e=>Ie(e)));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(d,e))}return d},setMeta(e,n,a={}){return this.setItem(e+"$",n,a)},removeMeta(e,n={}){return this.removeItem(e+"$",n)},async getKeys(e,n={}){e=Mr(e);const a=o(e,!0);let c=[];const d=[];for(const e of a){const a=(await K(e.driver.getKeys,e.relativeBase,n)).map((n=>e.mountpoint+re(n))).filter((e=>!c.some((n=>e.startsWith(n)))));d.push(...a),c=[e.mountpoint,...c.filter((n=>!n.startsWith(e.mountpoint)))]}return e?d.filter((n=>n.startsWith(e)&&!n.endsWith("$"))):d.filter((e=>!e.endsWith("$")))},async clear(e,n={}){e=Mr(e),await Promise.all(o(e,!1).map((async e=>{if(e.driver.clear)return K(e.driver.clear,e.relativeBase,n);if(e.driver.removeItem){const a=await e.driver.getKeys(e.relativeBase||"",n);return Promise.all(a.map((a=>e.driver.removeItem(a,n))))}})))},async dispose(){await Promise.all(Object.values(n.mounts).map((e=>fu(e))))},watch:async e=>(await(async()=>{if(!n.watching){n.watching=!0;for(const e in n.mounts)n.unwatch[e]=await uu(n.mounts[e],s,e)}})(),n.watchListeners.push(e),async()=>{n.watchListeners=n.watchListeners.filter((n=>n!==e)),0===n.watchListeners.length&&await u()}),async unwatch(){n.watchListeners=[],await u()},mount(e,c){if((e=Mr(e))&&n.mounts[e])throw new Error(`already mounted at ${e}`);return e&&(n.mountpoints.push(e),n.mountpoints.sort(((e,n)=>n.length-e.length))),n.mounts[e]=c,n.watching&&Promise.resolve(uu(c,s,e)).then((a=>{n.unwatch[e]=a})).catch(console.error),a},async unmount(e,a=!0){(e=Mr(e))&&n.mounts[e]&&(n.watching&&e in n.unwatch&&(n.unwatch[e](),delete n.unwatch[e]),a&&await fu(n.mounts[e]),n.mountpoints=n.mountpoints.filter((n=>n!==e)),delete n.mounts[e])},getMount(e=""){e=re(e)+":";const n=r(e);return{driver:n.driver,base:n.base}},getMounts:(e="",n={})=>(e=re(e),o(e,n.parents).map((e=>({driver:e.driver,base:e.mountpoint}))))};return a}({});function Nn(e=""){return e?ea(ld,e):ld}ld.mount("/assets",nd),ld.mount("data",((e={})=>{if(!e.base)throw function(e,n){return Array.isArray(n)?ra(e,`Missing some of the required options ${n.map((e=>"`"+e+"`")).join(", ")}`):ra(e,`Missing required option \`${n}\`.`)}(id,"base");e.base=qe(e.base);const t=n=>{if(od.test(n))throw ra(id,`Invalid key: ${JSON.stringify(n)}. It should not contain .. segments`);return ze(e.base,n.replace(/:/g,"/"))};return{name:id,options:e,hasItem:e=>Te(t(e)),getItem:e=>pu(t(e),"utf8"),getItemRaw:e=>pu(t(e)),async getMeta(e){const{atime:n,mtime:a,size:c,birthtime:d,ctime:p}=await we.stat(t(e)).catch((()=>({})));return{atime:n,mtime:a,size:c,birthtime:d,ctime:p}},setItem(n,a){if(!e.readOnly)return hu(t(n),a,"utf8")},setItemRaw(n,a){if(!e.readOnly)return hu(t(n),a)},removeItem(n){if(!e.readOnly)return function(e){return we.unlink(e).catch(na)}(t(n))},getKeys:()=>bu(t("."),e.ignore),async clear(){e.readOnly||e.noClear||await yu(t("."))}}})({driver:"fsLite",base:"/Users/cola/github/chat/.data/kv"}));const cd={name:"_",base:"/cache",swr:!0,maxAge:1};const mp=function(e,n={}){n={...cd,...n};const a={},c=n.group||"nitro/functions",d=n.name||e.name||"_",p=$t([n.integrity,e,n]),b=n.validate||(()=>!0);return async(...y)=>{if(n.shouldBypassCache?.(...y))return e(...y);const v=await(n.getKey||gp)(...y),j=n.shouldInvalidateCache?.(...y),L=await async function(e,y,v,j){const L=[n.base,c,d,e+".json"].filter(Boolean).join(":").replace(/:\/$/,":index"),U=await Nn().getItem(L)||{},F=1e3*(n.maxAge??n.maxAge??0);F&&(U.expires=Date.now()+F);const Z=v||U.integrity!==p||F&&Date.now()-(U.mtime||0)>F||!b(U),Q=Z?(async()=>{const c=a[e];c||(void 0!==U.value&&(n.staleMaxAge||0)>=0&&!1===n.swr&&(U.value=void 0,U.integrity=void 0,U.mtime=void 0,U.expires=void 0),a[e]=Promise.resolve(y()));try{U.value=await a[e]}catch(n){throw c||delete a[e],n}if(!c&&(U.mtime=Date.now(),U.integrity=p,delete a[e],b(U))){const e=Nn().setItem(L,U).catch((e=>{xe().captureError(e,{event:j,tags:["cache"]})}));j&&j.waitUntil&&j.waitUntil(e)}})():Promise.resolve();return Z&&j&&j.waitUntil&&j.waitUntil(Q),n.swr&&U.value?(Q.catch((e=>{xe().captureError(e,{event:j,tags:["cache"]})})),U):Q.then((()=>U))}(v,(()=>e(...y)),j,y[0]&&Vl(y[0])?y[0]:void 0);let U=L.value;return n.transform&&(U=await n.transform(L,...y)||U),U}};function gp(...e){return e.length>0?$t(e,{}):""}function sa(e){return String(e).replace(/\W/g,"")}function wu(e,n){return new Proxy(e,{get:(e,a,c)=>a in n?n[a]:Reflect.get(e,a,c),set:(e,a,c,d)=>a in n?(n[a]=c,!0):Reflect.set(e,a,c,d)})}const Su=function(e,n=cd){const a=(n.varies||[]).filter(Boolean).map((e=>e.toLowerCase())).sort(),c={...n,getKey:async e=>{const c=await(n.getKey?.(e));if(c)return sa(c);const d=e.node.req.originalUrl||e.node.req.url||e.path;return[`${sa(decodeURI(fe(d).pathname)).slice(0,16)||"index"}.${$t(d)}`,...a.map((n=>[n,e.node.req.headers[n]])).map((([e,n])=>`${sa(e)}.${$t(n)}`))].join(":")},validate:e=>!(e.value.code>=400||void 0===e.value.body),group:n.group||"nitro/handlers",integrity:[n.integrity,e]},d=mp((async c=>{const d={};for(const e of a)d[e]=c.node.req.headers[e];const p=wu(c.node.req,{headers:d}),b={};let y;const v=Yl(p,wu(c.node.res,{statusCode:200,writableEnded:!1,writableFinished:!1,headersSent:!1,closed:!1,getHeader:e=>b[e],setHeader(e,n){return b[e]=n,this},getHeaderNames:()=>Object.keys(b),hasHeader:e=>e in b,removeHeader(e){delete b[e]},getHeaders:()=>b,end(e,n,a){return"string"==typeof e&&(y=e),"function"==typeof n&&n(),"function"==typeof a&&a(),this},write(e,n,a){return"string"==typeof e&&(y=e),"function"==typeof n&&n(),"function"==typeof a&&a(),this},writeHead(e,n){if(this.statusCode=e,n)for(const e in n)this.setHeader(e,n[e]);return this}}));v.context=c.context;const j=await e(v)||y,L=v.node.res.getHeaders();L.etag=L.Etag||L.etag||`W/"${$t(j)}"`,L["last-modified"]=L["Last-Modified"]||L["last-modified"]||(new Date).toUTCString();const U=[];return n.swr?(n.maxAge&&U.push(`s-maxage=${n.maxAge}`),n.staleMaxAge?U.push(`stale-while-revalidate=${n.staleMaxAge}`):U.push("stale-while-revalidate")):n.maxAge&&U.push(`max-age=${n.maxAge}`),U.length>0&&(L["cache-control"]=U.join(", ")),{code:v.node.res.statusCode,headers:L,body:j}}),c);return Re((async a=>{if(n.headersOnly)return Ul(a,{maxAge:n.maxAge})?void 0:e(a);const c=await d(a);if(a.node.res.headersSent||a.node.res.writableEnded)return c.body;if(!Ul(a,{modifiedTime:new Date(c.headers["last-modified"]),etag:c.headers.etag,maxAge:n.maxAge})){a.node.res.statusCode=c.code;for(const e in c.headers)a.node.res.setHeader(e,c.headers[e]);return c.body}}))},ud=cs(ls({routes:G().nitro.routeRules}));function aa(e){return e.context._nitro=e.context._nitro||{},e.context._nitro.routeRules||(e.context._nitro.routeRules=Wr(as(e.path.split("?")[0],G().app.baseURL))),e.context._nitro.routeRules}function Wr(e){return Lt({},...ud.matchAll(e).reverse())}function vu(){const e=[];return{stack:e,push:function(n){if(n&&"object"==typeof n&&0!==Object.keys(n).length){if(!n._context){let e=new Error("tmp").stack?.split("\n")[2].split(" ")[5];e?.includes("/")&&(e="anonymous"),n._context=e}e.push(n)}},get:function(){const n={_context:{}};for(const a in e.sort(((e,n)=>(e._priority||0)-(n._priority||0))))for(const c in e[a]){const d=c,p=e[a][c];!c.startsWith("_")&&typeof p<"u"&&""!==p&&(n[c]=p,n._context[d]=e[a]._context?.[d]||e[a]._context||"anonymous")}return function(e){return typeof e.indexable<"u"&&(e.indexable="false"!==String(e.indexable)),typeof e.trailingSlash<"u"&&(e.trailingSlash="false"!==String(e.trailingSlash)),e.url&&!jt(e.url,{acceptRelative:!0,strict:!1})&&(e.url=Sl(e.url)),e}(n)}}}function Ru(e,n){let a=e;jt(e,{strict:!1,acceptRelative:!0})&&(a=fe(e).pathname);const c=Tr(n.base);"/"!==c&&a.startsWith(c)&&(a=a.slice(c.length));const d=n.absolute?n.siteUrl:"",p=n.withBase?xr(c,d||"/"):d,b=xr(a,p);return"/"!==a||n.withBase?Tu(n.trailingSlash,b):kt(b)}function Tu(e,n){const a=fe(n);if(a.pathname.includes("."))return n;const c=e?kt(a.pathname):Ot(a.pathname);return`${a.protocol?`${a.protocol}//`:""}${a.host||""}${c}${a.search||""}${a.hash||""}`}function Un(e){return e.context.siteConfig=e.context.siteConfig||vu(),e.context.siteConfig.get()}function ia(e){process.env.NITRO_SSL_CERT,process.env.NITRO_SSL_KEY;let n,a=process.env.NITRO_HOST||process.env.HOST||!1,c="https";return e&&(a=Wl(e,{xForwardedHost:!0})||a,c=zl(e,{xForwardedProto:!0})||c),"string"==typeof a&&a.includes(":")&&(n=a.split(":").pop(),a=a.split(":")[0]),n=n?`:${n}`:"",`${c}://${a}${n}/`}function Hn(e,n){e.context.siteConfig=e.context.siteConfig||vu(),e.context.siteConfig.push(n)}function dt(e,n={}){const a=Un(e),c=ia(e),d=G().app.baseURL||"/";return e=>Ru(e,{...n,siteUrl:!1!==n.canonical?a.url:c,trailingSlash:a.trailingSlash,base:d})}const dd=[async e=>{},function(e){e.hooks.hook("render:html",(e=>{e.head.push('<script>"use strict";(()=>{const a=window,e=document.documentElement,m=["dark","light"],c=window.localStorage.getItem("nuxt-color-mode")||"system";let n=c==="system"?f():c;const l=e.getAttribute("data-color-mode-forced");l&&(n=l),i(n),a["__NUXT_COLOR_MODE__"]={preference:c,value:n,getColorScheme:f,addColorScheme:i,removeColorScheme:d};function i(o){const t=""+o+"-mode",s="";e.classList?e.classList.add(t):e.className+=" "+t,s&&e.setAttribute("data-"+s,o)}function d(o){const t=""+o+"-mode",s="";e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t,"g"),""),s&&e.removeAttribute("data-"+s)}function r(o){return a.matchMedia("(prefers-color-scheme"+o+")")}function f(){if(a.matchMedia&&r("").media!=="not all"){for(const o of m)if(r(":"+o).matches)return o}return"light"}})();\n<\/script>')}))}],Pp=async function(e,n){const{stack:a,statusCode:c,statusMessage:d,message:p}=function(e){const n="function"==typeof process.cwd?process.cwd():"/",a=(e.stack||"").split("\n").splice(1).filter((e=>e.includes("at "))).map((e=>({text:e.replace(n+"/","./").replace("webpack:/","").replace("file://","").trim(),internal:e.includes("node_modules")&&!e.includes(".cache")||e.includes("internal")||e.includes("new Promise")}))),c=e.statusCode||500,d=e.statusMessage??(404===c?"Not Found":""),p=e.message||e.toString();return{stack:a,statusCode:c,statusMessage:d,message:p}}(e),b={url:n.path,statusCode:c,statusMessage:d,message:p,stack:"",data:e.data};if(e.unhandled||e.fatal){const n=["[nuxt]","[request error]",e.unhandled&&"[unhandled]",e.fatal&&"[fatal]",200!==Number(b.statusCode)&&`[${b.statusCode}]`].filter(Boolean).join(" ");console.error(n,b.message+"\n"+a.map((e=>"  "+e.text)).join("  \n"))}if(n.handled)return;if(It(n,200!==b.statusCode&&b.statusCode||500,b.statusMessage),Fn(y=n,"accept","application/json")||Fn(y,"user-agent","curl/")||Fn(y,"user-agent","httpie/")||Fn(y,"sec-fetch-mode","cors")||y.path.startsWith("/api/")||y.path.endsWith(".json"))return he(n,"Content-Type","application/json"),ve(n,JSON.stringify(b));var y;const v=n.path.startsWith("/__nuxt_error")?null:await xe().localFetch(Bt(Se(G().app.baseURL,"/__nuxt_error"),b),{headers:Rn(n),redirect:"manual"}).catch((()=>null));if(!v){const{template:e}=await import("./chunks/error-500.mjs");return n.handled?void 0:(he(n,"Content-Type","text/html;charset=UTF-8"),ve(n,e(b)))}const j=await v.text();if(!n.handled){for(const[e,a]of v.headers.entries())he(n,e,a);return It(n,v.status&&200!==v.status?v.status:void 0,v.statusText),ve(n,j)}},fd={"/.DS_Store":{type:"text/plain; charset=utf-8",etag:'"1804-3y++sUAKzaCQmjLBz2v0kvESHgc"',mtime:"2023-11-13T10:20:01.987Z",size:6148,path:"../public/.DS_Store"},"/_robots.txt":{type:"text/plain; charset=utf-8",etag:'"17-ZZkCVrbr4BSdjt/K43J0tq8+Qq4"',mtime:"2023-11-13T10:20:01.986Z",size:23,path:"../public/_robots.txt"},"/android-chrome-192x192.png":{type:"image/png",etag:'"9393-L7/oUM1pdYhFoJ/F2N4YqpXkelM"',mtime:"2023-11-13T10:20:01.986Z",size:37779,path:"../public/android-chrome-192x192.png"},"/android-chrome-512x512.png":{type:"image/png",etag:'"237ad-TLwYwgxI+eF5YHGB3zxKLHiIppg"',mtime:"2023-11-13T10:20:01.987Z",size:145325,path:"../public/android-chrome-512x512.png"},"/apple-touch-icon.png":{type:"image/png",etag:'"88dc-Ci/SZpIdauOLnX8rcMI0bvvrvMM"',mtime:"2023-11-13T10:20:01.987Z",size:35036,path:"../public/apple-touch-icon.png"},"/favicon-16x16.png":{type:"image/png",etag:'"355-P+QUFP51rYAeFjmXg8fGC6hMpEM"',mtime:"2023-11-13T10:20:01.986Z",size:853,path:"../public/favicon-16x16.png"},"/favicon-32x32.png":{type:"image/png",etag:'"8ff-RVXzW7ZZ2JCvptg0Sb6T5uLrRMQ"',mtime:"2023-11-13T10:20:01.987Z",size:2303,path:"../public/favicon-32x32.png"},"/favicon.ico":{type:"image/vnd.microsoft.icon",etag:'"3c2e-AXOhiw8IunBfdLJTWQIKMXarNsY"',mtime:"2023-11-13T10:20:01.987Z",size:15406,path:"../public/favicon.ico"},"/index.html":{type:"text/html;charset=utf-8",etag:'"447b-rFvHOWK2m3zG4OD2XBcWeTBhL8A"',mtime:"2023-11-13T10:20:04.404Z",size:17531,path:"../public/index.html"},"/inter-latin-ext-400-normal.woff":{type:"font/woff",etag:'"abcc-ScgUlgU6NMSchk9cXQMUZeQG8fc"',mtime:"2023-11-13T10:20:01.994Z",size:43980,path:"../public/inter-latin-ext-400-normal.woff"},"/inter-latin-ext-700-normal.woff":{type:"font/woff",etag:'"bb34-btkmYi1MS9GkMFR4+gGPWRFxwKU"',mtime:"2023-11-13T10:20:01.993Z",size:47924,path:"../public/inter-latin-ext-700-normal.woff"},"/logo.svg":{type:"image/svg+xml",etag:'"36375-cFSc9HqNe+msi081eTKAn4jGgcs"',mtime:"2023-11-13T10:20:01.988Z",size:222069,path:"../public/logo.svg"},"/manifest.webmanifest":{type:"application/manifest+json",etag:'"1a8-ghi3YBTbQDaQwGSzpNnBAiLvP5s"',mtime:"2023-11-13T10:20:01.964Z",size:424,path:"../public/manifest.webmanifest"},"/maskable-icon.png":{type:"image/png",etag:'"39d34-GJRodoxIfOmwqaiXCZ3fm5eyA/k"',mtime:"2023-11-13T10:20:01.988Z",size:236852,path:"../public/maskable-icon.png"},"/pwa-192x192.png":{type:"image/png",etag:'"9393-L7/oUM1pdYhFoJ/F2N4YqpXkelM"',mtime:"2023-11-13T10:20:01.987Z",size:37779,path:"../public/pwa-192x192.png"},"/pwa-512x512.png":{type:"image/png",etag:'"237ad-TLwYwgxI+eF5YHGB3zxKLHiIppg"',mtime:"2023-11-13T10:20:01.988Z",size:145325,path:"../public/pwa-512x512.png"},"/sw.js":{type:"application/javascript",etag:'"f68-ILPvaZcCpBwMU+CxOOHAdzDB2Uo"',mtime:"2023-11-13T10:20:07.536Z",size:3944,path:"../public/sw.js"},"/workbox-1bc7d4d5.js":{type:"application/javascript",etag:'"557b-2awxobCOU2/OndMln9zRHwD24XI"',mtime:"2023-11-13T10:20:07.543Z",size:21883,path:"../public/workbox-1bc7d4d5.js"},"/__nuxt_og_image__/browser-provider-not-supported.png":{type:"image/png",etag:'"d15f-AEZ7IAUVAPep6OcQIDh6DGEbiYY"',mtime:"2023-11-13T10:20:01.991Z",size:53599,path:"../public/__nuxt_og_image__/browser-provider-not-supported.png"},"/__og_image__/og.png":{type:"image/png",etag:'"15f57-ZtOH3jNKTNA+36XO+JlJ+QTAL3M"',mtime:"2023-11-13T10:20:06.042Z",size:89943,path:"../public/__og_image__/og.png"},"/__sitemap__/routes.json":{type:"application/json",etag:'"d-C48552+oRmX1dwXj9tlRW7EVCMU"',mtime:"2023-11-13T10:20:07.548Z",size:13,path:"../public/__sitemap__/routes.json"},"/_nuxt/1.97626993.js":{type:"application/javascript",etag:'"6c-ilMdf0gaHTeTRtdBzVN2/G45jtg"',mtime:"2023-11-13T10:20:01.969Z",size:108,path:"../public/_nuxt/1.97626993.js"},"/_nuxt/1.c58dc4fa.png":{type:"image/png",etag:'"22c53-TFWoGgaTjhUth8ai9zGygTKtbvc"',mtime:"2023-11-13T10:20:01.974Z",size:142419,path:"../public/_nuxt/1.c58dc4fa.png"},"/_nuxt/2.34a0971d.js":{type:"application/javascript",etag:'"6c-0ooBPApel+z31dDxfbw/IUP2ZYw"',mtime:"2023-11-13T10:20:01.969Z",size:108,path:"../public/_nuxt/2.34a0971d.js"},"/_nuxt/2.81785c9a.png":{type:"image/png",etag:'"8edc8-ztCvJuWLG0lDcG93cuH6AI4cNc4"',mtime:"2023-11-13T10:20:01.978Z",size:585160,path:"../public/_nuxt/2.81785c9a.png"},"/_nuxt/3.6e91a8cd.js":{type:"application/javascript",etag:'"6c-bIfQbwo9BCygSon/WbK6qv+hg3M"',mtime:"2023-11-13T10:20:01.969Z",size:108,path:"../public/_nuxt/3.6e91a8cd.js"},"/_nuxt/3.f7bf33e7.png":{type:"image/png",etag:'"96c18-HN81GjEpGFvjGnroo9gdBYy4bgw"',mtime:"2023-11-13T10:20:01.976Z",size:617496,path:"../public/_nuxt/3.f7bf33e7.png"},"/_nuxt/4.38b8ff35.js":{type:"application/javascript",etag:'"6c-ipGUrm27drGYuM/EzQ4VqKzMfqM"',mtime:"2023-11-13T10:20:01.970Z",size:108,path:"../public/_nuxt/4.38b8ff35.js"},"/_nuxt/4.f7dc48d7.png":{type:"image/png",etag:'"2a8fa-YVwY42sPizySTg32QgulPJ9sVMA"',mtime:"2023-11-13T10:20:01.974Z",size:174330,path:"../public/_nuxt/4.f7dc48d7.png"},"/_nuxt/5.008ff634.png":{type:"image/png",etag:'"600e9-QLE3jEZ0dw0eka9RfEj46jf7lEQ"',mtime:"2023-11-13T10:20:01.975Z",size:393449,path:"../public/_nuxt/5.008ff634.png"},"/_nuxt/5.1cf36af9.js":{type:"application/javascript",etag:'"6c-J69PJP3PwLZcUkiForrE6Twoqq8"',mtime:"2023-11-13T10:20:01.974Z",size:108,path:"../public/_nuxt/5.1cf36af9.js"},"/_nuxt/6.984a1105.png":{type:"image/png",etag:'"8b28e-KNF4VbjoXfz394O7OnhDQ0Y7gPc"',mtime:"2023-11-13T10:20:01.977Z",size:569998,path:"../public/_nuxt/6.984a1105.png"},"/_nuxt/6.c1b6651f.js":{type:"application/javascript",etag:'"6c-3N+mavHP5FgY9EuVRCcI0nnrCtE"',mtime:"2023-11-13T10:20:01.977Z",size:108,path:"../public/_nuxt/6.c1b6651f.js"},"/_nuxt/7.190286c3.js":{type:"application/javascript",etag:'"6c-fBuIMUi3iMe5qGRwW7J6TuZhMuI"',mtime:"2023-11-13T10:20:01.975Z",size:108,path:"../public/_nuxt/7.190286c3.js"},"/_nuxt/7.3484a87d.png":{type:"image/png",etag:'"4a43e-9V+mPf66EBQ3h0RjLHtoEIlsJQc"',mtime:"2023-11-13T10:20:01.977Z",size:304190,path:"../public/_nuxt/7.3484a87d.png"},"/_nuxt/_...all_.b8cc84ba.js":{type:"application/javascript",etag:'"1af-y8kM/STTi6peg+mhnQomouM6t+o"',mtime:"2023-11-13T10:20:01.976Z",size:431,path:"../public/_nuxt/_...all_.b8cc84ba.js"},"/_nuxt/_plugin-vue_export-helper.c27b6911.js":{type:"application/javascript",etag:'"5b-eFCz/UrraTh721pgAl0VxBNR1es"',mtime:"2023-11-13T10:20:01.976Z",size:91,path:"../public/_nuxt/_plugin-vue_export-helper.c27b6911.js"},"/_nuxt/cloud.1ac20dfc.png":{type:"image/png",etag:'"1cef3-fMe/5zy9tz0BI0v+KZwHRpQJ7fc"',mtime:"2023-11-13T10:20:01.977Z",size:118515,path:"../public/_nuxt/cloud.1ac20dfc.png"},"/_nuxt/cn.2d384fcb.js":{type:"application/javascript",etag:'"58-eWpzBVOyytasAM3y7WY7ZooOny8"',mtime:"2023-11-13T10:20:01.977Z",size:88,path:"../public/_nuxt/cn.2d384fcb.js"},"/_nuxt/default.5410b11a.js":{type:"application/javascript",etag:'"11b-aLRSlBfgaZqugj2Sd6bMm7Ql+bY"',mtime:"2023-11-13T10:20:01.977Z",size:283,path:"../public/_nuxt/default.5410b11a.js"},"/_nuxt/en.9fbac6b6.js":{type:"application/javascript",etag:'"5a-sfX8xwUPImz5cwWkx58Qy+vDjoc"',mtime:"2023-11-13T10:20:01.978Z",size:90,path:"../public/_nuxt/en.9fbac6b6.js"},"/_nuxt/entry.b11c0669.js":{type:"application/javascript",etag:'"41d5d-c8Sqj5qrB4W2B5w6QeL1cNWRCaM"',mtime:"2023-11-13T10:20:01.979Z",size:269661,path:"../public/_nuxt/entry.b11c0669.js"},"/_nuxt/entry.ec18f433.css":{type:"text/css; charset=utf-8",etag:'"e5f1-tN1+j0LSOEAMojavexCH9q4gbUc"',mtime:"2023-11-13T10:20:01.978Z",size:58865,path:"../public/_nuxt/entry.ec18f433.css"},"/_nuxt/error-404.7b8544b4.css":{type:"text/css; charset=utf-8",etag:'"e2e-6B947Tra97KTspo4S4SskWSsuIE"',mtime:"2023-11-13T10:20:01.978Z",size:3630,path:"../public/_nuxt/error-404.7b8544b4.css"},"/_nuxt/error-404.bcbd3197.js":{type:"application/javascript",etag:'"19b8-Zs7jny77p1m3FikEhsVhqxjzECw"',mtime:"2023-11-13T10:20:01.978Z",size:6584,path:"../public/_nuxt/error-404.bcbd3197.js"},"/_nuxt/error-500.69d9b457.js":{type:"application/javascript",etag:'"78b-hZ/cTGMHFPA1KpQfYVVMUkhYKZs"',mtime:"2023-11-13T10:20:01.978Z",size:1931,path:"../public/_nuxt/error-500.69d9b457.js"},"/_nuxt/error-500.cbe832a1.css":{type:"text/css; charset=utf-8",etag:'"79e-3BF4R7+ff7qwURwbdRmffygNBGg"',mtime:"2023-11-13T10:20:01.978Z",size:1950,path:"../public/_nuxt/error-500.cbe832a1.css"},"/_nuxt/hongbao.5de17a37.png":{type:"image/png",etag:'"233c-xXomI3lYHBIiTxyfBO510xx5Mio"',mtime:"2023-11-13T10:20:01.978Z",size:9020,path:"../public/_nuxt/hongbao.5de17a37.png"},"/_nuxt/index.068e1b1b.css":{type:"text/css; charset=utf-8",etag:'"34c8-3qB7y5ZGFr1zwCL4oRIklX50lqY"',mtime:"2023-11-13T10:20:01.979Z",size:13512,path:"../public/_nuxt/index.068e1b1b.css"},"/_nuxt/index.98f5444b.js":{type:"application/javascript",etag:'"18b3c-YQVXUv8Lkd4dwWUa31Je/RzrK28"',mtime:"2023-11-13T10:20:01.979Z",size:101180,path:"../public/_nuxt/index.98f5444b.js"},"/_nuxt/nuxt-i18n.c45fdb16.js":{type:"application/javascript",etag:'"56-glikPSXucDXt1dvsxH/9WeHxzQ0"',mtime:"2023-11-13T10:20:01.979Z",size:86,path:"../public/_nuxt/nuxt-i18n.c45fdb16.js"},"/_nuxt/record.41dec0be.js":{type:"application/javascript",etag:'"15fc0-EPc+dCIcAy+7gq7rznjYPIPD+qA"',mtime:"2023-11-13T10:20:01.979Z",size:90048,path:"../public/_nuxt/record.41dec0be.js"},"/_nuxt/replay.6d4b2b2d.css":{type:"text/css; charset=utf-8",etag:'"12e2-E9nEv/6uB03IC3XS1o8PLd8ZW1I"',mtime:"2023-11-13T10:20:01.979Z",size:4834,path:"../public/_nuxt/replay.6d4b2b2d.css"},"/_nuxt/replay.710fc9d6.js":{type:"application/javascript",etag:'"1f581-aUeb2384xEAKyOd6N3LCCd+asUo"',mtime:"2023-11-13T10:20:01.980Z",size:128385,path:"../public/_nuxt/replay.710fc9d6.js"},"/_nuxt/workbox-window.prod.es5.a7b12eab.js":{type:"application/javascript",etag:'"14a9-PgD6LVq3AWVnktFTXJIaapz+xFw"',mtime:"2023-11-13T10:20:01.979Z",size:5289,path:"../public/_nuxt/workbox-window.prod.es5.a7b12eab.js"}};function ca(e=""){return e&&e.includes("\\")?e.replace(/\\/g,"/"):e}const hd=/^[/\\]{2}/,md=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,gd=/^[A-Za-z]:$/,kp=function(...e){if(0===e.length)return".";let n;for(const a of e)a&&a.length>0&&(void 0===n?n=a:n+=`/${a}`);return void 0===n?".":function(e){if(0===e.length)return".";const n=(e=ca(e)).match(hd),a=zr(e),c="/"===e[e.length-1];return 0===(e=Cu(e,!a)).length?a?"/":c?"./":".":(c&&(e+="/"),gd.test(e)&&(e+="/"),n?a?`//${e}`:`//./${e}`:a&&!zr(e)?`/${e}`:e)}(n.replace(/\/\/+/g,"/"))};function Cu(e,n){let a="",c=0,d=-1,p=0,b=null;for(let y=0;y<=e.length;++y){if(y<e.length)b=e[y];else{if("/"===b)break;b="/"}if("/"===b){if(d!==y-1&&1!==p)if(2===p){if(a.length<2||2!==c||"."!==a[a.length-1]||"."!==a[a.length-2]){if(a.length>2){const e=a.lastIndexOf("/");-1===e?(a="",c=0):(a=a.slice(0,e),c=a.length-1-a.lastIndexOf("/")),d=y,p=0;continue}if(a.length>0){a="",c=0,d=y,p=0;continue}}n&&(a+=a.length>0?"/..":"..",c=2)}else a.length>0?a+=`/${e.slice(d+1,y)}`:a=e.slice(d+1,y),c=y-d-1;d=y,p=0}else"."===b&&-1!==p?++p:p=-1}return a}const zr=function(e){return md.test(e)};function Mp(e){const n=function(e){const n=ca(e).replace(/\/$/,"").split("/").slice(0,-1);return 1===n.length&&gd.test(n[0])&&(n[0]+="/"),n.join("/")||(zr(e)?"/":".")}(Z(globalThis._importMeta_.url));return le.readFile(function(...e){e=e.map((e=>ca(e)));let n="",a=!1;for(let c=e.length-1;c>=-1&&!a;c--){const d=c>=0?e[c]:typeof process<"u"?process.cwd().replace(/\\/g,"/"):"/";!d||0===d.length||(n=`${d}/${n}`,a=zr(d))}return n=Cu(n,!a),a&&!zr(n)?`/${n}`:n.length>0?n:"."}(n,fd[e].path))}const bd={"/_nuxt":{maxAge:31536e3}};function qp(e){return fd[e]}const yd=new Set(["HEAD","GET"]),wd={gzip:".gz",br:".br"},vd=En((e=>{if(e.method&&!yd.has(e.method))return;let n,a=function(e){return Rr(e.replace(ft,"%252F"))}(Tr(Ot(fe(e.path).pathname)));const c=[...String(Cr(e,"accept-encoding")||"").split(",").map((e=>wd[e.trim()])).filter(Boolean).sort(),""];c.length>1&&he(e,"Vary","Accept-Encoding");for(const e of c)for(const c of[a+e,Se(a,"index.html"+e)]){const e=qp(c);if(e){n=e,a=c;break}}if(!n){if(function(e=""){if(fd[e])return!0;for(const n in bd)if(e.startsWith(n))return!0;return!1}(a))throw function(e,n){e.node.res.removeHeader(n)}(e,"Cache-Control"),de({statusMessage:"Cannot find static asset "+a,statusCode:404});return}if(Cr(e,"if-none-match")===n.etag)return It(e,304,"Not Modified"),"";const d=Cr(e,"if-modified-since"),p=new Date(n.mtime);return d&&n.mtime&&new Date(d)>=p?(It(e,304,"Not Modified"),""):(n.type&&!Ar(e,"Content-Type")&&he(e,"Content-Type",n.type),n.etag&&!Ar(e,"ETag")&&he(e,"ETag",n.etag),n.mtime&&!Ar(e,"Last-Modified")&&he(e,"Last-Modified",p.toUTCString()),n.encoding&&!Ar(e,"Content-Encoding")&&he(e,"Content-Encoding",n.encoding),n.size>0&&!Ar(e,"Content-Length")&&he(e,"Content-Length",n.size),Mp(a))})),Sd=Re((e=>{if(!e.context.siteConfig){const n=function(e){if(!e)return xu;if(e.context.nitro.appConfig)return e.context.nitro.appConfig;const n=ie(ru);return e.context.nitro.appConfig=n,n}(),a=ia(e);e.context.siteConfigNitroOrigin=a;const{public:c}=G();Hn(e,{_context:"nitro:init",url:a}),Hn(e,c["nuxt-site-config"]?.siteConfig),n.site&&Hn(e,{_context:"app:config",...n.site}),e.context._nitro.routeRules.site&&Hn(e,{_context:"route-rules",...e.context._nitro.routeRules.site})}}));const Td=Re((async e=>{const n=it(e);vn(e,"Content-Type","text/plain; charset=utf-8"),vn(e,"Cache-Control","max-age=14400, must-revalidate");const{groups:a,sitemap:c,credits:d}=G()["nuxt-simple-robots"],{indexable:p}=Un(e);"true"===String(n.indexable)||n.indexable;const b=!1!==p;let y=[...Array.isArray(c)?c:[c]].map((n=>n.startsWith("http")?n:function(e,n,a={}){const c=e.context.siteConfig?.get();return Ru(n,{absolute:!0,siteUrl:!1!==a.canonical?c.url:e.context.siteConfigNitroOrigin,trailingSlash:c.trailingSlash,base:e.context.nitro.baseURL,withBase:a.withBase})}(e,n,{withBase:!0,absolute:!0})));y=[...new Set(y)];let v=[...a];b||(v=[{userAgent:["*"],disallow:["/"]}],y=[]);let j=function({groups:e,sitemaps:n}){const a=[];for(const n of e){for(const e of n.comment||[])a.push(`# ${e}`);for(const e of n.userAgent||["*"])a.push(`User-agent: ${e}`);for(const e of n.allow||[])a.push(`Allow: ${e}`);for(const e of n.disallow||[])a.push(`Disallow: ${e}`);a.push("")}for(const e of n)a.push(`Sitemap: ${e}`);return a.join("\n")}({groups:v,sitemaps:y});d&&(j=[`# START nuxt-simple-robots (${b?"indexable":"indexing disabled"})`,j,"# END nuxt-simple-robots"].filter(Boolean).join("\n"));const L={robotsTxt:j};return await xe().hooks.callHook("robots:robots-txt",L),L.robotsTxt}));function ua(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}const Cd=Re((e=>{if("/robots.txt"===e.path)return;const{indexable:n}=Un(e),{robotsDisabledValue:a,groups:c}=G()["nuxt-simple-robots"],d=aa(e);"string"!=typeof d.robots?!1!==d.index&&!1!==n&&function(e,n){let a=!0;const c=e.filter((e=>ua(e.userAgent).includes("*")));for(const e of c){const c=ua(e.disallow).filter((e=>!!e)).some((e=>n.startsWith(e))),d=ua(e.allow).some((e=>n.startsWith(e)));if(c&&!d){a=!1;break}}return a}(c,e.path)||vn(e,"X-Robots-Tag",a):vn(e,"X-Robots-Tag",d.robots)})),Ed=Re((async e=>{vn(e,"Content-Type","application/xslt+xml"),vn(e,"Cache-Control","max-age=600, must-revalidate");const n=dt(e,{absolute:!1,withBase:!0}),{version:a,moduleConfig:c}=G()["nuxt-simple-sitemap"],{name:d,url:p}=Un(e),b=jr(e,"Referer")||"/",y=b!==n("/sitemap.xml")&&fe(b).pathname.endsWith("-sitemap.xml"),v=fe(b).pathname.split("/").pop()?.split("-sitemap")[0]||void 0,j=is(b).canonical,L=typeof j<"u"&&"false"!==j,U=['You are looking at a <a href="https://developer.mozilla.org/en-US/docs/Web/XSLT/Transforming_XML_with_XSLT/An_Overview" style="color: #398465" target="_blank">XML stylesheet</a>. Read the <a href="https://nuxtseo.com/sitemap/guides/customising-ui" style="color: #398465" target="_blank">docs</a> to learn how to customize it.',`URLs missing? Check the <a href="${Bt("/api/__sitemap__/debug",{sitemap:v})}" style="color: #398465" target="_blank">debug endpoint</a>`];if(L)U.push(`You are viewing the canonical sitemap. You can switch to using the request origin: <a href="${n(b)}" style="color: #398465; white-space: nowrap ">${n(b)}</a>`);else{const e=Bt(b,{canonical:""});U.push(`Your canonical site URL is <strong>${p}</strong>.`),U.push(`You can preview your canonical sitemap by visiting <a href="${e}" style="color: #398465; white-space: nowrap;">${n(e)}?canonical</a>`)}let F=[...c.xslColumns];return F.length||(F=[{label:"URL",width:"50%"},{label:"Images",width:"25%",select:"count(image:image)"},{label:"Last Updated",width:"25%",select:"concat(substring(sitemap:lastmod,0,11),concat(' ', substring(sitemap:lastmod,12,5)),concat(' ', substring(sitemap:lastmod,20,6)))"}]),`<?xml version="1.0" encoding="UTF-8"?>\n<xsl:stylesheet version="2.0"\n                xmlns:html="http://www.w3.org/TR/REC-html40"\n                xmlns:image="http://www.google.com/schemas/sitemap-image/1.1"\n                xmlns:sitemap="http://www.sitemaps.org/schemas/sitemap/0.9"\n                xmlns:xhtml="http://www.w3.org/1999/xhtml"\n                xmlns:news="http://www.google.com/schemas/sitemap-news/0.9"\n                xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n  <xsl:output method="html" version="1.0" encoding="UTF-8" indent="yes"/>\n  <xsl:template match="/">\n    <html xmlns="http://www.w3.org/1999/xhtml">\n      <head>\n        <title>XML Sitemap</title>\n        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>\n        <style type="text/css">\n          body {\n            font-family: Inter, Helvetica, Arial, sans-serif;\n            font-size: 14px;\n            color: #333;\n          }\n\n          table {\n            border: none;\n            border-collapse: collapse;\n          }\n\n          .bg-yellow-200 {\n            background-color: #fef9c3;\n          }\n\n          .p-5 {\n            padding: 1.25rem;\n          }\n\n          .rounded {\n            border-radius: 4px;\n            }\n\n          .shadow {\n            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n          }\n\n          #sitemap tr:nth-child(odd) td {\n            background-color: #f8f8f8 !important;\n          }\n\n          #sitemap tbody tr:hover td {\n            background-color: #fff;\n          }\n\n          #sitemap tbody tr:hover td, #sitemap tbody tr:hover td a {\n            color: #000;\n          }\n\n          .expl a {\n            color: #398465\n            font-weight: 600;\n          }\n\n          .expl a:visited {\n            color: #398465\n          }\n\n          a {\n            color: #000;\n            text-decoration: none;\n          }\n\n          a:visited {\n            color: #777;\n          }\n\n          a:hover {\n            text-decoration: underline;\n          }\n\n          td {\n            font-size: 12px;\n          }\n\n          .text-2xl {\n            font-size: 2rem;\n            font-weight: 600;\n            line-height: 1.25;\n          }\n\n          th {\n            text-align: left;\n            padding-right: 30px;\n            font-size: 12px;\n          }\n\n          thead th {\n            border-bottom: 1px solid #000;\n          }\n          .fixed { position: fixed; }\n          .right-2 { right: 2rem; }\n          .top-2 { top: 2rem; }\n          .w-30 { width: 30rem; }\n          p { margin: 0; }\n          li { padding-bottom: 0.5rem; line-height: 1.5; }\n          h1 { margin: 0; }\n          .mb-5 { margin-bottom: 1.25rem; }\n        </style>\n      </head>\n      <body>\n        <div style="grid-template-columns: 1fr 1fr; display: grid; margin: 3rem;">\n            <div>\n             <div id="content">\n          <h1 class="text-2xl mb-5">${d} XML Sitemap</h1>\n          ${y?`<p style="font-size: 12px; margin-bottom: 1rem;"><a href="${n("/sitemap_index.xml")}">${n("/sitemap_index.xml")}</a></p>`:""}\n          <xsl:if test="count(sitemap:sitemapindex/sitemap:sitemap) &gt; 0">\n            <p class="expl" style="margin-bottom: 1rem;">\n              This XML Sitemap Index file contains\n              <xsl:value-of select="count(sitemap:sitemapindex/sitemap:sitemap)"/> sitemaps.\n            </p>\n            <table id="sitemap" cellpadding="3">\n              <thead>\n                <tr>\n                  <th width="75%">Sitemap</th>\n                  <th width="25%">Last Modified</th>\n                </tr>\n              </thead>\n              <tbody>\n                <xsl:for-each select="sitemap:sitemapindex/sitemap:sitemap">\n                  <xsl:variable name="sitemapURL">\n                    <xsl:value-of select="sitemap:loc"/>\n                  </xsl:variable>\n                  <tr>\n                    <td>\n                      <a href="{$sitemapURL}">\n                        <xsl:value-of select="sitemap:loc"/>\n                      </a>\n                    </td>\n                    <td>\n                      <xsl:value-of\n                        select="concat(substring(sitemap:lastmod,0,11),concat(' ', substring(sitemap:lastmod,12,5)),concat(' ', substring(sitemap:lastmod,20,6)))"/>\n                    </td>\n                  </tr>\n                </xsl:for-each>\n              </tbody>\n            </table>\n          </xsl:if>\n          <xsl:if test="count(sitemap:sitemapindex/sitemap:sitemap) &lt; 1">\n            <p class="expl" style="margin-bottom: 1rem;">\n              This XML Sitemap contains\n              <xsl:value-of select="count(sitemap:urlset/sitemap:url)"/> URLs.\n            </p>\n            <table id="sitemap" cellpadding="3">\n              <thead>\n                <tr>\n                  ${F.map((e=>`<th width="${e.width}">${e.label}</th>`)).join("\n")}\n                </tr>\n              </thead>\n              <tbody>\n                <xsl:variable name="lower" select="'abcdefghijklmnopqrstuvwxyz'"/>\n                <xsl:variable name="upper" select="'ABCDEFGHIJKLMNOPQRSTUVWXYZ'"/>\n                <xsl:for-each select="sitemap:urlset/sitemap:url">\n                  <tr>\n                    <td>\n                      <xsl:variable name="itemURL">\n                        <xsl:value-of select="sitemap:loc"/>\n                      </xsl:variable>\n                      <a href="{$itemURL}">\n                        <xsl:value-of select="sitemap:loc"/>\n                      </a>\n                    </td>\n                    ${F.filter((e=>"URL"!==e.label)).map((e=>`<td>\n<xsl:value-of select="${e.select}"/>\n</td>`)).join("\n")}\n                  </tr>\n                </xsl:for-each>\n              </tbody>\n            </table>\n          </xsl:if>\n        </div>\n        </div>\n                    \n        </div>\n      </body>\n    </html>\n  </xsl:template>\n</xsl:stylesheet>\n`}));async function Eu(e){return"function"==typeof e&&(e=e()),e=await e}async function Pu(e){const{hasPrerenderedRoutesPayload:n,isNuxtContentDocumentDriven:a}=e.buildTimeMeta,c=[];function s(e,n=8e3){const a="api",d=Date.now(),p=new AbortController,b=setTimeout((()=>p.abort()),n);let y=!1;return globalThis.$fetch(e,{responseType:"json",signal:p.signal,headers:{Accept:"application/json"},onResponse({response:e}){"string"==typeof e._data&&e._data.startsWith("<!DOCTYPE html>")&&(y=!0)}}).then((n=>{const p=Date.now()-d;y?c.push({context:a,timeTakenMs:p,urls:[],path:e,error:"Received HTML response instead of JSON"}):c.push({context:a,timeTakenMs:p,path:e,urls:n})})).catch((n=>{c.push({context:a,urls:[],path:e,error:n})})).finally((()=>{b&&clearTimeout(b)}))}c.push({context:"pages",urls:e.pages}),e.prerenderUrls&&c.push({context:"prerender",urls:e.prerenderUrls}),e.extraRoutes.prerenderUrls.length&&c.push({context:"nuxt-config.nitro-prerender",urls:e.extraRoutes.prerenderUrls}),e.extraRoutes.routeRules.length&&c.push({context:"nuxt-config.route-rules",urls:e.extraRoutes.routeRules}),c.push({context:"nuxt-config.module",path:"urls",urls:await Eu(e.moduleConfig.urls)});const d=[];async function u(e){e.urls&&c.push({context:"nuxt-config.module",path:`sitemaps.${e.sitemapName}.urls`,urls:await Eu(e.urls)}),e.dynamicUrlsApiEndpoint&&d.push(s(e.dynamicUrlsApiEndpoint))}if(e.buildTimeMeta.hasApiRoutesUrl&&d.push(s(e.moduleConfig.dynamicUrlsApiEndpoint)),e.sitemap||"object"!=typeof e.moduleConfig.sitemaps)e.sitemap&&await u(e.sitemap);else for(const n of Object.entries(e.moduleConfig.sitemaps)){const[e,a]=n;await u({sitemapName:e,...a})}return n&&d.push(s(e.canonicalUrlResolver("/__sitemap__/routes.json"),1500)),a&&d.push(s("/api/__sitemap__/document-driven-urls",4e3)),await Promise.all(d),c}function fa(e,n){const a={};return e.forEach((e=>{const c=e[n];a[c]=Lt(e,a[c]||{})})),Object.values(a)}async function da(e,n){const{defaults:a,exclude:c,include:d,autoLastmod:p,autoI18n:b,isI18nMap:y}=n.moduleConfig,v=function(e={}){const n=e.include||[],a=e.exclude||[];return 0===n.length&&0===a.length?()=>!0:function(e){for(const c of[{rules:a,result:!1},{rules:n,result:!0}]){if(c.rules.filter((e=>e instanceof RegExp)).some((n=>n.test(e))))return c.result;const n=c.rules.filter((e=>"string"==typeof e));if(n.length>0){const a={};for(const d of n){if(d===e)return c.result;a[d]=!0}if(cs(ls({routes:a,strictTrailingSlash:!1})).matchAll(e).length>0)return!!c.result}}return 0===n.length}}({include:[...n.sitemap?.include||[],...d||[]],exclude:[...n.sitemap?.exclude||[],...c||[]]});function g(e){if(e){if(jt(e="string"==typeof e?e:e.toString(),{acceptRelative:!0,strict:!1})){if(!e.startsWith(n.canonicalUrlResolver("/")))return e;e=e.replace(n.canonicalUrlResolver("/"),"")}return n.canonicalUrlResolver(e)}}const j=Lt(n.sitemap?.defaults,a);p&&(j.lastmod=j.lastmod||new Date);let L=e.map((e=>"string"==typeof e?{loc:e}:e)).map((e=>((e={...e}).url&&(e.loc=e.url,delete e.url),e.loc=Tu(!1,e.loc),e=Lt(e,j)))).map((e=>{const a=n.getRouteRulesForPath(e.loc);return!1!==a.index&&Lt(a.sitemap||{},e)})).filter(Boolean);if(b?.locales){const e=L.reduce(((e,n)=>{const a=n.loc.match(new RegExp(`^/(${b.locales.map((e=>e.code)).join("|")})(.*)`));let c=n.loc,d=null;return a&&(c=a[2]||"/",d=a[1]),e[c]=e[c]||[],e[c].push({entry:n,prefix:d}),e}),{});Object.entries(e).forEach((([e,n])=>{b.locales.map((e=>e.code)).forEach((a=>{n.map((e=>e.prefix)).filter(Boolean).includes(a)||("prefix"===b.strategy?L.push({...n[0].entry,loc:Se(`/${a}`,e)}):"prefix_except_default"===b.strategy&&L.push({...n[0].entry,loc:a===b.defaultLocale?e:Se(`/${a}`,e)}))}))})),L.map((e=>{let n=e.loc.replace(new RegExp(`^/(${b.locales.map((e=>e.code)).join("|")})(.*)`),"$2");n=n||"/";let a=e.loc;return"prefix"===b.strategy?a=Se("/",b.defaultLocale,n):"prefix_except_default"===b.strategy&&(a=n),e.alternatives=e.alternatives||[...b.locales.map((e=>{const a=e.code===b.defaultLocale;let c="";return"prefix"===b.strategy?c=Se("/",e.code,n):"prefix_except_default"===b.strategy&&(c=a?n:Se("/",e.code,n)),{hreflang:e.iso||e.code,href:c}})),{hreflang:"x-default",href:a}],e})),"prefix"===b.strategy&&(L=L.filter((e=>e.loc.match(new RegExp(`^/(${b.locales.map((e=>e.code)).join("|")})(.*)`)))))}let U=L.filter((e=>e&&v(e.loc)));if(y&&n.sitemap?.sitemapName){const e=n.sitemap?.sitemapName;U=U.filter((n=>{const a=n.alternatives?.find((n=>n.hreflang===e));return!!a&&a.href===n.loc}))}function x(e){if(e.lastmod){const n=Au(e.lastmod);n?e.lastmod=n:delete e.lastmod}return e.lastmod||delete e.lastmod,e.loc=g(e.loc),e.alternatives&&(e.alternatives=fa(e.alternatives.map((e=>{const n={...e};return"string"==typeof n.href?n.href=g(n.href):"object"==typeof n.href&&n.href&&(n.href=g(n.href.href)),n})),"hreflang")),e.images&&(e.images=fa(e.images.map((e=>((e={...e}).loc=g(e.loc),e))),"loc")),e.videos&&(e.videos=e.videos.map((e=>((e={...e}).contentLoc=g(e.contentLoc),e)))),e}function E(e){return fa(e.map(x),"loc").sort(((e,n)=>e.loc>n.loc?1:e.loc<n.loc?-1:0)).sort(((e,n)=>{const a=e.loc.split("/").length,c=n.loc.split("/").length;return a>c?1:a<c?-1:0}))}const F={urls:E(U),sitemapName:n.sitemap?.sitemapName||"sitemap"};return n.callHook&&await n.callHook(F),E(F.urls)}function Au(e){const n="string"==typeof e?new Date(e):e;if(!(n instanceof Date))return!1;const r=e=>`0${e}`.slice(-2);return`${n.getUTCFullYear()}-${r(n.getUTCMonth()+1)}-${r(n.getUTCDate())}T${r(n.getUTCHours())}:${r(n.getUTCMinutes())}:${r(n.getUTCSeconds())}+00:00`}function ju(e,{xsl:n,credits:a,version:c}){return e.unshift('<?xml version="1.0" encoding="UTF-8"?>'+(n?`<?xml-stylesheet type="text/xsl" href="${n}"?>`:"")),a&&e.push(`\x3c!-- XML Sitemap generated by Nuxt Simple Sitemap V${c} --\x3e`),e.join("\n")}function Nt(e){return!0===e||!1===e?e?"yes":"no":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}async function Ou(e){const n=e.moduleConfig.sitemaps,a=await Pu(e);let c=await da(a.map((e=>e.urls)).flat(),e);function i(e,n){return[`        <${e}:${e}>`,...Object.entries(n).map((([n,a])=>"object"==typeof a?[`            <${e}:${n}>`,...Object.entries(a).map((([n,a])=>`                <${e}:${n}>${Nt(a)}</${e}:${n}>`)),`            </${e}:${n}>`].join("\n"):`            <${e}:${n}>${Nt(a)}</${e}:${n}>`)),`        </${e}:${e}>`].join("\n")}function h(e,n){return Array.isArray(n[e])?function(e,n){return 0!==n.length&&("alternatives"===(e=function(e){switch(e){case"images":return"image";case"videos":return"video";case"news":return"news";default:return e}}(e))?n.map((e=>[`        <xhtml:link rel="alternate" ${Object.entries(e).map((([e,n])=>`${e}="${Nt(n)}"`)).join(" ")} />`].join("\n"))).join("\n"):n.map((n=>i(e,n))).join("\n"))}(e,n[e]):"object"==typeof n[e]?i(e,n[e]):`        <${e}>${Nt(n[e])}</${e}>`}return!0===n&&e.moduleConfig.defaultSitemapsChunkSize&&(c=c.slice(Number(e.sitemap?.sitemapName)*e.moduleConfig.defaultSitemapsChunkSize,(Number(e.sitemap?.sitemapName)+1)*e.moduleConfig.defaultSitemapsChunkSize)),ju(['<urlset xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:video="http://www.google.com/schemas/sitemap-video/1.1" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:image="http://www.google.com/schemas/sitemap-image/1.1" xmlns:news="http://www.google.com/schemas/sitemap-news/0.9" xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd http://www.google.com/schemas/sitemap-image/1.1 http://www.google.com/schemas/sitemap-image/1.1/sitemap-image.xsd" xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',...c?.map((e=>`    <url>\n${Object.keys(e).map((n=>h(n,e))).filter((e=>!1!==e)).join("\n")}\n    </url>`))??[],"</urlset>"],{xsl:!!e.moduleConfig.xsl&&e.relativeBaseUrlResolver(e.moduleConfig.xsl),credits:e.moduleConfig.credits,version:e.buildTimeMeta.version})}function Yp(e,n){return ju(['<sitemapindex xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',e.map((e=>["    <sitemap>",`        <loc>${Nt(e.sitemap)}</loc>`,!!e.lastmod&&`        <lastmod>${Nt(e.lastmod)}</lastmod>`,"    </sitemap>"].filter(Boolean).join("\n"))).join("\n"),"</sitemapindex>"],n)}async function ha(e,n){const{moduleConfig:a,buildTimeMeta:c}=G()["nuxt-simple-sitemap"],d=a.runtimeCacheStorage&&a.cacheTtl&&a.cacheTtl>0,p="default"===a.runtimeCacheStorage?`/cache/nuxt-simple-sitemap${c.version}`:`/nuxt-simple-sitemap/${c.version}`,b=ea(Nn(),`${p}/sitemaps`);let y="MISS",v=0;const j=typeof it(e).purge<"u";let L=!1;if(d&&await b.hasItem(n)){const{value:e,expiresAt:a}=await b.getItem(n);a>Date.now()?j?(y="PURGE",await b.removeItem(n)):(y="HIT",v=a,L=e):await b.removeItem(n)}return vn(e,"x-sitemap-cache",y),vn(e,"x-sitemap-cache-expires",v.toString()),{cachedSitemap:L,cache:async e=>{d&&await b.setItem(n,{value:e,expiresAt:Date.now()+(a.cacheTtl||0)})}}}const kd=[{loc:"/",lastmod:"2023-10-15T08:00:05.471Z",alternatives:[{hreflang:"zh-CN",href:"/"},{hreflang:"en-US",href:"/en"},{hreflang:"x-default",href:"/"}]},{loc:"/en",lastmod:"2023-10-15T08:00:05.471Z",alternatives:[{hreflang:"zh-CN",href:"/"},{hreflang:"en-US",href:"/en"},{hreflang:"x-default",href:"/"}]},{loc:"/replay",lastmod:"2023-10-01T05:14:40.092Z",alternatives:[{hreflang:"zh-CN",href:"/replay"},{hreflang:"en-US",href:"/en/replay"},{hreflang:"x-default",href:"/replay"}]},{loc:"/en/replay",lastmod:"2023-10-01T05:14:40.092Z",alternatives:[{hreflang:"zh-CN",href:"/replay"},{hreflang:"en-US",href:"/en/replay"},{hreflang:"x-default",href:"/replay"}]}],Ad={routeRules:[],prerenderUrls:["/"]},ku=()=>import("./chunks/handlers/renderer.mjs").then((function(e){return e.r})),jd=[{route:"",handler:vd,lazy:!1,middleware:!0,method:void 0},{route:"/api/export",handler:()=>import("./chunks/export.post.mjs"),lazy:!0,middleware:!1,method:"post"},{route:"/__nuxt_error",handler:ku,lazy:!0,middleware:!1,method:void 0},{route:"",handler:Sd,lazy:!1,middleware:!0,method:void 0},{route:"/robots.txt",handler:Td,lazy:!1,middleware:!1,method:void 0},{route:"",handler:Cd,lazy:!1,middleware:!1,method:void 0},{route:"/__sitemap__/style.xsl",handler:Ed,lazy:!1,middleware:!1,method:void 0},{route:"/sitemap_index.xml",handler:Re((async e=>{const{moduleConfig:n,buildTimeMeta:a}=G()["nuxt-simple-sitemap"],{cachedSitemap:c,cache:d}=await ha(e,"sitemap_index");let p=c;const b=xe(),h=async e=>{await b.hooks.callHook("sitemap:resolved",e)};if(!p){const c=it(e).canonical;p=(await async function(e){const n=e.moduleConfig.sitemaps;if(!n)throw new Error("Attempting to build a sitemap index without required `sitemaps` configuration.");const a={},c=await Pu(e);if(!0===n)(await da(c.map((e=>e.urls)).flat(),e)).forEach(((n,c)=>{const d=Math.floor(c/e.moduleConfig.defaultSitemapsChunkSize);a[d]=a[d]||{urls:[]},a[d].urls.push(n)}));else for(const d in n)"index"!==d&&(a[d]=a[d]||{urls:[]},a[d].urls=await da(c.map((e=>e.urls)).flat(),Lt({sitemap:n[d]},e)));const d=[],p=[];for(const n in a){const c=a[n],b={sitemap:e.canonicalUrlResolver(`${n}-sitemap.xml`)};let y=c.urls.filter((e=>!!e?.lastmod)).map((e=>"string"==typeof e.lastmod?new Date(e.lastmod):e.lastmod)).sort(((e,n)=>(n?.getTime()||0)-(e?.getTime()||0)))?.[0];!y&&e.moduleConfig.autoLastmod&&(y=new Date),y&&(b.lastmod=Au(y)),d.push(b),p.push({sitemapName:n,urls:c.urls})}return!0!==n&&n.index&&d.push(...n.index.map((e=>"string"==typeof e?{sitemap:e}:e))),{sitemaps:p,xml:Yp(d,{xsl:!!e.moduleConfig.xsl&&e.relativeBaseUrlResolver(e.moduleConfig.xsl),credits:e.moduleConfig.credits,version:e.buildTimeMeta.version})}}({moduleConfig:n,buildTimeMeta:a,getRouteRulesForPath:Wr,callHook:h,extraRoutes:Ad,canonicalUrlResolver:dt(e,{canonical:typeof c<"u"&&"false"!==c||!0,absolute:!0,withBase:!0}),relativeBaseUrlResolver:dt(e,{absolute:!1,withBase:!0}),pages:kd})).xml;const b=xe(),y={sitemap:p,sitemapName:"sitemap"};await b.hooks.callHook("sitemap:output",y),p=y.sitemap,await d(p)}return vn(e,"Content-Type","text/xml; charset=UTF-8"),vn(e,"Cache-Control","max-age=600, must-revalidate"),p})),lazy:!1,middleware:!1,method:void 0},{route:"",handler:Re((async e=>{const n=fe(e.path).pathname;if(!n.endsWith("-sitemap.xml"))return;const{moduleConfig:a,buildTimeMeta:c}=G()["nuxt-simple-sitemap"];if(!a.sitemaps)return;const d=n.replace("-sitemap.xml","").replace("/","");if(!0!==a.sitemaps&&!a.sitemaps[d])return;const{cachedSitemap:p,cache:b}=await ha(e,d);let y=p;if(!y){const n=xe(),f=async e=>{await n.hooks.callHook("sitemap:resolved",e)},p=it(e).canonical,v=typeof p<"u"&&"false"!==p;y=await Ou({sitemap:{sitemapName:d,...a.sitemaps[d]},extraRoutes:Ad,canonicalUrlResolver:dt(e,{canonical:v||!0,absolute:!0,withBase:!0}),relativeBaseUrlResolver:dt(e,{absolute:!1,withBase:!0}),moduleConfig:a,buildTimeMeta:c,getRouteRulesForPath:Wr,callHook:f,pages:kd});const j={sitemap:y,sitemapName:d};await n.hooks.callHook("sitemap:output",j),y=j.sitemap,await b(y)}return vn(e,"Content-Type","text/xml; charset=UTF-8"),vn(e,"Cache-Control","max-age=600, must-revalidate"),y})),lazy:!1,middleware:!1,method:void 0},{route:"/sitemap.xml",handler:Re((async e=>{const{moduleConfig:n,buildTimeMeta:a}=G()["nuxt-simple-sitemap"];if(n.sitemaps)return _s(e,xr("/sitemap_index.xml",G().app.baseURL),301);const{cachedSitemap:c,cache:d}=await ha(e,"sitemap",it(e).purge);let p=c;if(!c){const c=xe(),h=async e=>{await c.hooks.callHook("sitemap:resolved",e)},b=it(e).canonical;p=await Ou({moduleConfig:n,extraRoutes:Ad,buildTimeMeta:a,canonicalUrlResolver:dt(e,{canonical:typeof b<"u"&&"false"!==b||!0,absolute:!0,withBase:!0}),relativeBaseUrlResolver:dt(e,{absolute:!1,withBase:!0}),getRouteRulesForPath:Wr,callHook:h,pages:kd});const y={sitemap:p,sitemapName:"sitemap"};await c.hooks.callHook("sitemap:output",y),p=y.sitemap,await d(p)}return vn(e,"Content-Type","text/xml; charset=UTF-8"),vn(e,"Cache-Control","max-age=600, must-revalidate"),p})),lazy:!1,middleware:!1,method:void 0},{route:"",handler:()=>import("./chunks/handlers/og.png.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/og-image-html",handler:()=>import("./chunks/handlers/html.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/og-image-options",handler:()=>import("./chunks/handlers/options.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/og-image-svg",handler:()=>import("./chunks/handlers/svg.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/og-image-vnode",handler:()=>import("./chunks/handlers/vnode.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/og-image-font",handler:()=>import("./chunks/handlers/font.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/**",handler:ku,lazy:!0,middleware:!1,method:void 0}];const Pd=function(){const e=G(),n=tu(),r=(e,a={})=>{const c=n.callHookParallel("error",e,a).catch((e=>{console.error("Error while capturing another error",e)}));if(a.event&&Vl(a.event)){const n=a.event.context.nitro?.errors;n&&n.push({error:e,context:a}),a.event.waitUntil&&a.event.waitUntil(c)}},a=Rd({debug:Ie(!1),onError:(e,n)=>(r(e,{event:n,tags:["request"]}),Pp(e,n)),onRequest:async e=>{await Pd.hooks.callHook("request",e).catch((n=>{r(n,{event:e,tags:["request"]})}))},onBeforeResponse:async(e,n)=>{await Pd.hooks.callHook("beforeResponse",e,n).catch((n=>{r(n,{event:e,tags:["request","response"]})}))},onAfterResponse:async(e,n)=>{await Pd.hooks.callHook("afterResponse",e,n).catch((n=>{r(n,{event:e,tags:["request","response"]})}))}}),c=function(e={}){const n=ls({}),a={};let c;const d={},i=(e,c,p)=>{let b=a[e];if(b||(a[e]=b={path:e,handlers:{}},n.insert(e,b)),Array.isArray(p))for(const n of p)i(e,c,n);else b.handlers[p]=Ss(c,0,e);return d};d.use=d.add=(e,n,a)=>i(e,n,a||"all");for(const e of kn)d[e]=(n,a)=>d.add(n,a,e);return d.handler=En((a=>{let d=a.path||"/";const p=d.indexOf("?");-1!==p&&(d=d.slice(0,Math.max(0,p)));const b=n.lookup(d);if(!b||!b.handlers){if(e.preemptive||e.preemtive)throw de({statusCode:404,name:"Not Found",statusMessage:`Cannot find any route matching ${a.path||"/"}.`});return}const y=(a.node.req.method||"get").toLowerCase();let v=b.handlers[y]||b.handlers.all;if(!v){c||(c=cs(n));const e=c.matchAll(d).reverse();for(const n of e){if(n.handlers[y]){v=n.handlers[y],b.handlers[y]=b.handlers[y]||v;break}if(n.handlers.all){v=n.handlers.all,b.handlers.all=b.handlers.all||v;break}}}if(!v){if(e.preemptive||e.preemtive)throw de({statusCode:405,name:"Method Not Allowed",statusMessage:`Method ${y} is not allowed on this route.`});return}a.context.matchedRoute=b;const j=b.params||{};return a.context.params=j,Promise.resolve(v(a)).then((n=>void 0===n&&(e.preemptive||e.preemtive)?null:n))})),d}({preemptive:!0}),d=function(e){return function(n){const a=new Ff,c=new Kf(a);if(a.url=n.url||"/",a.method=n.method||"GET",a.headers={},n.headers){const e="function"==typeof n.headers.entries?n.headers.entries():Object.entries(n.headers);for(const[n,c]of e)c&&(a.headers[n.toLowerCase()]=c)}return a.headers.host=a.headers.host||n.host||"localhost",a.connection.encrypted=a.connection.encrypted||"https"===n.protocol,a.body=n.body||null,a.__unenv__=n.context,e(a,c).then((()=>{let e=c._data;(Yc.has(c.statusCode)||"HEAD"===a.method.toUpperCase())&&(e=null,delete c._headers["content-length"]);const n={body:e,headers:c._headers,status:c.statusCode,statusText:c.statusMessage};return a.destroy(),c.destroy(),n}))}}(tc(a)),p=function(e,n=global.fetch){return async function(a,c){const d=a.toString();if(!d.startsWith("/"))return n(d,c);try{const n=await e({url:d,...c});return new Response(n.body,{status:n.status,statusText:n.statusText,headers:Object.fromEntries(Object.entries(n.headers).map((([e,n])=>[e,Array.isArray(n)?n.join(","):String(n)||""])))})}catch(e){return new Response(e.toString(),{status:Number.parseInt(e.statusCode||e.code)||500,statusText:e.statusText})}}}(d,globalThis.fetch),h=(...e)=>p(...e).then((e=>function(e){return e.headers.has("set-cookie")?new Response(e.body,{status:e.status,statusText:e.statusText,headers:gm(e.headers)}):e}(e))),b=Zs({fetch:h,Headers:Dc,defaults:{baseURL:e.app.baseURL}});globalThis.$fetch=b,a.use(function(e){return En((n=>{const a=aa(n);if(a.headers&&_n(n,a.headers),a.redirect)return _s(n,a.redirect.to,a.redirect.statusCode);if(a.proxy){let c=a.proxy.to;if(c.endsWith("/**")){let e=n.path;const d=a.proxy._proxyStripBase;d&&(e=as(e,d)),c=Se(c.slice(0,-3),e)}else n.path.includes("?")&&(c=Bt(c,is(n.path)));return pd(n,c,{fetch:e.localFetch,...a.proxy})}}))}({localFetch:h})),a.use(En((e=>{e.context.nitro=e.context.nitro||{errors:[]};const n=e.node.req?.__unenv__;n&&Object.assign(e.context,n),e.fetch=(n,a)=>Zl(e,n,a,{fetch:h}),e.$fetch=(n,a)=>Zl(e,n,a,{fetch:b}),e.waitUntil=a=>{e.context.nitro._waitUntilPromises||(e.context.nitro._waitUntilPromises=[]),e.context.nitro._waitUntilPromises.push(a),n?.waitUntil&&n.waitUntil(a)},e.captureError=(n,a)=>{r(n,{event:e,...a})}})));for(const n of jd){let d=n.lazy?ec(n.handler):n.handler;if(n.middleware||!n.route){const c=(e.app.baseURL+(n.route||"/")).replace(/\/+/g,"/");a.use(c,d)}else{const e=Wr(n.route.replace(/:\w+|\*\*/g,"_"));e.cache&&(d=Su(d,{group:"nitro/routes",...e.cache})),c.use(n.route,d,n.method)}}a.use(e.app.baseURL,c.handler);const y={hooks:n,h3App:a,router:c,localCall:d,localFetch:h,captureError:r};for(const e of dd)try{e(y)}catch(e){throw r(e,{tags:["plugin"]}),e}return y}(),xe=()=>Pd;function Fn(e,n,a){const c=Cr(e,n);return c&&"string"==typeof c&&c.toLowerCase().includes(a)}function Bu(e,n){console.error(`[nitro] [${n}]`,e),xe().captureError(e,{tags:[n]})}function Iu(){process.on("unhandledRejection",(e=>Bu(e,"unhandledRejection"))),process.on("uncaughtException",(e=>Bu(e,"uncaughtException")))}function Lu(e){return Array.isArray(e)?e.join(", "):String(e)}function mm(e=""){return Tn(Lu(e))}function gm(e){const n=new Headers;for(const[a,c]of e)if("set-cookie"===a)for(const e of mm(c))n.append("set-cookie",e);else n.set(a,Lu(c));return n}Iu(),n.isPrimary?function(){const a=Number.parseInt(process.env.NITRO_CLUSTER_WORKERS)||(e.cpus().length>0?e.cpus().length:1);for(let p=0;p<a;p++)n.fork();let c=!1;n.on("exit",(()=>{c||n.fork()}));const d=bl();if(!d.disabled){async function o(){c||(c=!0,await new Promise((e=>{const a=setTimeout((()=>{console.warn("[nitro] [cluster] Timeout reached for graceful shutdown. Forcing exit."),e()}),d.timeout);n.on("exit",(()=>{Object.values(n.workers).every((e=>e.isDead()))&&(clearTimeout(a),e())}))})),d.forceExit&&process.exit(0))}for(const b of d.signals)process.once(b,o)}}():import("./chunks/nitro/node-server.mjs").catch((e=>{console.error(e),process.exit(1)}));export{Fc as $,$t as A,ad as B,fe as C,Ot as D,_s as E,ia as F,_f as G,vn as H,xr as I,Lt as J,tu as K,as as L,Nn as M,ea as N,kp as O,Su as P,Bt as Q,jt as R,bf as S,gc as T,Le as U,Tr as V,dc as W,kt as X,Wl as Y,zl as Z,Rf as _,rl as a,Rn as a0,Sl as a1,os as a2,tc as b,Ie as c,Os as d,Iu as e,ws as f,Re as g,En as h,ms as i,he as j,ve as k,Ja as l,sd as m,Pd as n,It as o,Hl as p,xe as q,Jf as r,Xu as s,Ai as t,G as u,Se as v,ys as w,it as x,de as y,aa as z};
